(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return useStyles_gameFrame})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useStyles_gameResultPopup})),__webpack_require__.d(__webpack_exports__,"a",(function(){return absolutePos})),__webpack_require__.d(__webpack_exports__,"e",(function(){return useStyles_shopList})),__webpack_require__.d(__webpack_exports__,"f",(function(){return useStyles_singleShopItem})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useStyles_confirmBuyPopup}));__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9__),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(91);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var useStyles_gameFrame=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a)({root:{position:"relative"}}),useStyles_gameResultPopup=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a)({root:{position:"absolute",top:0,left:0,zIndex:100,justifyContent:"center",alignItems:"center",width:"100%",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.15)"},popup:{margin:"auto",padding:6,boxSizing:"border-box",width:function width(props){return props.maxWidth}},closeBtn:{textAlign:"right","& span":{cursor:"pointer"}}}),absolutePos={position:"absolute",top:0,left:0,bottom:0,right:0,margin:"auto"},useStyles_shopList=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a)({root:_objectSpread({},absolutePos,{width:"100%",height:"100vh",zIndex:10}),back:_objectSpread({},absolutePos,{backgroundColor:"rgba(0, 0, 0, 0.1)"}),shopList:_objectSpread({},absolutePos,{width:420,height:400}),container:{height:360,overflowY:"auto",fontSize:0}}),useStyles_singleShopItem=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a)({root:{display:"inline-block",verticalAlign:"top",width:400/3-20,height:200,margin:10,padding:10,boxSizing:"border-box",textAlign:"center","&:hover":{backgroundColor:"#eee",cursor:"pointer"}},countNumber:{maxWidth:50,backgroundColor:"#777",color:"#fff",borderRadius:1e3},img:{width:"100%",height:"100%"}}),useStyles_confirmBuyPopup=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a)({root:_objectSpread({},absolutePos,{width:200,height:160,padding:6,boxSizing:"border-box","& img":{width:40,height:40}})})},115:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return diceImgSrc})),__webpack_require__.d(__webpack_exports__,"b",(function(){return initLevelData})),__webpack_require__.d(__webpack_exports__,"c",(function(){return shopData_mockData})),__webpack_require__.d(__webpack_exports__,"d",(function(){return shopList_init}));__webpack_require__(45),__webpack_require__(17),__webpack_require__(35),__webpack_require__(48);var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__),diceImgSrc="http://files.softicons.com/download/game-icons/brain-games-icons-by-quizanswers/png/512x512/Board-Games.png",initLevelData=function(levelCount){return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(Array(levelCount).keys()).map((function(lvl){return{id:lvl,level:lvl+1,star:0}}))},shopData_mockData=[{id:0,itemName:"Golden Suit",itemPrice:2e3,itemImgSrc:{url:"https://previews.123rf.com/images/ahasoft2000/ahasoft20001802/ahasoft2000180204219/94894181-spades-suit-golden-digital-coin-icon-vector-style-is-a-gold-yellow-flat-coin-cryptocurrency-symbol-.jpg"},itemBought:0,type:"consumables",isOnlyOne:!0},{id:1,itemName:"Treasure Chest",itemPrice:99999,itemImgSrc:{url:"https://c8.alamy.com/comp/P68281/gold-treasure-chest-flat-icon-game-item-illustration-P68281.jpg"},itemBought:1,type:"consumables",isOnlyOne:!0},{id:2,itemName:"Mushroom",itemPrice:200,itemImgSrc:{url:"https://cdn2.iconfinder.com/data/icons/video-game-color-line/48/video_game_pixel_perfect_color_line_icons_20-mushroom-512.png"},itemBought:5,type:"consumables",isOnlyOne:!1},{id:3,itemName:"Dice",itemPrice:900,itemImgSrc:{url:"http://files.softicons.com/download/game-icons/brain-games-icons-by-quizanswers/png/512x512/Board-Games.png"},itemBought:0,type:"consumables",isOnlyOne:!0}],shopList_init=[{id:0,itemName:"Potion",itemPrice:200,itemImgSrc:{url:"https://image.flaticon.com/icons/svg/129/129094.svg"},itemCount:10,type:"consumables",isOnlyOne:!1},{id:1,itemName:"Bomb",itemPrice:1e3,itemImgSrc:{url:"https://image.flaticon.com/icons/svg/2080/2080648.svg"},itemCount:10,type:"consumables",isOnlyOne:!1}]},128:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StarPart}));__webpack_require__(45),__webpack_require__(17),__webpack_require__(105),__webpack_require__(35),__webpack_require__(48);var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(23),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),react_router_dom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(37),_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(771),_material_ui_icons__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(772),_material_ui_icons__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(773),_material_ui_icons__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(774),_material_ui_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(91),_material_ui_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(54),_material_ui_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(27),_material_ui_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(175),_material_ui_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(278),_material_ui_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(90),useStyles=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_14__.a)({rootPaper:{display:"inline-block"},singleLevelItem:{width:80,height:80,margin:6,textAlign:"center","&:hover":{backgroundColor:"#eee"}},multiLevelContainer:{width:function width(props){return 92*(props.singleRowAmount||4)},minHeight:276,backgroundColor:"#eee",flexWrap:"wrap"},pageDot:{width:10,height:10,margin:4,borderRadius:1e3,cursor:"pointer",backgroundColor:function backgroundColor(props){return props.isActive?"#a00":"#aaa"},"&:hover":{backgroundColor:"#a00"}}}),levelData_mockData=[{id:0,level:1,star:0},{id:1,level:2,star:1},{id:2,level:3,star:2},{id:3,level:4,star:3}],StarPart=function(_ref){var star=_ref.star,starArr=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default()(Array(star).keys()),starOutlineArr=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default()(Array(3-star).keys());return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment,null,starArr.map((function(st){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__.a,{key:st})})),starOutlineArr.map((function(st){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_11__.a,{key:st})})))},SingleLevelItem=function(_ref2){var level=_ref2.level,star=_ref2.star,_ref2$baseUrl=_ref2.baseUrl,baseUrl=void 0===_ref2$baseUrl?"/gameMode/multiLevel/level/":_ref2$baseUrl,_ref2$isComponentView=_ref2.isComponentView,classes=useStyles(),_ref4=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_15__.a,{variant:"h4"},level),_ref5=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(StarPart,{star:star})),MainItem=function(_ref3){var classes=_ref3.classes;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_17__.a,{className:classes.singleLevelItem},_ref4,_ref5)};return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment,null,void 0===_ref2$isComponentView||_ref2$isComponentView?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(MainItem,{classes:classes}):react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.b,{to:baseUrl+level},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(MainItem,{classes:classes})))},PageDot=function(_ref6){var isActive=_ref6.isActive,clickFn=_ref6.clickFn,classes=useStyles({isActive:isActive});return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.a,{className:classes.pageDot,onClick:clickFn})};PageDot.displayName="PageDot";var _ref8=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_12__.a,null),_ref9=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_13__.a,null),MultiLevels=function(_ref7){var baseUrl=_ref7.baseUrl,_ref7$levelData=_ref7.levelData,levelData=void 0===_ref7$levelData?levelData_mockData:_ref7$levelData,isComponentView=_ref7.isComponentView,classes=useStyles({singleRowAmount:4}),_useState=Object(react__WEBPACK_IMPORTED_MODULE_8__.useState)(0),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_6___default()(_useState,2),pageNow=_useState2[0],setPage=_useState2[1],levleDataThisPage=levelData.slice(12*pageNow,12*(pageNow+1)),pages=function(levelData){var levels=levelData.length,pages=Math.ceil(levels/12);return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default()(Array(pages).keys())}(levelData),handleChangePage=Object(react__WEBPACK_IMPORTED_MODULE_8__.useCallback)((function(isNext,page){var maxPage=pages.length-1;setPage("number"==typeof page?page:isNext?function(page){return page+1<=maxPage?page+1:0}:function(page){return 0<=page-1?page-1:maxPage})}),[pageNow]);return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__.a,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_17__.a,{className:classes.rootPaper},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.a,{display:"inline-flex",alignItems:"center"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__.a,{onClick:function onClick(){return handleChangePage(!1)}},_ref8)),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.a,{display:"flex",justifyContent:"flex-start",className:classes.multiLevelContainer},levleDataThisPage.map((function(data){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(SingleLevelItem,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_5___default()({key:data.id,baseUrl:baseUrl,isComponentView:isComponentView},data))}))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.a,{display:"flex",justifyContent:"center"},pages.map((function(page,i){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(PageDot,{key:i,isActive:pageNow===i,clickFn:function clickFn(){return handleChangePage(null,i)}})})))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_16__.a,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__.a,{onClick:function onClick(){return handleChangePage(!0)}},_ref9)))))};MultiLevels.displayName="MultiLevels",__webpack_exports__.b=MultiLevels,StarPart.__docgenInfo={description:"",methods:[],displayName:"StarPart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\multiLevels.js"]={name:"StarPart",docgenInfo:StarPart.__docgenInfo,path:"src\\components\\GameFrame\\multiLevels.js"}),MultiLevels.__docgenInfo={description:"",methods:[],displayName:"MultiLevels",props:{levelData:{defaultValue:{value:"[\r\n  {\r\n    id: 0,\r\n    level: 1,\r\n    star: 0,\r\n  },\r\n  {\r\n    id: 1,\r\n    level: 2,\r\n    star: 1,\r\n  },\r\n  {\r\n    id: 2,\r\n    level: 3,\r\n    star: 2,\r\n  },\r\n  {\r\n    id: 3,\r\n    level: 4,\r\n    star: 3,\r\n  },\r\n]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\multiLevels.js"]={name:"MultiLevels",docgenInfo:MultiLevels.__docgenInfo,path:"src\\components\\GameFrame\\multiLevels.js"})},146:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sticker-littleKuma.e00d4aa0.png"},148:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(33),__webpack_require__(17),__webpack_require__(20);var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(41),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(54),_material_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(27),_multiLevels__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(128),_ref2=react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,{variant:"h4"},"--Result--"),_ref3=react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,null,"failed... :("),_ref4=react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("hr",null),ResultContent=function(_ref){var _ref$content=_ref.content,content=void 0===_ref$content?{}:_ref$content,level=content.level,score=content.score,star=content.star,isPass=content.isPass,bonuses=_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(content,["level","score","star","isPass"]),allBonuses=Object.keys(bonuses);return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.a,null,_ref2,level&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,{variant:"subtitle1"},"clear level: "+level),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,{variant:"subtitle1"},"score: "+score),!isPass&&_ref3,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.a,null,isPass&&"number"==typeof star&&react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_multiLevels__WEBPACK_IMPORTED_MODULE_7__.a,{star:star})),_ref4,react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.a,null,allBonuses.map((function(bonus){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,{variant:"subtitle1"},"".concat(bonus," +").concat(bonuses[bonus]))}))))};ResultContent.displayName="ResultContent",__webpack_exports__.a=ResultContent,ResultContent.__docgenInfo={description:"",methods:[],displayName:"ResultContent",props:{content:{defaultValue:{value:"{}",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\resultContent.js"]={name:"ResultContent",docgenInfo:ResultContent.__docgenInfo,path:"src\\components\\GameFrame\\resultContent.js"})},149:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(78),__webpack_require__(15),__webpack_require__(17),__webpack_require__(20),__webpack_require__(127),__webpack_require__(16);var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(23),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(41),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(27),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(175),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(90),_styles__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(107),_context__WEBPACK_IMPORTED_MODULE_15__=(__webpack_require__(760),__webpack_require__(31)),_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(64),_material_ui_icons__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(414),_shopList__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(97),GameResultPopup=function(_ref){var _ref$maxWidth=_ref.maxWidth,maxWidth=void 0===_ref$maxWidth?300:_ref$maxWidth,closeFn=_ref.closeFn,nextFn=_ref.nextFn,retryFn=_ref.retryFn,props=_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7___default()(_ref,["maxWidth","closeFn","nextFn","retryFn"]),classes=Object(_styles__WEBPACK_IMPORTED_MODULE_13__.d)({maxWidth:maxWidth});return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,{display:"flex",className:classes.root},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.a,{className:classes.popup},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,{className:classes.closeBtn},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span",{onClick:closeFn},"x")),props.children,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,{onClick:retryFn},"retry"),react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,{onClick:nextFn},"next"))))};GameResultPopup.displayName="GameResultPopup";var _ref3=react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_17__.a,null),GameFrame=function(_ref2){var GameComponent=_ref2.GameComponent,PopupComponent=_ref2.PopupComponent,closeFn=_ref2.closeFn,_ref2$consumedItemFns=_ref2.consumedItemFns,consumedItemFns=void 0===_ref2$consumedItemFns?[]:_ref2$consumedItemFns,_ref2$gameOverFns=_ref2.gameOverFns,gameOverFns=void 0===_ref2$gameOverFns?[]:_ref2$gameOverFns,_ref2$resultNextFns=_ref2.resultNextFns,resultNextFns=void 0===_ref2$resultNextFns?[]:_ref2$resultNextFns,props=_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7___default()(_ref2,["GameComponent","PopupComponent","closeFn","consumedItemFns","gameOverFns","resultNextFns"]),_useContext=Object(react__WEBPACK_IMPORTED_MODULE_9__.useContext)(_context__WEBPACK_IMPORTED_MODULE_15__.c),dispatch=_useContext.dispatch,statsInfo=_useContext.statsInfo,shopList=_useContext.shopList,gameRef=Object(react__WEBPACK_IMPORTED_MODULE_9__.useRef)(),gameContainerRef=Object(react__WEBPACK_IMPORTED_MODULE_9__.useRef)(),classes=Object(_styles__WEBPACK_IMPORTED_MODULE_13__.c)(),_useState5=Object(react__WEBPACK_IMPORTED_MODULE_9__.useState)(!1),_useState6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState5,2),showItemList=_useState6[0],setItemListShow=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_9__.useState)(parseInt(localStorage.getItem("gameCoin"))||0),_useState8=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState7,2),gameCoin=_useState8[0],_usePopup=function(){var init=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],setGameCoinFn=1<arguments.length?arguments[1]:void 0,_useState=Object(react__WEBPACK_IMPORTED_MODULE_9__.useState)(init),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState,2),popup=_useState2[0],setPopup=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_9__.useState)({}),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_useState3,2),popupCnt=_useState4[0],setCnt=_useState4[1],open=Object(react__WEBPACK_IMPORTED_MODULE_9__.useCallback)((function(cnt){setCnt(cnt),setPopup(!0);var coin=~~(cnt.score/100);0<=coin&&setGameCoinFn((function(originCoin){return parseInt(originCoin)+coin}))}),[popup]),close=Object(react__WEBPACK_IMPORTED_MODULE_9__.useCallback)((function(){setPopup(!1)}),[popup]),toggle=Object(react__WEBPACK_IMPORTED_MODULE_9__.useCallback)((function(){setPopup(!popup)}),[popup]);return[popup,open,close,toggle,popupCnt]}(!1,_useState8[1]),_usePopup2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_8___default()(_usePopup,5),popup=_usePopup2[0],open=_usePopup2[1],close=_usePopup2[2],popupCnt=(_usePopup2[3],_usePopup2[4]),handleNext=Object(react__WEBPACK_IMPORTED_MODULE_9__.useCallback)((function(){0<resultNextFns.length?(resultNextFns.forEach((function(fn){return fn()})),gameRef&&gameRef.current.handleResetGame()):gameRef&&gameRef.current.handleNext()}),[resultNextFns]),handleClose=Object(react__WEBPACK_IMPORTED_MODULE_9__.useCallback)((function(){close(),closeFn&&closeFn()}),[closeFn]);Object(react__WEBPACK_IMPORTED_MODULE_9__.useEffect)((function(){localStorage.setItem("gameCoin",gameCoin)}),[gameCoin]);var consumedItemFnsWithGameRef=consumedItemFns.map((function(fn){return"function"==typeof fn?fn(gameRef):fn}));return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,{className:classes.root},react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,{onClick:function onClick(){return setItemListShow(!showItemList)}},_ref3),showItemList&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_shopList__WEBPACK_IMPORTED_MODULE_18__.a,{isShop:!1,consumedItemFns:consumedItemFnsWithGameRef,closeFn:function(){return setItemListShow(!1)}}),GameComponent&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(GameComponent,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_6___default()({ref:gameContainerRef,mainGameRef:gameRef,isOver:popup,overFn:function handleOver(){var resultContent=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};open(resultContent);var resultNames=Object.keys(resultContent),allStatNames=statsInfo?statsInfo.map((function(stat){return stat.statName})):[],allShopItemNames=shopList?shopList.map((function(item){return item.itemName})):[];dispatch&&resultNames.forEach((function(name){if(allStatNames.find((function(stat){return stat===name}))&&dispatch(Object(_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_16__.a)(name,resultContent[name])),allShopItemNames.find((function(item){return item===name}))){var id=shopList.find((function(item){return item.itemName===name})).id;dispatch(Object(_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_16__.b)(id,resultContent[name]))}})),gameOverFns.forEach((function(fn){return fn(resultContent)})),gameRef&&gameRef.current.handleResetGame()}},props)),popup&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(GameResultPopup,{closeFn:handleClose,nextFn:handleNext,retryFn:function handleRetry(){gameRef&&gameRef.current.handleResetGame(),gameContainerRef&&gameContainerRef.current.startGame(),close()}},PopupComponent&&react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(PopupComponent,{content:popupCnt})))};GameFrame.displayName="GameFrame",__webpack_exports__.a=GameFrame,GameFrame.__docgenInfo={description:"",methods:[],displayName:"GameFrame",props:{consumedItemFns:{defaultValue:{value:"[]",computed:!1},required:!1},gameOverFns:{defaultValue:{value:"[]",computed:!1},required:!1},resultNextFns:{defaultValue:{value:"[]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\index.js"]={name:"GameFrame",docgenInfo:GameFrame.__docgenInfo,path:"src\\components\\GameFrame\\index.js"})},207:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GameStatsFrameWithCtx}));__webpack_require__(19),__webpack_require__(33),__webpack_require__(22),__webpack_require__(78),__webpack_require__(15),__webpack_require__(17),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16);var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(23),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13__),react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),_material_ui_icons__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(415),_material_ui_icons__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(778),_material_ui_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(91),_material_ui_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(27),_material_ui_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(54),_material_ui_core__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(278),_material_ui_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(90),_context__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(31),_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(64),_Timer__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(96),_config__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(38),_styles__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(107);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var useStyles_singleStatItem=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_17__.a)({root:{width:100,margin:6,padding:6,borderRadius:3,backgroundColor:"#eee"},statNumber:{marginLeft:6},coinStat:{width:24,height:24,borderRadius:100,backgroundColor:"#fc0","& svg":{width:18,height:18}}}),useStyles_statBar=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_17__.a)({root:{position:"absolute",top:5,left:15,width:110,height:30,backgroundColor:"#eee",borderRadius:3,border:"2px solid #555",boxSizing:"border-box"},statNumber:{position:"absolute",top:0,left:0,width:function width(props){return 110*props.percentage},height:"100%",transition:"0.3s",backgroundColor:"#555",borderRadius:3}}),useStyles_levelAndExp=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_17__.a)({root:{position:"relative",width:130,padding:6,margin:6},levelStat:{position:"absolute",top:0,left:0,width:40,height:40,backgroundColor:"#888",border:"2px solid #111",color:"#fff",borderRadius:1e3,boxSizing:"border-box",fontSize:24},expText:function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({width:"100%",textAlign:"center"},_styles__WEBPACK_IMPORTED_MODULE_26__.a,{top:32})}),StatBar=function(_ref){var numberNow=_ref.numberNow,numberMax=_ref.numberMax,classes=useStyles_statBar({percentage:1<=numberNow/numberMax?1:numberNow/numberMax});return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__.a,{className:classes.root},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__.a,{className:classes.statNumber}))};StatBar.displayName="StatBar";var LevelAndExpStat=function(_ref2){var levelNumber=_ref2.levelNumber,expNumber=_ref2.expNumber,levelUpExp=Object(_config__WEBPACK_IMPORTED_MODULE_25__.c)(levelNumber),classes=useStyles_levelAndExp();return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__.a,{className:classes.root},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(StatBar,{numberNow:expNumber,numberMax:levelUpExp}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__.a,{className:classes.levelStat,display:"flex",justifyContent:"center",alignItems:"center"},levelNumber),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__.a,{className:classes.expText},"".concat(expNumber," / ").concat(levelUpExp)))};LevelAndExpStat.displayName="LevelAndExpStat";var _ref3=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_15__.a,{htmlColor:"#f00"}),_ref4=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_16__.a,null),_ref5=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_15__.a,null),SingleStatItem=function(_ref6){var statName=_ref6.statName,statNumber=_ref6.statNumber,dispatch=Object(react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_22__.c).dispatch,classes=useStyles_singleStatItem(),handleTimeout=Object(react__WEBPACK_IMPORTED_MODULE_14__.useCallback)((function(){dispatch&&statNumber<_config__WEBPACK_IMPORTED_MODULE_25__.d&&dispatch(Object(_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_23__.a)(_config__WEBPACK_IMPORTED_MODULE_25__.a.life,1))}),[statNumber]),showRecoverTimer=statName===_config__WEBPACK_IMPORTED_MODULE_25__.a.life&&statNumber<_config__WEBPACK_IMPORTED_MODULE_25__.d;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__.a,{className:classes.root,display:"flex",alignItems:"center"},function(statName,classes){return statName===_config__WEBPACK_IMPORTED_MODULE_25__.a.life?_ref3:statName===_config__WEBPACK_IMPORTED_MODULE_25__.a.coin?react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__.a,{className:classes.coinStat,display:"flex",justifyContent:"center",alignItems:"center"},_ref4):_ref5}(statName,classes),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__.a,{variant:"h5",className:classes.statNumber},statNumber),showRecoverTimer&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_Timer__WEBPACK_IMPORTED_MODULE_24__.a,{time:60*_config__WEBPACK_IMPORTED_MODULE_25__.e,timeoutFn:handleTimeout}))};SingleStatItem.displayName="SingleStatItem";var GameStatsFrame=function(_ref7){var statsInfo=_ref7.statsInfo,levelStat=statsInfo.find((function(st){return st.statName===_config__WEBPACK_IMPORTED_MODULE_25__.a.level})),expStat=statsInfo.find((function(st){return st.statName===_config__WEBPACK_IMPORTED_MODULE_25__.a.exp}));return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__.a,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_18__.a,{display:"flex"},statsInfo.map((function(st,i){return st.statName!==_config__WEBPACK_IMPORTED_MODULE_25__.a.exp&&st.statName!==_config__WEBPACK_IMPORTED_MODULE_25__.a.level?react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(SingleStatItem,{key:i,statName:st.statName,statNumber:st.statNumber}):null})),levelStat&&expStat&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(LevelAndExpStat,{levelNumber:levelStat.statNumber,expNumber:expStat.statNumber})))};GameStatsFrame.displayName="GameStatsFrame";var GameStatsFrameWithCtx=function(props){var statsInfo=Object(react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_22__.c).statsInfo;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(GameStatsFrame,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12___default()({},props,{statsInfo:statsInfo}))};GameStatsFrameWithCtx.displayName="GameStatsFrameWithCtx";var ButtonsForTest=function(){var dispatch=Object(react__WEBPACK_IMPORTED_MODULE_14__.useContext)(_context__WEBPACK_IMPORTED_MODULE_22__.c).dispatch;return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_21__.a,{onClick:function handleAddLife(){dispatch&&dispatch(Object(_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_23__.a)("life",1))}},"add life +1 "),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_21__.a,{onClick:function handleMinusLife(){dispatch&&dispatch(Object(_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_23__.d)("life",5,alert))}},"minus life -5 "),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_21__.a,{onClick:function handleAddExp(){dispatch&&dispatch(Object(_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_23__.a)("exp",10))}},"add exp + 10"))},GameStatsFrameWithCtxWrapper=function(props){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_context__WEBPACK_IMPORTED_MODULE_22__.b,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(GameStatsFrameWithCtx,props),props.children)};GameStatsFrameWithCtxWrapper.displayName="GameStatsFrameWithCtxWrapper";GameStatsFrameWithCtx.__docgenInfo={description:"",methods:[],displayName:"GameStatsFrameWithCtx"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\gameStats\\index.js"]={name:"GameStatsFrameWithCtx",docgenInfo:GameStatsFrameWithCtx.__docgenInfo,path:"src\\components\\GameFrame\\gameStats\\index.js"}),ButtonsForTest.__docgenInfo={description:"",methods:[],displayName:"ButtonsForTest"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\gameStats\\index.js"]={name:"ButtonsForTest",docgenInfo:ButtonsForTest.__docgenInfo,path:"src\\components\\GameFrame\\gameStats\\index.js"}),GameStatsFrameWithCtxWrapper.__docgenInfo={description:"",methods:[],displayName:"GameStatsFrameWithCtxWrapper"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\gameStats\\index.js"]={name:"GameStatsFrameWithCtxWrapper",docgenInfo:GameStatsFrameWithCtxWrapper.__docgenInfo,path:"src\\components\\GameFrame\\gameStats\\index.js"})},208:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ApolloProviderWrapper}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_router_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(37),apollo_cache_inmemory__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(411),apollo_link_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(412),_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60),apollo_boost__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(116),link=Object(apollo_link_http__WEBPACK_IMPORTED_MODULE_3__.a)({uri:"https://intense-brushlands-46000.herokuapp.com"}),cache=new apollo_cache_inmemory__WEBPACK_IMPORTED_MODULE_2__.a,client=new apollo_boost__WEBPACK_IMPORTED_MODULE_5__.a({cache:cache,link:link}),ApolloProviderWrapper=function(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_4__.a,{client:client},props.children)};ApolloProviderWrapper.displayName="ApolloProviderWrapper";var RouterWrapper=function(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.a,null,props.children)};RouterWrapper.displayName="RouterWrapper",ApolloProviderWrapper.__docgenInfo={description:"",methods:[],displayName:"ApolloProviderWrapper"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories\\API.js"]={name:"ApolloProviderWrapper",docgenInfo:ApolloProviderWrapper.__docgenInfo,path:"stories\\API.js"}),RouterWrapper.__docgenInfo={description:"",methods:[],displayName:"RouterWrapper"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories\\API.js"]={name:"RouterWrapper",docgenInfo:RouterWrapper.__docgenInfo,path:"stories\\API.js"})},21:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return apiUrl})),__webpack_require__.d(__webpack_exports__,"k",(function(){return signUp})),__webpack_require__.d(__webpack_exports__,"j",(function(){return logInAndSetInfo})),__webpack_require__.d(__webpack_exports__,"c",(function(){return QUERY_SHOP_LIST})),__webpack_require__.d(__webpack_exports__,"g",(function(){return UPDATE_USER_BUY_LIST})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CREATE_USER_BUY_LIST})),__webpack_require__.d(__webpack_exports__,"d",(function(){return QUERY_USERS})),__webpack_require__.d(__webpack_exports__,"f",(function(){return UPDATE_USER})),__webpack_require__.d(__webpack_exports__,"e",(function(){return QUERY_USER_EMOTES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return CREATE_USER_EMOTE_LIST})),__webpack_require__.d(__webpack_exports__,"m",(function(){return updateUserBuyListFn})),__webpack_require__.d(__webpack_exports__,"i",(function(){return createUserBuyListFn})),__webpack_require__.d(__webpack_exports__,"n",(function(){return updateUserFn}));__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(88),_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__),graphql_tag__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(89),graphql_tag__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_11__),strapi_sdk_javascript_build_main__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(211);function _templateObject8(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default()(["\n  mutation CREATE_USER_EMOTE_LIST($data: UseremotelistInput) {\n    createUseremotelist(input: {\n      data: $data\n    }) {\n      useremotelist {\n        emoteId\n      }\n    }\n  }"]);return _templateObject8=function(){return data},data}function _templateObject7(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default()(['\n  query QUERY_USER_EMOTES($userWhere: JSON) {\n    useremotelists(where: $userWhere, sort: "emoteId") {\n      emoteId\n    }\n    emotes {\n      id\n      emoteName\n      emoteImg {\n        url\n      }\n    }\n  }']);return _templateObject7=function(){return data},data}function _templateObject6(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default()(["\n  mutation UPDATE_USER($id: ID!, $point: Int) {\n    updateUser(input: {\n      where: {\n        id: $id\n      },\n      data: {\n        point: $point\n      }\n    }) {\n      user {\n        id\n        username\n        point\n        rank\n      }\n    }\n  }"]);return _templateObject6=function(){return data},data}function _templateObject5(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default()(["\n  query QUERY_USERS($userWhere: JSON) {\n    users(where: $userWhere) {\n      id\n      username\n      point\n      rank\n    }\n  }"]);return _templateObject5=function(){return data},data}function _templateObject4(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default()(["\n  query QUERY_USER($id: ID!) {\n    user(id: $id) {\n      username\n      point\n      rank\n    }\n  }"]);return _templateObject4=function(){return data},data}function _templateObject3(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default()(["\n  mutation createUserBuyList($data: UserbuylistInput) {\n    createUserbuylist(input: {\n      data: $data\n    }) {\n      userbuylist {\n        username\n        id\n        itemId\n        itemCount\n      }\n    }\n  }"]);return _templateObject3=function(){return data},data}function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default()(["\n  mutation updateUserBuyList($id: ID!, $itemCount: Int!) {\n    updateUserbuylist(input: {\n      where: {\n        id: $id\n      },\n      data: {\n        itemCount: $itemCount\n      }\n    }) {\n      userbuylist {\n        id\n        itemId\n        itemCount\n      }\n    }\n  }"]);return _templateObject2=function(){return data},data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_9___default()(['\n  query shopLists($userWhere: JSON) {\n    shoplists {\n      id\n      type\n      itemName\n      itemPrice\n      isOnlyOne\n      itemImgSrc {\n        url\n      }\n      emote {\n        id\n        emoteImg {\n          url\n        }\n      }\n    }\n    userbuylists(where: $userWhere, sort: "itemId") {\n      id\n      itemId\n      itemCount\n    }\n    useremotelists(where: $userWhere, sort: "emoteId") {\n      emoteId\n    }\n  }']);return _templateObject=function(){return data},data}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var apiUrl="https://intense-brushlands-46000.herokuapp.com",strapi=new(__webpack_require__.n(strapi_sdk_javascript_build_main__WEBPACK_IMPORTED_MODULE_12__).a)(apiUrl),signUp=function(sameUsernames,registerRequest,setErr,setUserInfo){try{var username=registerRequest.username,email=registerRequest.email,password=registerRequest.password;if(0<sameUsernames.length)throw{message:"Username have been used!"};return strapi.register(username,email,password).then((function(res){console.log(res);var id=res.id,user=res.user;return localStorage.setItem("username",user.username),localStorage.setItem("userId",id),setUserInfo(_objectSpread({},user,{isLoggedIn:!0})),user})).catch((function(e){return setErr(e.message)}))}catch(e){setErr(e.message)}},logInAndSetInfo=function(username,pwd,setErrFn,setFn){(function(username,pwd,setErr){return strapi.login(username,pwd).then((function(res){var user=res.user;return localStorage.setItem("USER_NAME",user.username),localStorage.setItem("USER_ID",user.id),user})).catch((function(e){setErr&&setErr(e.message)}))})(username,pwd,setErrFn).then((function(user){!function(user,setFn){setFn({id:user.id,username:user.username,point:user.point,rank:user.rank,isLoggedIn:!0})}(user,setFn)}))},QUERY_SHOP_LIST=graphql_tag__WEBPACK_IMPORTED_MODULE_11___default()(_templateObject()),UPDATE_USER_BUY_LIST=graphql_tag__WEBPACK_IMPORTED_MODULE_11___default()(_templateObject2()),CREATE_USER_BUY_LIST=graphql_tag__WEBPACK_IMPORTED_MODULE_11___default()(_templateObject3()),QUERY_USERS=(graphql_tag__WEBPACK_IMPORTED_MODULE_11___default()(_templateObject4()),graphql_tag__WEBPACK_IMPORTED_MODULE_11___default()(_templateObject5())),UPDATE_USER=graphql_tag__WEBPACK_IMPORTED_MODULE_11___default()(_templateObject6()),QUERY_USER_EMOTES=graphql_tag__WEBPACK_IMPORTED_MODULE_11___default()(_templateObject7()),CREATE_USER_EMOTE_LIST=graphql_tag__WEBPACK_IMPORTED_MODULE_11___default()(_templateObject8()),updateUserBuyListFn=function(updateUserBuyListMutation,cancelFn,_ref){return updateUserBuyListMutation({variables:{id:_ref.userbuylistId,itemCount:_ref.itemCount+_ref.numCount}}).then((function(){return cancelFn()}))},createUserBuyListFn=function(createUserBuyListMutation,createUserEmoteListMutation,cancelFn,_ref2){var username=_ref2.username,itemId=_ref2.itemId,numCount=_ref2.numCount,emoteId=_ref2.emoteId;return createUserBuyListMutation({variables:{data:{username:username,itemId:itemId,itemCount:numCount}}}).then((function(res){return emoteId&&createUserEmoteListMutation({variables:{data:{username:username,emoteId:emoteId}}}),res})).then((function(){return cancelFn()}))},updateUserFn=function(updateUserMutation,setUserInfoFn,_ref3){var userInfo=_ref3.userInfo,remainPoints=_ref3.remainPoints;return updateUserMutation({variables:{id:userInfo.id,point:remainPoints}}).then((function(res){setUserInfoFn(_objectSpread({},userInfo,{point:res.data.updateUser.user.point}))}))}},216:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return mergeItemCountShopLists})),__webpack_require__.d(__webpack_exports__,"a",(function(){return mergeEmoteLists}));__webpack_require__(19),__webpack_require__(22),__webpack_require__(78),__webpack_require__(15),__webpack_require__(125),__webpack_require__(17),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_12___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var mergeItemCountShopLists=function(data){for(var shoplists=data.shoplists,userbuylists=data.userbuylists,userEmoteIdLists=data.useremotelists.map((function(emote){return emote.emoteId})),newShopLists=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13___default()(shoplists),i=0;i<userbuylists.length;i++){var _userbuylists$i=userbuylists[i],id=_userbuylists$i.id,itemId=_userbuylists$i.itemId,itemCount=_userbuylists$i.itemCount;newShopLists[itemId-1]=_objectSpread({},newShopLists[itemId-1],{itemCount:itemCount,userbuylistId:id})}for(var emote,_i=0;_i<newShopLists.length;_i++)if(emote=newShopLists[_i].emote){var itemCountFromData=-1===userEmoteIdLists.indexOf(emote.id)?0:1;newShopLists[_i]=_objectSpread({},newShopLists[_i],{emoteId:emote.id,itemCount:1===newShopLists[_i].itemCount?1:itemCountFromData})}return newShopLists},mergeEmoteLists=function(apiUrl,userEmoteLists,emotes){for(var newEmoteLists=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_13___default()(userEmoteLists),_loop=function(i){var emoteId=userEmoteLists[i].emoteId,targetEmote=emotes.find((function(emo){return emo.id===emoteId}));newEmoteLists[i]=_objectSpread({},targetEmote,{imgSrc:apiUrl+targetEmote.emoteImg.url})},i=0;i<userEmoteLists.length;i++)_loop(i);return newEmoteLists}},217:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return allShopItems})),__webpack_require__.d(__webpack_exports__,"b",(function(){return jewelShopList_init}));var allShopItems={Potion:"Potion",Bomb:"Bomb",Thunder:"Thunder"},jewelShopList_init=[{id:0,itemName:"Potion",itemPrice:200,itemImgSrc:{url:"https://image.flaticon.com/icons/svg/129/129094.svg"},itemCount:10,type:"consumables",isOnlyOne:!1},{id:1,itemName:"Bomb",itemPrice:1e3,itemImgSrc:{url:"https://image.flaticon.com/icons/svg/2080/2080648.svg"},itemCount:10,type:"consumables",isOnlyOne:!1},{id:2,itemName:"Thunder",itemPrice:2e3,itemImgSrc:{url:"https://cdn2.iconfinder.com/data/icons/circle-icons-1/64/bolt-512.png"},itemCount:0,type:"consumables",isOnlyOne:!1}]},218:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(17);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_material_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(91),_material_ui_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27),_material_ui_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(54),useStyles=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__.a)({jewelPartContainer:{margin:6},jewelPartSingleJewel:{width:24,height:24,borderRadius:3,margin:3,backgroundColor:function backgroundColor(props){return props.color}}}),SingleReqJewel=function(_ref){var color=_ref.color,classes=useStyles({color:color});return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{className:classes.jewelPartSingleJewel})};SingleReqJewel.displayName="SingleReqJewel";var JewelsRequirePart=function(_ref2){var jewels=_ref2.jewels,classes=useStyles();return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,null,jewels.map((function(jewel,i){var color=jewel.color,amount=jewel.amount;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{key:i,className:classes.jewelPartContainer,display:"inline-flex",alignItems:"center"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SingleReqJewel,{color:color}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.a,null," x ".concat(amount)))})))};JewelsRequirePart.displayName="JewelsRequirePart",__webpack_exports__.a=JewelsRequirePart,JewelsRequirePart.__docgenInfo={description:"",methods:[],displayName:"JewelsRequirePart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Jewel\\jewelsRequirePart.js"]={name:"JewelsRequirePart",docgenInfo:JewelsRequirePart.__docgenInfo,path:"src\\components\\Jewel\\jewelsRequirePart.js"})},219:function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),config=__webpack_require__(32),makeStyles=__webpack_require__(91),InputLabel=__webpack_require__(822),MenuItem=__webpack_require__(823),FormControl=__webpack_require__(812),Select=__webpack_require__(819),Paper=__webpack_require__(175),Box=__webpack_require__(27),Button=__webpack_require__(90),Typography=__webpack_require__(54),Divider=__webpack_require__(815),Timer=__webpack_require__(96),defineProperty=(__webpack_require__(19),__webpack_require__(22),__webpack_require__(206),__webpack_require__(15),__webpack_require__(17),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(127),__webpack_require__(16),__webpack_require__(8)),defineProperty_default=__webpack_require__.n(defineProperty),toConsumableArray=__webpack_require__(3),toConsumableArray_default=__webpack_require__.n(toConsumableArray);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var basicBlockStyle={display:"inline-block",verticalAlign:"top",width:config.b,height:config.b,margin:"-1px 0px 0px -1px",boxSizing:"border-box",textAlign:"center",border:"1px solid transparent",userSelect:"none"},useStyles=Object(makeStyles.a)({tableCell:function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},basicBlockStyle,{border:function border(props){return props.isBlock?"1px solid #aaa":"none"},backgroundColor:function backgroundColor(props){return props.isCorrect?"#83cff2":props.isBlock?"#fff":"transparent"},fontSize:32,fontWeight:200,"&:hover":{backgroundColor:"rgba(100, 100, 100, 0.15)"}}),tableInput:{display:"inline-block",width:config.b-20,height:config.b-16,marginTop:8,fontSize:32,fontWeight:300,textAlign:"center",color:config.i,borderWidth:0,cursor:"pointer",outline:"none"}}),SingleBlockItem=function(_ref){var index=_ref.index,type=_ref.type,number=_ref.number,isBlock=_ref.isBlock,isCorrect=_ref.isCorrect,setBlankInput=_ref.setBlankInput,classes=useStyles({isBlock:isBlock,isCorrect:isCorrect});return react_default.a.createElement(Box.a,{className:classes.tableCell},"blanked"===type?react_default.a.createElement("input",{onChange:function onChange(e){return setBlankInput(e,index)},className:classes.tableInput,type:"text",value:number}):number)};SingleBlockItem.displayName="SingleBlockItem";var singleBlockItem=SingleBlockItem;function singleOperationItem_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}SingleBlockItem.__docgenInfo={description:"",methods:[],displayName:"SingleBlockItem"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GARAM\\singleBlockItem.js"]={name:"SingleBlockItem",docgenInfo:SingleBlockItem.__docgenInfo,path:"src\\components\\GARAM\\singleBlockItem.js"});var singleOperationItem_useStyles=Object(makeStyles.a)({operationBlock:function singleOperationItem_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?singleOperationItem_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):singleOperationItem_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},basicBlockStyle,{fontSize:25,textAlign:"center",fontWeight:900,lineHeight:"".concat(config.b-4,"px")})}),SingleOperationItem=function(_ref){var operation=_ref.operation,classes=singleOperationItem_useStyles();return react_default.a.createElement(Box.a,{className:classes.operationBlock},operation)};SingleOperationItem.displayName="SingleOperationItem";var singleOperationItem=SingleOperationItem;function garamMainGame_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function garamMainGame_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?garamMainGame_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):garamMainGame_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}SingleOperationItem.__docgenInfo={description:"",methods:[],displayName:"SingleOperationItem"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GARAM\\singleOperationItem.js"]={name:"SingleOperationItem",docgenInfo:SingleOperationItem.__docgenInfo,path:"src\\components\\GARAM\\singleOperationItem.js"});var garamMainGame_useStyles=Object(makeStyles.a)({gamePart:{position:"relative",width:7*config.b,height:9*config.b,fontSize:0},operationRow:{position:"absolute",width:"100%",top:0,left:config.b/2,zIndex:2},operationColumn:{position:"absolute",width:"100%",top:config.b/2-1,left:0,zIndex:2},numberBlocks:{position:"absolute",width:"100%",top:0,left:0,zIndex:10},numberBlocksOutline:{position:"absolute",width:"100%",top:0,left:0}}),getDataByDifficulty=function(difficulty){return emptyAmount=Object(config.e)(difficulty),posibleTwoDigitsNums=Object(config.a)(),nums=Object(config.f)(posibleTwoDigitsNums),blocks=Object(config.c)(nums),operations=blocks.operations,numbers=blocks.numbers,_randomBlankNumbers=Object(config.j)(numbers,emptyAmount),{operations:operations,numbers:_randomBlankNumbers.numbersData,blankedNumbersForCheck:_randomBlankNumbers.blankedNumbersForCheck};var emptyAmount,posibleTwoDigitsNums,nums,blocks,operations,numbers,_randomBlankNumbers},GaramMainGame=function(_ref,ref){var _ref$gameMode=_ref.gameMode,gameMode=void 0===_ref$gameMode?"limitTime":_ref$gameMode,difficulty=_ref.difficulty,timerPause=_ref.timerPause,gameOverFn=_ref.gameOverFn,setClearedLevelFn=_ref.setClearedLevelFn;console.log(difficulty);var classes=garamMainGame_useStyles(),_useState=Object(react.useState)(0),_useState2=slicedToArray_default()(_useState,2),clearedLevel=_useState2[0],setLevel=_useState2[1],_useState3=Object(react.useState)(getDataByDifficulty(difficulty)),_useState4=slicedToArray_default()(_useState3,2),allNumbersData=_useState4[0],setData=_useState4[1],operations=allNumbersData.operations,numbers=allNumbersData.numbers,blankedNumbersForCheck=allNumbersData.blankedNumbersForCheck,opeRes_rowCenter=operations.opeRes_rowCenter,opeRes_columnCenter=operations.opeRes_columnCenter;console.log(blankedNumbersForCheck);var handleBlankInput=Object(react.useCallback)((function(e,idx){var newNumbers=toConsumableArray_default()(numbers),newBlanked=toConsumableArray_default()(blankedNumbersForCheck),value=e.target.value,newValue=value[value.length-1],isUndefined=void 0===newValue;if(!isNaN(parseInt(newValue))||isUndefined){var newNumInput=isUndefined?"":newValue;newNumbers[idx]=garamMainGame_objectSpread({},newNumbers[idx],{number:newNumInput});var blankIdx=newBlanked.findIndex((function(blank){return blank.index===idx}));newBlanked[blankIdx].number=newNumInput,setData(garamMainGame_objectSpread({},allNumbersData,{numbers:newNumbers,blankedNumbersForCheck:newBlanked}))}}),[allNumbersData]),handleSetData=Object(react.useCallback)((function(){setData(getDataByDifficulty(difficulty))}),[difficulty]),handleNextGaram=Object(react.useCallback)((function(){setClearedLevelFn((function(lvl){return lvl+1})),handleSetData()}),[clearedLevel,difficulty]);return Object(react.useEffect)((function(){handleSetData()}),[difficulty]),Object(react.useEffect)((function(){(function(blankNums){for(var i=0;i<blankNums.length;i++){var _blankNums$i=blankNums[i];if(_blankNums$i.answer+""!=_blankNums$i.number+"")return!1}return!0})(allNumbersData.blankedNumbersForCheck)&&("speedMode"===gameMode||"multiLevel"===gameMode?gameOverFn(function(){var level=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return{level:level,score:1e3*level}}(clearedLevel)):"limitTime"===gameMode&&handleNextGaram())}),[allNumbersData]),Object(react.useImperativeHandle)(ref,(function(){return{handleNext:function handleNext(){handleNextGaram(),setLevel(0)},handleResetGame:handleSetData}})),react_default.a.createElement(Box.a,{className:classes.gamePart},react_default.a.createElement(Box.a,{className:classes.operationRow},opeRes_rowCenter.map((function(ope,i){return react_default.a.createElement(singleOperationItem,{key:i,operation:ope})}))),react_default.a.createElement(Box.a,{className:classes.operationColumn},opeRes_columnCenter.map((function(ope,i){return react_default.a.createElement(singleOperationItem,{key:i,operation:ope})}))),!timerPause&&react_default.a.createElement(Box.a,{className:classes.numberBlocks},numbers.map((function(data,i){var type=data.type,number=data.number,answer=data.answer,isCorrect=parseInt(answer)===parseInt(number);return react_default.a.createElement(singleBlockItem,{key:i,index:i,type:type,number:number,isBlock:!1,isCorrect:isCorrect,setBlankInput:handleBlankInput})}))),react_default.a.createElement(Box.a,{className:classes.numberBlocksOutline},numbers.map((function(num,i){return react_default.a.createElement(singleBlockItem,{key:i,isBlock:"empty"!==num.type})}))))};GaramMainGame.displayName="GaramMainGame";var garamMainGame=Object(react.forwardRef)(GaramMainGame);GaramMainGame.__docgenInfo={description:"",methods:[],displayName:"GaramMainGame",props:{gameMode:{defaultValue:{value:"'limitTime'",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GARAM\\garamMainGame.js"]={name:"GaramMainGame",docgenInfo:GaramMainGame.__docgenInfo,path:"src\\components\\GARAM\\garamMainGame.js"});var getSpeedModeResultContent=config.g.getSpeedModeResultContent,GARAM_getResultContent=config.g.getResultContent,getMultiLevelResultStarContent=config.g.getMultiLevelResultStarContent,GARAM_useStyles=Object(makeStyles.a)({root:{width:7*config.b,margin:"auto",padding:30,textAlign:"center",backgroundColor:"#f2ffff"},gameHead:{minWidth:7*config.b+20,alignItems:"center"},divider:{margin:"10px 0px",height:1.5},chooseDiff:{minWidth:120}}),_ref2=react_default.a.createElement(InputLabel.a,{htmlFor:"difficulty"},"difficulty"),_ref3=react_default.a.createElement(MenuItem.a,{value:"easy"},"easy"),_ref4=react_default.a.createElement(MenuItem.a,{value:"medium"},"medium"),_ref5=react_default.a.createElement(MenuItem.a,{value:"hard"},"hard"),DifficultySelects=function(_ref){var difficulty=_ref.difficulty,changeFn=_ref.changeFn,classes=GARAM_useStyles();return react_default.a.createElement(FormControl.a,{className:classes.chooseDiff},_ref2,react_default.a.createElement(Select.a,{value:difficulty,onChange:changeFn},_ref3,_ref4,_ref5))};DifficultySelects.displayName="DifficultySelects";var GARAM=function(_ref6){var mainGameRef=_ref6.mainGameRef,_ref6$gameMode=_ref6.gameMode,gameMode=void 0===_ref6$gameMode?"speedMode":_ref6$gameMode,level=_ref6.level,overFn=_ref6.overFn,setLevelDataFn=_ref6.setLevelDataFn,classes=GARAM_useStyles(),timerRef=Object(react.useRef)(),_useState=Object(react.useState)(!0),_useState2=slicedToArray_default()(_useState,2),timerPause=_useState2[0],setTimerPause=_useState2[1],_useState3=Object(react.useState)(0),_useState4=slicedToArray_default()(_useState3,2),clearedLevel=_useState4[0],setLevel=_useState4[1],_useState5=Object(react.useState)(""),_useState6=slicedToArray_default()(_useState5,2),difficulty=_useState6[0],setDiff=_useState6[1],handleTimerOver=Object(react.useCallback)((function(){setTimerPause(!0),setLevel(0),"limitMode"===gameMode&&overFn(GARAM_getResultContent(clearedLevel)),timerRef&&timerRef.current.resetTimer()}),[gameMode,clearedLevel]),handleStart=Object(react.useCallback)((function(){difficulty?setTimerPause(!timerPause):window.alert("choose difficulty first~")}),[difficulty,timerPause]),handleGameOver=Object(react.useCallback)((function(){if("speedMode"===gameMode||"multiLevel"===gameMode){var time=timerRef.current.getTimerTime();if(console.log(time),handleTimerOver(),"multiLevel"===gameMode){var result=getMultiLevelResultStarContent(difficulty,level,time);overFn(result),setLevelDataFn(result)}else overFn(getSpeedModeResultContent(difficulty,time))}}),[level,timerRef,gameMode]);return Object(react.useEffect)((function(){if("number"==typeof level){var diff=Object(config.d)(level);setDiff(diff)}timerRef&&timerRef.current.resetTimer()}),[]),react_default.a.createElement(Paper.a,{className:classes.root},"multiLevel"!==gameMode&&react_default.a.createElement(DifficultySelects,{difficulty:difficulty,changeFn:function handleChange(e){var value=e.target.value;setDiff(value)}}),react_default.a.createElement(Box.a,null,"limitTime"===gameMode?react_default.a.createElement(Timer.b,{ref:timerRef,time:config.h,timeoutFn:handleTimerOver,isPause:timerPause}):react_default.a.createElement(Timer.b,{ref:timerRef,time:0,countDown:!1,isPause:timerPause}),react_default.a.createElement(Button.a,{onClick:handleStart},timerPause?"Start":"Pause"),react_default.a.createElement(Button.a,{onClick:function onClick(){timerRef.current.resetTimer()}},"reset")),"limitTime"===gameMode&&react_default.a.createElement(Typography.a,null,"level cleared: "+clearedLevel),"multiLevel"===gameMode&&react_default.a.createElement(Typography.a,null,"level: "+level),react_default.a.createElement(Divider.a,{className:classes.divider}),react_default.a.createElement(garamMainGame,{ref:mainGameRef,gameMode:gameMode,difficulty:difficulty,timerPause:timerPause,setClearedLevelFn:setLevel,gameOverFn:handleGameOver}))};GARAM.displayName="GARAM";__webpack_exports__.a=Object(react.forwardRef)(GARAM);GARAM.__docgenInfo={description:"",methods:[],displayName:"GARAM",props:{gameMode:{defaultValue:{value:"'speedMode'",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GARAM\\index.js"]={name:"GARAM",docgenInfo:GARAM.__docgenInfo,path:"src\\components\\GARAM\\index.js"})},262:function(module,exports,__webpack_require__){var content=__webpack_require__(700);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(263)(content,options);content.locals&&(module.exports=content.locals)},271:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_material_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(279),useStyles=Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__.a)({root:{position:"absolute",top:function top(props){return props.point1.top},left:function left(props){return props.point1.left},width:function width(props){return props.length-3},height:10,transformOrigin:"center left",transform:function transform(props){return"rotate(".concat(props.deg,"deg)")},backgroundImage:"url(".concat("https://i7.pngguru.com/preview/124/707/617/thunder-desktop-wallpaper-clip-art-thunder-thumbnail.jpg",")"),backgroundSize:"contain"}}),TwoPointSlash=function(_ref){var point1=_ref.point1,point2=_ref.point2,topDiff=point2.top-point1.top,leftDiff=point2.left-point1.left,length=Math.sqrt(leftDiff*leftDiff+topDiff*topDiff),deg=-Math.acos(leftDiff/length)/Math.PI*180,classes=useStyles({point1:point1,point2:point2,length:length,deg:deg});return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__.a,{className:classes.root})};TwoPointSlash.displayName="TwoPointSlash",__webpack_exports__.a=TwoPointSlash,TwoPointSlash.__docgenInfo={description:"",methods:[],displayName:"TwoPointSlash"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Jewel\\twoPointSlash.js"]={name:"TwoPointSlash",docgenInfo:TwoPointSlash.__docgenInfo,path:"src\\components\\Jewel\\twoPointSlash.js"})},272:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(17),__webpack_require__(169),__webpack_require__(20),__webpack_require__(168),__webpack_require__(127),__webpack_require__(86),__webpack_require__(140);var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(23),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),react_router_dom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(37),_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(779),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(91),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(175),_material_ui_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(27),_material_ui_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(54),_material_ui_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(90),_jewelsRequirePart__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(218),_config__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(7),_GameFrame_context__WEBPACK_IMPORTED_MODULE_19__=(__webpack_require__(207),__webpack_require__(31)),_GameFrame_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(64),_GameFrame_gameStats_config__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(38),useStyles=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.a)({root:{position:"relative",maxWidth:300,padding:10,margin:10,textAlign:"center"},startButton:{width:100,marginTop:10,borderRadius:100,"& a":{width:"100%",height:"100%",color:"#fff","&:hover":{}}},closeButton:{position:"absolute",top:-10,right:-10,width:30,height:30,borderRadius:100,backgroundColor:"#ffad00",color:"#fff","& svg":{width:"100%",height:"100%"}},requireName:{fontSize:"1em"},requireValue:{fontSize:"1.5em",margin:4}}),_ref2=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("hr",null),_ref3=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_10__.a,null),JewelLevelEnter=function(_ref){var gameReqObj,values,dispatch=_ref.dispatch,_ref$match=_ref.match,match=void 0===_ref$match?{params:{level:1}}:_ref$match,history=_ref.history,_ref$gameEnterInfo=_ref.gameEnterInfo,gameEnterInfo=void 0===_ref$gameEnterInfo?{allgameRequirements:_config__WEBPACK_IMPORTED_MODULE_17__.e}:_ref$gameEnterInfo,classes=(_ref.cancelFn,useStyles()),level=match.params.level,gameRequirements=gameEnterInfo.allgameRequirements[parseInt(level)-1],requireNameValues=(gameReqObj=gameRequirements,values=Object.values(gameReqObj),Object.keys(gameReqObj).map((function(name,i){return{name:name,value:values[i]}})));return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,{className:classes.root},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_14__.a,{variant:"h5",fontWeight:"fontWeightLight"},"Level "+level),_ref2,0<requireNameValues.length?requireNameValues.map((function(req,i){var name=req.name,value=req.value;return"requireJewels"===name?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_jewelsRequirePart__WEBPACK_IMPORTED_MODULE_16__.a,{key:i,jewels:value}):react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{key:i,display:"flex",justifyContent:"center",alignItems:"center"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{className:classes.requireName},name),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{className:classes.requireValue},value))})):"free mode",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_15__.a,{className:classes.startButton,color:"primary",variant:"contained",onClick:function handleEnterLevel(){dispatch&&(history.push("/jewelGame/level/".concat(level)),dispatch(Object(_GameFrame_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_20__.d)(_GameFrame_gameStats_config__WEBPACK_IMPORTED_MODULE_21__.a.life,1,(function alertFn(){return window.alert("you life is not enough!")}))))}},"start")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_9__.b,{className:classes.closeButton,to:"/jewelGame"},_ref3))))},JewelLevelEnterWithCtx=function(props){var dispatch=Object(react__WEBPACK_IMPORTED_MODULE_8__.useContext)(_GameFrame_context__WEBPACK_IMPORTED_MODULE_19__.c).dispatch;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(JewelLevelEnter,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_7___default()({dispatch:dispatch},props))};JewelLevelEnterWithCtx.displayName="JewelLevelEnterWithCtx",__webpack_exports__.a=JewelLevelEnterWithCtx,JewelLevelEnterWithCtx.__docgenInfo={description:"",methods:[],displayName:"JewelLevelEnterWithCtx"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Jewel\\jewelLevelEnter.js"]={name:"JewelLevelEnterWithCtx",docgenInfo:JewelLevelEnterWithCtx.__docgenInfo,path:"src\\components\\Jewel\\jewelLevelEnter.js"})},273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(33),__webpack_require__(17);var defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),helpers_extends=__webpack_require__(23),extends_default=__webpack_require__.n(helpers_extends),toConsumableArray=__webpack_require__(3),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),objectWithoutProperties=__webpack_require__(41),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),regenerator=__webpack_require__(50),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(152),__webpack_require__(82)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),react=__webpack_require__(0),react_default=__webpack_require__.n(react),Box=__webpack_require__(27),Typography=(__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16),__webpack_require__(54)),makeStyles=__webpack_require__(279),styles_makeStyles=__webpack_require__(91),sticker_littleKuma=__webpack_require__(146),sticker_littleKuma_default=__webpack_require__.n(sticker_littleKuma),useStyles=Object(styles_makeStyles.a)({img:{height:100,width:"auto"}}),ChatEmote=function(_ref){var _ref$chatContent=_ref.chatContent,chatContent=void 0===_ref$chatContent?sticker_littleKuma_default.a:_ref$chatContent,classes=useStyles();return react_default.a.createElement(Box.a,null,react_default.a.createElement("img",{className:classes.img,src:chatContent,alt:"emote"}))};ChatEmote.displayName="ChatEmote";var chatEmote=ChatEmote;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}ChatEmote.__docgenInfo={description:"",methods:[],displayName:"ChatEmote",props:{chatContent:{defaultValue:{value:"littleKuma",computed:!0},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\chat\\chatEmote.js"]={name:"ChatEmote",docgenInfo:ChatEmote.__docgenInfo,path:"src\\components\\Gomoku\\chat\\chatEmote.js"});var chatBubble_useStyles=Object(makeStyles.a)({root:{width:"100%",justifyContent:function justifyContent(props){return props.isMe?"flex-end":"flex-start"}},chatMes:{padding:"6px 12px",textAlign:function textAlign(props){return props.isMe?"right":"left"}},chatContent:{display:"inline-block",maxWidth:180,height:"auto",padding:"4px 16px",backgroundColor:function backgroundColor(props){return props.isMe?"#c3f8fa":"#eee"},color:"#222",borderRadius:20,wordWrap:"break-word",textAlign:"left"}}),ChatTextContent=function(_ref){var classes=_ref.classes,isMe=_ref.isMe,chatContent=_ref.chatContent;return react_default.a.createElement(Typography.a,{className:classes.chatContent,variant:"body1",align:isMe?"right":"left"},chatContent)};ChatTextContent.displayName="ChatTextContent";var ChatBubbleContainer=function(_ref2){var username=_ref2.username,_ref2$isMe=_ref2.isMe,isMe=void 0!==_ref2$isMe&&_ref2$isMe,props=objectWithoutProperties_default()(_ref2,["username","isMe"]),classes=chatBubble_useStyles({isMe:isMe}),children=react_default.a.Children.map(props.children,(function(child){return react_default.a.cloneElement(child,function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({username:username,isMe:isMe,classes:classes},props))}));return react_default.a.createElement(Box.a,{display:"flex",className:classes.root},react_default.a.createElement(Box.a,{className:classes.chatMes},react_default.a.createElement(Typography.a,{variant:"body1"},username+": "),children))};ChatBubbleContainer.displayName="ChatBubbleContainer";var _ref3=react_default.a.createElement(ChatTextContent,null),_ref4=react_default.a.createElement(chatEmote,null),_ref5=react_default.a.createElement(ChatTextContent,null),ChatBubble=function(props){return react_default.a.createElement(ChatBubbleContainer,props,"text"===(type=props.type)?_ref3:"emote"===type?_ref4:_ref5);var type};ChatBubble.displayName="ChatBubble";var chatBubble=ChatBubble;ChatBubble.__docgenInfo={description:"",methods:[],displayName:"ChatBubble"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\chat\\chatBubble.js"]={name:"ChatBubble",docgenInfo:ChatBubble.__docgenInfo,path:"src\\components\\Gomoku\\chat\\chatBubble.js"});var TagFaces=__webpack_require__(213),TagFaces_default=__webpack_require__.n(TagFaces),TextField=__webpack_require__(820),Button=__webpack_require__(90),API=__webpack_require__(30),chatInput_useStyles=Object(styles_makeStyles.a)({root:{position:"relative",paddingTop:6},buttonArea:{padding:6,textAlign:"right"}}),chatInput_ref2=react_default.a.createElement(TagFaces_default.a,null),ChatInput=function(_ref){var username=_ref.username,setLatestChat=_ref.setLatestChat,roomId=_ref.roomId,openEmoteFn=_ref.openEmoteFn,props=objectWithoutProperties_default()(_ref,["username","setLatestChat","roomId","openEmoteFn"]),classes=chatInput_useStyles(),_React$useState=react_default.a.useState(""),_React$useState2=slicedToArray_default()(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1],handleSendMes=Object(react.useCallback)((function(){0<value.length&&(roomId&&Object(API.h)(roomId,username,value,"text"),setLatestChat(value),setValue(""))}),[username,value,roomId]);return react_default.a.createElement(Box.a,{className:classes.root},react_default.a.createElement(TextField.a,{value:value,style:{backgroundColor:"#fff",width:"100%"},placeholder:"say something",variant:"outlined",onKeyUp:function handleSendByKey(e){13===e.keyCode&&handleSendMes()},onChange:function handleChange(e){var value=e.target.value;setValue(value)}}),react_default.a.createElement(Box.a,{className:classes.buttonArea},react_default.a.createElement(Button.a,{onClick:openEmoteFn},chatInput_ref2),react_default.a.createElement(Button.a,{disabled:0===value.length,variant:"contained",onClick:handleSendMes},"send")),props.children)};ChatInput.displayName="ChatInput";var chatInput=ChatInput;ChatInput.__docgenInfo={description:"",methods:[],displayName:"ChatInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\chat\\chatInput.js"]={name:"ChatInput",docgenInfo:ChatInput.__docgenInfo,path:"src\\components\\Gomoku\\chat\\chatInput.js"});var fn=__webpack_require__(67),CircularProgress=__webpack_require__(814),Paper=__webpack_require__(175),emotePopup_useStyles=(__webpack_require__(46),Object(makeStyles.a)({emotePopup:{display:function display(props){return props.emoteDisplay?"block":"none"},position:"absolute",top:-200,left:0,right:0,height:200},emoteItem:{width:70,height:70,display:"inline-block",padding:4,cursor:"pointer","& img":{width:"100%",height:"auto"},"&:hover":{backgroundColor:"#ddd"}},emoteArea:{overflowY:"scroll"},emotePopupHead:{backgroundColor:"#ccc",height:20,textAlign:"right","& button":{width:20,height:20,borderRadius:2e3}}})),SingleEmoteItem=function(_ref){var imgSrc=_ref.imgSrc,emoteChatFn=_ref.emoteChatFn,classes=emotePopup_useStyles();return react_default.a.createElement(Box.a,{className:classes.emoteItem,onClick:emoteChatFn},react_default.a.createElement("img",{src:imgSrc}))};SingleEmoteItem.displayName="SingleEmoteItem";var emotePopup_ref3=react_default.a.createElement(CircularProgress.a,null),EmotePopup=function(_ref2){var username=_ref2.username,roomId=_ref2.roomId,emoteDisplay=_ref2.emoteDisplay,setLatestEmoteChat=_ref2.setLatestEmoteChat,_ref2$emoteDataInit=_ref2.emoteDataInit,emoteDataInit=void 0===_ref2$emoteDataInit?[]:_ref2$emoteDataInit,closeFn=_ref2.closeFn,classes=emotePopup_useStyles({emoteDisplay:emoteDisplay}),_useState=Object(react.useState)(emoteDataInit),_useState2=slicedToArray_default()(_useState,2),emotesData=_useState2[0],setEmotesData=_useState2[1];return Object(react.useEffect)((function(){0===emotesData.length&&Object(API.b)().then((function(res){return setEmotesData(res)}))}),[]),react_default.a.createElement(Paper.a,{className:classes.emotePopup},react_default.a.createElement(Box.a,{className:classes.emotePopupHead},react_default.a.createElement("button",{onClick:closeFn},"x")),react_default.a.createElement(Box.a,{className:classes.emoteArea},0<emotesData.length?react_default.a.createElement(react_default.a.Fragment,null,emotesData.map((function(data){return react_default.a.createElement(SingleEmoteItem,extends_default()({key:data.id,emoteChatFn:function emoteChatFn(){return function(imgSrc,username,roomId){setLatestEmoteChat(imgSrc,"emote"),roomId&&Object(API.h)(roomId,username,imgSrc,"emote")}(data.imgSrc,username,roomId)}},data))}))):emotePopup_ref3))};EmotePopup.displayName="EmotePopup";var emotePopup=EmotePopup;EmotePopup.__docgenInfo={description:"",methods:[],displayName:"EmotePopup",props:{emoteDataInit:{defaultValue:{value:"[]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\chat\\emotePopup.js"]={name:"EmotePopup",docgenInfo:EmotePopup.__docgenInfo,path:"src\\components\\Gomoku\\chat\\emotePopup.js"});var chatRoom_useStyles=Object(makeStyles.a)({root:{position:"fixed",top:60,right:0,bottom:0,width:260,padding:6,margin:"auto",borderRadius:6,backgroundColor:"#eee"},chatContainer:{flexDirection:"column",height:"100%"},chatArea:{height:1e3,borderRadius:6,backgroundColor:"#fff",overflowY:"auto"}}),getChatData=function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(userData){var roomId;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!userData){_context.next=3;break}return roomId=userData[0].roomId,_context.abrupt("return",Object(API.a)(roomId));case 3:return _context.abrupt("return",[]);case 4:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}(),ChatRoom=function(_ref2){var _React$createElement,userData=_ref2.userData,userNow=_ref2.userNow,_ref2$chatData_mock=_ref2.chatData_mock,chatData_mock=void 0===_ref2$chatData_mock?[]:_ref2$chatData_mock,props=objectWithoutProperties_default()(_ref2,["userData","userNow","chatData_mock"]),roomRef=Object(react.useRef)(null),classes=chatRoom_useStyles(),_useState=Object(react.useState)(chatData_mock),_useState2=slicedToArray_default()(_useState,2),chatData=_useState2[0],setChatData=_useState2[1],_useState3=Object(react.useState)(null),_useState4=slicedToArray_default()(_useState3,2),latestChat=_useState4[0],setLatestChat=_useState4[1],_useState5=Object(react.useState)(!1),_useState6=slicedToArray_default()(_useState5,2),emoteDisplay=_useState6[0],setEmoteDisplay=_useState6[1];Object(react.useEffect)((function(){function _getData(){return(_getData=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(){var data;return regenerator_default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,getChatData(userData);case 2:data=_context2.sent,userData&&setChatData(data);case 4:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}0===chatData.length&&function getData(){return _getData.apply(this,arguments)}()}),[userData]);var handleSetLocalLatestChat=Object(react.useCallback)((function(val){var type=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",latestChat={id:chatData.length,username:userNow,type:type,chatContent:val};setChatData([].concat(toConsumableArray_default()(chatData),[latestChat])),setEmoteDisplay(!1)}),[userNow,chatData,userData]);return Object(react.useEffect)((function(){API.g.on("get_chat",(function(res){console.log(res,"socket get chat"),setLatestChat(res)}))}),[]),Object(react.useEffect)((function(){Object(fn.f)(roomRef.current)}),[chatData]),Object(react.useEffect)((function(){if(latestChat){var newChat=[].concat(toConsumableArray_default()(chatData),[latestChat]);setChatData(newChat),setLatestChat(null)}}),[latestChat]),console.log(chatData),react_default.a.createElement(Box.a,{className:classes.root},react_default.a.createElement(Box.a,{display:"flex",className:classes.chatContainer},react_default.a.createElement(Box.a,{className:classes.chatArea},react_default.a.createElement("div",{ref:function setRef(el){roomRef.current=el,console.log(roomRef.current)}},chatData?chatData.map((function(data){var id=data.id,username=data.username;return react_default.a.createElement(chatBubble,extends_default()({key:id,isMe:userNow===username},data))})):"loading...")),react_default.a.createElement(chatInput,(_React$createElement={username:userNow,roomId:userData&&userData[0].roomId,setLatestChat:handleSetLocalLatestChat},defineProperty_default()(_React$createElement,"roomId",userData&&userData[0].roomId),defineProperty_default()(_React$createElement,"openEmoteFn",(function openEmoteFn(){return setEmoteDisplay(!emoteDisplay)})),_React$createElement),props.children,react_default.a.createElement(emotePopup,{username:userNow,roomId:userData&&userData[0].roomId,emoteDisplay:emoteDisplay,setLatestEmoteChat:handleSetLocalLatestChat,closeFn:function closeFn(){return setEmoteDisplay(!1)}}))))};ChatRoom.displayName="ChatRoom";__webpack_exports__.a=ChatRoom;ChatRoom.__docgenInfo={description:"",methods:[],displayName:"ChatRoom",props:{chatData_mock:{defaultValue:{value:"[]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\chat\\chatRoom.js"]={name:"ChatRoom",docgenInfo:ChatRoom.__docgenInfo,path:"src\\components\\Gomoku\\chat\\chatRoom.js"})},274:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(22),__webpack_require__(78),__webpack_require__(206),__webpack_require__(15),__webpack_require__(17),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16),__webpack_require__(111);var defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),toConsumableArray=__webpack_require__(3),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),makeStyles=__webpack_require__(91),Container=__webpack_require__(278),Box=__webpack_require__(27),Button=__webpack_require__(90),Typography=__webpack_require__(54),makeStyles_makeStyles=__webpack_require__(279),useStyles=Object(makeStyles_makeStyles.a)({score:{fontWeight:800}}),GameText=function(_ref){var _ref$title=_ref.title,title=void 0===_ref$title?"score":_ref$title,text=_ref.text,classes=useStyles();return react_default.a.createElement(Box.a,null,react_default.a.createElement(Typography.a,{variant:"subtitle1"},title),react_default.a.createElement(Typography.a,{className:classes.score,variant:"h4"},text))};GameText.displayName="GameText";var gameScore=GameText;GameText.__docgenInfo={description:"",methods:[],displayName:"GameText",props:{title:{defaultValue:{value:"'score'",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Jewel\\gameScore.js"]={name:"GameText",docgenInfo:GameText.__docgenInfo,path:"src\\components\\Jewel\\gameScore.js"});var config=__webpack_require__(7),lodash=(__webpack_require__(33),__webpack_require__(45),__webpack_require__(105),__webpack_require__(35),__webpack_require__(386),__webpack_require__(104),__webpack_require__(48),__webpack_require__(72)),lodash_default=__webpack_require__.n(lodash),FlashOn=__webpack_require__(816),Whatshot=__webpack_require__(817),twoPointSlash=__webpack_require__(271);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var _specialJewels$colors=config.k.colors,bombColor=_specialJewels$colors.bombColor,thunderColor=_specialJewels$colors.thunderColor,_specialJewels$destro=config.k.destroyCount,bombDestroyCount=_specialJewels$destro.bombDestroyCount,thunderDestroyCount=_specialJewels$destro.thunderDestroyCount,amountOfJewels=config.h*config.h,jewelSquare_jewelIdxs=toConsumableArray_default()(Array(2*amountOfJewels).keys()),generateJewels=function(){return toConsumableArray_default()(Array(2*amountOfJewels).keys()).map((function(idx){var _getJewel=function(idx){var feverMode=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"bomb",specificSpecial=2<arguments.length?arguments[2]:void 0,feverRow=3<arguments.length?arguments[3]:void 0;return specificSpecial&&idx===specificSpecial?{type:feverMode,color:config.k.colors["".concat(feverMode,"Color")]}:"bomb"===feverMode&&feverRow&&idx>=feverRow*config.h&&idx<feverRow*(config.h+1)-1?{type:"jewel",color:config.f[2]}:"thunder"===feverMode?void 0:{type:"jewel",color:config.f[~~(Math.random()*config.f.length)]}}(idx,"bomb",80),type=_getJewel.type,color=_getJewel.color;return{id:idx-amountOfJewels,type:type,color:color,hint:!1,effect:null}}))},checkJewelIs4Dir=function(idx,newIndex){var prevIndex=idx,lastIndexPerRow=config.h-1;return newIndex+config.h===prevIndex||newIndex-config.h===prevIndex||(!(0==prevIndex%config.h||prevIndex%config.h===lastIndexPerRow||prevIndex+1!==newIndex&&prevIndex-1!==newIndex)||!(0!=prevIndex%config.h||prevIndex+1!==newIndex)||!(prevIndex%config.h!==lastIndexPerRow||prevIndex-1!==newIndex))},getJewelPos=function(idx){var width=1<arguments.length&&void 0!==arguments[1]?arguments[1]:config.g;return{left:~~(idx%config.h)*width,top:~~(idx/config.h)*width}},exchangedJewels=function(idx1,idx2,jewelData){var newJewelData=toConsumableArray_default()(jewelData),jewel1=jewelData[idx1],jewel2=jewelData[idx2];return newJewelData[idx1]=jewel2,newJewelData[idx2]=jewel1,newJewelData},checkIsFulfill=function(index,jewelAddCount,jewelData){for(var maxCompareAddCount=1===jewelAddCount?(1+~~(index/config.h))*config.h:2*amountOfJewels,_jewelData$index=jewelData[index],type=_jewelData$index.type,color=_jewelData$index.color,sameColorCount=1,checkFulfills=[{color:color,idx:index}],nextIndex=index+jewelAddCount;jewelData[nextIndex]&&jewelData[nextIndex].color===color&&"empty"!==type&&nextIndex<maxCompareAddCount;)sameColorCount+=1,checkFulfills=[].concat(toConsumableArray_default()(checkFulfills),[{color:color,idx:nextIndex}]),nextIndex+=jewelAddCount;return 3<=sameColorCount?checkFulfills:[]},getEmptyFn=function(data){return"empty"===data.type},getIdxsByCondition=function(data){var conditionFn=1<arguments.length&&void 0!==arguments[1]?arguments[1]:getEmptyFn,res=[];return data.forEach((function(data,idx){conditionFn(data)&&idx>=amountOfJewels&&(res=[].concat(toConsumableArray_default()(res),[idx]))})),res},mergeFulfillJewels=function(jewels){var allIdxs=toConsumableArray_default()(new Set(jewels.map((function(j){return j.idx}))));return{jewelsByColors:toConsumableArray_default()(new Set(jewels.map((function(j){return j.color})))).map((function(color){var sameColorJewel=jewels.filter((function(j){return j.color===color})),idxs=toConsumableArray_default()(new Set(sameColorJewel.map((function(j){return j.idx}))));return{color:color,idxs:idxs,amount:idxs.length}})),allIdxs:allIdxs}},getSpecialJewelClearedJewels=function(idxs,jewelData){var filteredData=jewelData.filter((function(data,i){return idxs.find((function(idx){return idx===i}))&&"jewel"===data.type}));return toConsumableArray_default()(new Set(filteredData.map((function(j){return j.color})))).map((function(color){var sameColorJewels=filteredData.filter((function(j){return j.color===color}));return{color:color,amount:sameColorJewels.length}}))},jewelSquare_useStyles=Object(makeStyles.a)({root:{display:"inline-block",padding:6,border:"4px solid #111",borderRadius:10},jewelContainer:{position:"relative",width:config.h*config.g,height:config.h*config.g,overflow:"hidden"},singleJewel:{backgroundColor:function backgroundColor(props){return props.color},position:"absolute",top:function top(props){return props.pos&&props.pos.top-config.h*config.g},left:function left(props){return props.pos&&props.pos.left},width:config.g-2,height:config.g-2,border:function border(props){return props.isChosen?"3px solid #111":"1px solid #fff"},borderRadius:function borderRadius(props){return props.hint?100:6},boxSizing:"border-box",textAlign:"center",lineHeight:"".concat(config.g-2,"px"),fontSize:"20px",transition:"0.3s","& svg":{fontSize:"2.5em"},"& img":{width:"120%",height:"120%"}}}),_ref3=react_default.a.createElement(FlashOn.a,null),_ref4=react_default.a.createElement(Whatshot.a,null),_ref5=react_default.a.createElement("img",{src:config.c}),SingleJewel=function(_ref){var jewelInfo=_ref.jewelInfo,pos=_ref.pos,isChosen=_ref.isChosen,getIdFn=_ref.getIdFn,classes=jewelSquare_useStyles(_objectSpread({},jewelInfo,{pos:pos,isChosen:isChosen}));return react_default.a.createElement(Box.a,{onClick:getIdFn,className:classes.singleJewel},react_default.a.createElement((function Icon(_ref2){var type=_ref2.type,effect=_ref2.effect;return"thunder"===type?_ref3:"bomb"===type?_ref4:effect&&"explode"===effect?_ref5:null}),jewelInfo))};SingleJewel.displayName="SingleJewel";var thunderIdxs_init={center:0,otherPoints:[]},Jewels=function(_ref6,ref){var isPause=_ref6.isPause,_ref6$hintMode=_ref6.hintMode,hintMode=!(void 0!==_ref6$hintMode)||_ref6$hintMode,cancelHintFn=_ref6.cancelHintFn,setScoreFn=_ref6.setScoreFn,setComboFn=_ref6.setComboFn,setStepFn=_ref6.setStepFn,setJewelsFn=_ref6.setJewelsFn,classes=jewelSquare_useStyles(),_useState=Object(react.useState)(thunderIdxs_init),_useState2=slicedToArray_default()(_useState,2),thunderIdxs=_useState2[0],setThunderIdxs=_useState2[1],_useState3=Object(react.useState)(generateJewels()),_useState4=slicedToArray_default()(_useState3,2),jewelData=_useState4[0],setJewelData=_useState4[1],_useState5=Object(react.useState)([]),_useState6=slicedToArray_default()(_useState5,2),twoJewelsIndex=_useState6[0],settwoJewelsIndex=_useState6[1],getJewelId=Object(react.useCallback)((function(newIndex){var checkNotSame=!twoJewelsIndex.find((function(idx){return idx===newIndex})),checkHaveEmpty=jewelData.find((function(data){return"empty"===data.type}));!(newIndex>=amountOfJewels)||checkHaveEmpty||isPause||(1>twoJewelsIndex.length?settwoJewelsIndex([newIndex]):checkNotSame?checkNotSame&&checkJewelIs4Dir(twoJewelsIndex[0],newIndex)&&settwoJewelsIndex((function(index){return[].concat(toConsumableArray_default()(index),[newIndex])})):settwoJewelsIndex([]))}),[isPause,twoJewelsIndex,jewelData]),handleSetSpecialJewels=Object(react.useCallback)((function(){var specialJewelType=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"bomb",amount=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,newJewelData=toConsumableArray_default()(jewelData),jewelIdxs=[];jewelData.forEach((function(data,idx){"jewel"===data.type&&idx>=amountOfJewels&&(jewelIdxs=[].concat(toConsumableArray_default()(jewelIdxs),[idx]))}));var randomIdxs=lodash_default.a.shuffle(jewelIdxs.slice(0,amount));console.log(randomIdxs),randomIdxs.forEach((function(idx){newJewelData[idx]=_objectSpread({},newJewelData[idx],{type:specialJewelType,color:bombColor})})),setJewelData(newJewelData)}),[jewelData]);Object(react.useEffect)((function(){if(2===twoJewelsIndex.length){var _twoJewelsIndex=slicedToArray_default()(twoJewelsIndex,2),index1=_twoJewelsIndex[0],index2=_twoJewelsIndex[1],newJewelData=exchangedJewels(index1,index2,jewelData);return setStepFn&&setStepFn((function(step){return step+1})),setJewelData(newJewelData),settwoJewelsIndex([])}}),[twoJewelsIndex]),Object(react.useEffect)((function(){isPause||function(){var newJewelData=toConsumableArray_default()(jewelData),emptyJewelsIdx=getIdxsByCondition(jewelData,(function(data){return"empty"===data.type}));if(0<emptyJewelsIdx.length){for(var _loop=function(i){var emptyUpRowJewels=function(num,intervalNum){for(var res=[num],next=num-intervalNum;0<=next;)res=[].concat(toConsumableArray_default()(res),[next]),next-=intervalNum;return res}(emptyJewelsIdx[i],config.h),jewelsUpRow=emptyUpRowJewels.slice(1).map((function(idx){return newJewelData[idx]})),emptyLastIdx=emptyUpRowJewels[emptyUpRowJewels.length-1],newJewel={id:newJewelData[emptyLastIdx].id-config.h,type:"jewel",color:config.f[~~(4*Math.random())],hint:!1},newJewelsUpRow=[].concat(toConsumableArray_default()(jewelsUpRow),[newJewel]);emptyUpRowJewels.forEach((function(jewelIdx,i){newJewelData[jewelIdx]=newJewelsUpRow[i]}))},i=0;i<emptyJewelsIdx.length;i++)_loop(i);cancelHintFn&&cancelHintFn(),setTimeout((function(){setJewelData(newJewelData)}),config.a)}else!function(){for(var columnFulfills,fulfilledJewels=[],i=amountOfJewels;i<jewelData.length;i++)if(columnFulfills=checkIsFulfill(i,config.h,jewelData),fulfilledJewels=[].concat(toConsumableArray_default()(fulfilledJewels),toConsumableArray_default()(columnFulfills)),i%config.h!=config.h-1&&i%config.h!=config.h-2){var rowFulfills=checkIsFulfill(i,1,jewelData);fulfilledJewels=[].concat(toConsumableArray_default()(fulfilledJewels),toConsumableArray_default()(rowFulfills))}var fulfilledJewelsCount=(fulfilledJewels=mergeFulfillJewels(fulfilledJewels)).allIdxs.length;if(0<fulfilledJewelsCount){console.log("fulfilledJewels: "+fulfilledJewels),setJewelsFn&&setJewelsFn(fulfilledJewels.jewelsByColors),setComboFn&&setComboFn(fulfilledJewelsCount);for(var _loop2=function(_i){var fulfilledIdx=fulfilledJewels.allIdxs[_i],dir4JewelsIndexes=jewelSquare_jewelIdxs.filter((function(idx){return checkJewelIs4Dir(fulfilledIdx,idx)&&idx>=amountOfJewels})),bombJewelIdx=jewelData.findIndex((function(data,idx){return"bomb"===data.type&&dir4JewelsIndexes.find((function(index){return index===idx}))})),thunderJewelIdx=jewelData.findIndex((function(data,idx){return"thunder"===data.type&&dir4JewelsIndexes.find((function(index){return index===idx}))}));if(-1!==bombJewelIdx){var bombedJewelsIdxs=jewelSquare_jewelIdxs.filter((function(idx){var bombWhichRow=~~(bombJewelIdx/config.h);return idx>=amountOfJewels&&0==(bombJewelIdx-idx)%config.h&&idx>=bombJewelIdx-config.h*bombDestroyCount&&idx<=bombJewelIdx+config.h*bombDestroyCount||idx>=amountOfJewels&&idx>=bombWhichRow*config.h&&idx<(bombWhichRow+1)*config.h&&idx>=bombJewelIdx-1*bombDestroyCount&&idx<=bombJewelIdx+1*bombDestroyCount})),bombedJewels=getSpecialJewelClearedJewels(bombedJewelsIdxs,jewelData);setJewelsFn(bombedJewels),bombedJewelsIdxs.forEach((function(idx){newJewelData[idx]=_objectSpread({},jewelData[idx],{type:"empty",color:config.b,effect:"explode"})}))}if(-1!==thunderJewelIdx){var fulfilledJewelColor=jewelData[fulfilledIdx].color,sameColorJewelsIdxs=getIdxsByCondition(jewelData,(function(data){return data.color===fulfilledJewelColor}));newJewelData[thunderJewelIdx]=_objectSpread({},jewelData[thunderJewelIdx],{type:"empty",color:config.b});var thunderDestroyJewelsIdxs=sameColorJewelsIdxs.filter((function(idx){return fulfilledJewels.allIdxs.find((function(fulIdx){return fulIdx!==idx}))})).slice(0,thunderDestroyCount),thunderedJewels=getSpecialJewelClearedJewels(thunderDestroyJewelsIdxs,jewelData);setJewelsFn(thunderedJewels),thunderDestroyJewelsIdxs.forEach((function(idx){newJewelData[idx]=_objectSpread({},jewelData[idx],{type:"empty",color:config.b})}));var _thunderPoints={center:thunderJewelIdx-amountOfJewels,otherPoints:thunderDestroyJewelsIdxs.map((function(idx){return idx-amountOfJewels}))};console.log(_thunderPoints),setThunderIdxs(_thunderPoints)}newJewelData[fulfilledIdx]=_objectSpread({},jewelData[fulfilledIdx],{type:"empty",color:config.b}),5<=fulfilledJewelsCount&&_i===fulfilledJewelsCount-1?newJewelData[fulfilledIdx]=_objectSpread({},jewelData[fulfilledIdx],{type:"thunder",color:thunderColor}):4===fulfilledJewelsCount&&_i==fulfilledJewelsCount-1&&(newJewelData[fulfilledIdx]=_objectSpread({},jewelData[fulfilledIdx],{type:"bomb",color:bombColor}))},_i=0;_i<fulfilledJewelsCount;_i++)_loop2(_i);setScoreFn&&setScoreFn(fulfilledJewelsCount),setJewelData(newJewelData)}}()}(),0===jewelData.length&&setJewelData(generateJewels())}),[jewelData,isPause]),Object(react.useEffect)((function(){var newJewelData=toConsumableArray_default()(jewelData);if(hintMode)for(var _loop3=function(idx1){for(var fulfilledJewels=[],dir4JewelsIndexes=jewelSquare_jewelIdxs.filter((function(idx){return checkJewelIs4Dir(idx1,idx)&&idx>=amountOfJewels})),j=0;j<dir4JewelsIndexes.length;j++)for(var columnFulfills,idx2=dir4JewelsIndexes[j],exchangedData=exchangedJewels(idx1,idx2,jewelData),k=amountOfJewels;k<exchangedData.length;k++)if(columnFulfills=checkIsFulfill(k,config.h,exchangedData),fulfilledJewels=[].concat(toConsumableArray_default()(fulfilledJewels),toConsumableArray_default()(columnFulfills)),k%config.h!=config.h-1&&k%config.h!=config.h-2){var rowFulfills=checkIsFulfill(k,1,exchangedData);fulfilledJewels=[].concat(toConsumableArray_default()(fulfilledJewels),toConsumableArray_default()(rowFulfills))}if(console.log(fulfilledJewels),0<(fulfilledJewels=mergeFulfillJewels(fulfilledJewels)).allIdxs.length)return fulfilledJewels.allIdxs.forEach((function(idx){newJewelData[idx]=_objectSpread({},jewelData[idx],{hint:!0})})),"break"},idx1=amountOfJewels;idx1<jewelData.length&&"break"!==_loop3(idx1);idx1++);else newJewelData=newJewelData.map((function(data){return _objectSpread({},data,{hint:!1})}));setJewelData(newJewelData)}),[hintMode]),Object(react.useEffect)((function(){0<thunderIdxs.otherPoints.length&&setTimeout((function(){return setThunderIdxs(thunderIdxs_init)}),config.a)}),[thunderIdxs]),Object(react.useImperativeHandle)(ref,(function(){return{handleNext:function handleNext(){setJewelData([]),settwoJewelsIndex([])},handleResetGame:function handleResetGame(){setJewelData([]),settwoJewelsIndex([])},handleSetBomb:function handleSetBomb(amount){handleSetSpecialJewels("bomb",amount)},handleSetThunder:function handleSetThunder(amount){handleSetSpecialJewels("thunder",amount)}}}));var center,thunderPoints=(center=thunderIdxs.center,thunderIdxs.otherPoints.map((function(other){return{point1:{left:getJewelPos(center).left+config.g/2,top:getJewelPos(center).top+config.g/2},point2:{left:getJewelPos(other).left+config.g/2,top:getJewelPos(other).top+config.g/2}}})));return react_default.a.createElement(Box.a,{className:classes.root},react_default.a.createElement(Box.a,{className:classes.jewelContainer},jewelData.map((function(data,index){return react_default.a.createElement(SingleJewel,{key:data.id,jewelInfo:_objectSpread({},data,{index:index-amountOfJewels}),isChosen:twoJewelsIndex.find((function(idx){return idx===index})),pos:getJewelPos(index,config.g),getIdFn:function getIdFn(){getJewelId(index)}})})),thunderPoints.map((function(pts,i){return react_default.a.createElement(twoPointSlash.a,{key:i,point1:pts.point1,point2:pts.point2})}))))};Jewels.displayName="Jewels";var jewelSquare=Object(react.forwardRef)(Jewels);Jewels.__docgenInfo={description:"",methods:[],displayName:"Jewels",props:{hintMode:{defaultValue:{value:"true",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Jewel\\jewelSquare.js"]={name:"Jewels",docgenInfo:Jewels.__docgenInfo,path:"src\\components\\Jewel\\jewelSquare.js"});var Timer=__webpack_require__(96),GARAM_config=__webpack_require__(32),jewelsRequirePart=__webpack_require__(218);function Jewel_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}GARAM_config.g.getResultContent;var clearedJewelsByColors_init=config.f.map((function(color){return{color:color,amount:0}})),Jewel_useStyles=Object(makeStyles.a)({comboAddScore:{position:"absolute",top:2,left:55}}),_ref2=react_default.a.createElement("hr",null),JewelGame=function(_ref,ref){var mainGameRef=_ref.mainGameRef,overFn=_ref.overFn,gameRequirements=_ref.gameRequirements,classes=Jewel_useStyles(),comboTimeoutRef=Object(react.useRef)(),timerRef=Object(react.useRef)(),_useState=Object(react.useState)(0),_useState2=slicedToArray_default()(_useState,2),score=_useState2[0],setScore=_useState2[1],_useState3=Object(react.useState)(0),_useState4=slicedToArray_default()(_useState3,2),combo=_useState4[0],setCombo=_useState4[1],_useState5=Object(react.useState)(0),_useState6=slicedToArray_default()(_useState5,2),movedStep=_useState6[0],setStep=_useState6[1],_useState7=Object(react.useState)(clearedJewelsByColors_init),_useState8=slicedToArray_default()(_useState7,2),clearedJewels=_useState8[0],setJewels=_useState8[1],_useState9=Object(react.useState)([]),_useState10=slicedToArray_default()(_useState9,2),remainRequireJewels=_useState10[0],setRemains=_useState10[1],_useState11=Object(react.useState)(!1),_useState12=slicedToArray_default()(_useState11,2),isPause=_useState12[0],setPause=_useState12[1],_useState13=Object(react.useState)(!1),_useState14=slicedToArray_default()(_useState13,2),isTimeover=_useState14[0],setTimeover=_useState14[1],_useState15=Object(react.useState)(!1),_useState16=slicedToArray_default()(_useState15,2),isHint=_useState16[0],setHint=_useState16[1],handleResetGame=Object(react.useCallback)((function(){setTimeover(!1),setPause(!0),setScore(0),setCombo(0),setStep(0),setJewels(clearedJewelsByColors_init),timerRef&&timerRef.current.resetTimer(),clearTimeout(comboTimeoutRef.current)}),[]),handleGameOver=Object(react.useCallback)((function(result){overFn&&overFn(result),handleResetGame()}),[overFn]),handleSetCombo=Object(react.useCallback)((function(newCombo){setCombo((function(c){return c+newCombo}))}),[combo]),handleSetJewels=Object(react.useCallback)((function(newJewels){var newClearedJewels=toConsumableArray_default()(clearedJewels);newJewels.forEach((function(jewel){var color=jewel.color,amount=jewel.amount,idx=clearedJewels.findIndex((function(jwl){return jwl.color===color}));newClearedJewels[idx]=function Jewel_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?Jewel_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Jewel_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},newClearedJewels[idx],{amount:newClearedJewels[idx].amount+amount})})),setJewels(newClearedJewels)}),[clearedJewels]);Object(react.useEffect)((function(){0<combo&&(comboTimeoutRef.current&&clearTimeout(comboTimeoutRef.current),comboTimeoutRef.current=setTimeout((function(){10<combo&&setScore((function(score){return score+50*combo})),setCombo(0)}),3e3))}),[combo]),Object(react.useEffect)((function(){if(gameRequirements&&gameRequirements.requireJewels){var remainJewels=gameRequirements.requireJewels.map((function(jwl){var color=jwl.color,remainJewels=jwl.amount-clearedJewels.find((function(jewel){return jewel.color===color})).amount;return{color:color,amount:0<=remainJewels?remainJewels:0}}));setRemains(remainJewels)}}),[clearedJewels]),Object(react.useEffect)((function(){var result=function(gameOriginInfo,gameReq){if(gameOriginInfo&&gameReq){var score=gameOriginInfo.score,movedStep=gameOriginInfo.movedStep,isTimeover=gameOriginInfo.isTimeover,remainRequireJewels=gameOriginInfo.remainRequireJewels,requireScore=gameReq.requireScore,limitStep=gameReq.limitStep,limitTime=(gameReq.requireJewels,gameReq.limitTime);if(requireScore&&!limitStep)return config.d.scoreAndLimitTimeMode(isTimeover,score,requireScore);if(requireScore&&limitStep)return config.d.scoreAndLimitStepMode(movedStep,limitStep,score,requireScore);if(limitTime&&0<remainRequireJewels.length)return config.d.requireJewelsAndLimitTimeMode(isTimeover,remainRequireJewels,score)}return!1}({score:score,movedStep:movedStep,isTimeover:isTimeover,remainRequireJewels:remainRequireJewels},gameRequirements);overFn&&result&&handleGameOver(result)}),[score,isTimeover,movedStep,remainRequireJewels]),Object(react.useImperativeHandle)(ref,(function(){return{startGame:function startGame(){setPause(!1)}}}));var isLimitTime=!(!gameRequirements||!gameRequirements.limitTime)&&gameRequirements.limitTime;return react_default.a.createElement(Container.a,null,react_default.a.createElement(Box.a,{width:config.g*config.h},react_default.a.createElement(Box.a,null,react_default.a.createElement(Timer.b,{timeoutFn:function timeoutFn(){return setTimeover(!0)},time:isLimitTime||0,countDown:isLimitTime,isPause:isPause,ref:timerRef}),react_default.a.createElement(Button.a,{onClick:function onClick(){return setPause(!isPause)}},isPause?"start":"pause")),react_default.a.createElement(Button.a,{variant:"contained",color:isHint?"primary":"default",onClick:function onClick(){return setHint(!isHint)}},"hint"),react_default.a.createElement(Box.a,null,react_default.a.createElement(jewelsRequirePart.a,{jewels:remainRequireJewels})),_ref2,react_default.a.createElement(Box.a,{position:"relative",display:"flex",justifyContent:"space-between"},10<combo&&react_default.a.createElement(Typography.a,{className:classes.comboAddScore},"+".concat(50*combo)),react_default.a.createElement(gameScore,{title:"score",text:score}),react_default.a.createElement(gameScore,{title:"step: ",text:movedStep}),react_default.a.createElement(gameScore,{title:"combo",text:"X ".concat(combo)})),react_default.a.createElement(jewelSquare,{ref:mainGameRef,hintMode:isHint,cancelHintFn:function cancelHintFn(){return setHint(!1)},isPause:isPause,setJewelsFn:handleSetJewels,setStepFn:setStep,setComboFn:handleSetCombo,setScoreFn:function handleSetScore(jewelCount){setScore((function(score){return score+(clearedEmptyJewels=jewelCount,config.j*Object(config.i)(clearedEmptyJewels));var clearedEmptyJewels}))}})))};JewelGame.displayName="JewelGame";__webpack_exports__.a=Object(react.forwardRef)(JewelGame);JewelGame.__docgenInfo={description:"",methods:[],displayName:"JewelGame"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Jewel\\index.js"]={name:"JewelGame",docgenInfo:JewelGame.__docgenInfo,path:"src\\components\\Jewel\\index.js"})},30:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return socket})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getSpecificGomokuRoom})),__webpack_require__.d(__webpack_exports__,"i",(function(){return updateGomokuRoomState})),__webpack_require__.d(__webpack_exports__,"h",(function(){return updateChat})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getChatByRoomId})),__webpack_require__.d(__webpack_exports__,"d",(function(){return handleAddInRoomAndSetReady})),__webpack_require__.d(__webpack_exports__,"f",(function(){return singUp})),__webpack_require__.d(__webpack_exports__,"e",(function(){return logIn})),__webpack_require__.d(__webpack_exports__,"j",(function(){return updateUser})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getEmotes}));__webpack_require__(22),__webpack_require__(78),__webpack_require__(17);var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(50),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(152),__webpack_require__(82)),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__),socket_io_client__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(397),socket_io_client__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_6__),strapi_sdk_javascript_build_main__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(211),strapi_sdk_javascript_build_main__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(strapi_sdk_javascript_build_main__WEBPACK_IMPORTED_MODULE_7__),_fn__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(67),apiUrl="https://intense-brushlands-46000.herokuapp.com",socket=socket_io_client__WEBPACK_IMPORTED_MODULE_6___default()(apiUrl),strapi=new strapi_sdk_javascript_build_main__WEBPACK_IMPORTED_MODULE_7___default.a(apiUrl),createGomokuRoom=function(){var users=Object(_fn__WEBPACK_IMPORTED_MODULE_8__.c)(),username=localStorage.getItem("username");return strapi.createEntry("gomokus",{user1:username||users[0],user2:users[1]}).then((function(res){return console.log(res),res})).catch((function(err){return console.log(err)}))},getSpecificGomokuRoom=function(id){return strapi.getEntry("gomokus",id).then((function(res){return console.log(id,res),res}))},updateGomokuRoomState=function(id){var user1_isReady=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],user2_isReady=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],roomIsFull=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],user1=4<arguments.length?arguments[4]:void 0,user2=5<arguments.length?arguments[5]:void 0;return id&&strapi.updateEntry("gomokus",id,{user1:user1,user2:user2,user1_isReady:user1_isReady,user2_isReady:user2_isReady,roomIsFull:roomIsFull})},updateChat=function(){var _ref=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee(id,username,chatContent){var type,_args=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return type=3<_args.length&&void 0!==_args[3]?_args[3]:"text",_context.abrupt("return",strapi.createEntry("chats",{roomId:id,type:type,username:username,chatContent:chatContent}).then((function(res){socket.emit("send_chat",[id,res])})));case 2:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}(),getChatByRoomId=function(){var _ref2=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee2(roomId){var originData;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,strapi.getEntries("chats",(function(res){return res}));case 2:return originData=_context2.sent,_context2.abrupt("return",originData.filter((function(data){return data.roomId===roomId})));case 4:case"end":return _context2.stop()}}),_callee2)})));return function(){return _ref2.apply(this,arguments)}}(),handleAddInRoomAndSetReady=function(){var _ref3=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee3(setUserNowFn,setUserDataFn,setGameStartFn){var username,setFirstPlayerAndTimeoutExit,rooms,emptyRoom,id,user1,user2,_user;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return username=localStorage.getItem("username"),setFirstPlayerAndTimeoutExit=function(id,user1,user2){updateGomokuRoomState(id,!0,!1,!1,user1,user2).then((function(res){console.log(user1,res),setUserNowFn(user1)}))},_context3.next=4,strapi.getEntries("gomokus").then((function(res){return console.log(res),res}));case 4:rooms=_context3.sent,(emptyRoom=rooms.find((function(room){return!room.roomIsFull})))?(id=emptyRoom.id,user1=emptyRoom.user1,user2=emptyRoom.user2,socket.emit("join",id),setUserDataFn([{username:null,color:"black",roomId:id},{username:null,color:"white",roomId:id}]),emptyRoom.user1_isReady?updateGomokuRoomState(id,!0,!0,!0,user1,_user=username||user2).then((function(res){console.log(_user,res),setUserNowFn(_user),setGameStartFn()})):setFirstPlayerAndTimeoutExit(id,username||user1,user2)):createGomokuRoom().then((function(res){var id=res.id,user1=res.user1,user2=res.user2;socket.emit("join",id),setUserDataFn([{username:user1,color:"black",roomId:id},{username:user2,color:"white",roomId:id}]),setFirstPlayerAndTimeoutExit(id,user1)}));case 7:case"end":return _context3.stop()}}),_callee3)})));return function(){return _ref3.apply(this,arguments)}}(),setToLS=function(id,username,point,rank){localStorage.setItem("userDBid",id),localStorage.setItem("username",username),localStorage.setItem("point",point),localStorage.setItem("rank",rank)},getUser=function(username){return strapi.getEntries("users",{username:username}).then((function(res){return console.log(res),res}))},singUp=function(){var _ref4=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.mark((function _callee4(username,email,pwd,setErr){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default.a.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,getUser(username);case 3:if(!(0<_context4.sent.length)){_context4.next=6;break}throw{message:"Username have been used!"};case 6:return _context4.abrupt("return",strapi.register(username,email,pwd).then((function(res){console.log(res);var _res$user=res.user,id=_res$user.id,username=_res$user.username,point=_res$user.point,rank=_res$user.rank;setToLS(id,username,point,rank),location.reload()})).catch((function(e){return setErr(e.message)})));case 9:_context4.prev=9,_context4.t0=_context4.catch(0),setErr(_context4.t0.message);case 12:case"end":return _context4.stop()}}),_callee4,null,[[0,9]])})));return function(){return _ref4.apply(this,arguments)}}(),logIn=function(username,pwd,setErr){return strapi.login(username,pwd).then((function(res){console.log(res);var _res$user2=res.user,id=_res$user2.id,username=_res$user2.username,point=_res$user2.point,rank=_res$user2.rank;return setToLS(id,username,point,rank),res})).catch((function(e){setErr&&setErr(e.message)}))},updateUser=function(id,point,rank){return strapi.updateEntry("users",id,{point:point,rank:rank}).then((function(res){return console.log("latest point and rank: ",res),res}))},getEmotes=function(){return strapi.getEntries("emotes").then((function(res){return console.log("emotes: ",res),res.map((function(r){return{id:r.id,emoteName:r.emoteName,imgSrc:apiUrl+r.emoteImg.url}}))}))}},31:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16);var objectWithoutProperties=__webpack_require__(41),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__(0),react_default=__webpack_require__.n(react),config=__webpack_require__(38),toConsumableArray=(__webpack_require__(78),__webpack_require__(3)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),actionTypes=__webpack_require__(99);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var statsInfo_reducer=function(state,action){var type=action.type,statName=action.statName,number=action.number,stat=state.find((function(stats){return stats.statName===statName})),newStats=toConsumableArray_default()(state);switch(type){case actionTypes.a:if(stat){var id=stat.id,newNumber=stat.statNumber+number;if(stat.statName===config.a.exp){var levelStat=state.find((function(stats){return stats.statName===config.a.level})),level=levelStat.statNumber,levelId=levelStat.id,_getLevelUpCount=Object(config.b)(level,newNumber),levelUpCount=_getLevelUpCount.levelUpCount,remainExp=_getLevelUpCount.remainExp;newStats[levelId]=_objectSpread({},newStats[levelId],{statNumber:level+levelUpCount}),newNumber=remainExp}return newStats[id]=_objectSpread({},newStats[id],{statNumber:newNumber}),newStats}return state;case actionTypes.d:if(stat){var _id=stat.id,_originStatNum=stat.statNumber,statsMinimumFn=action.statsMinimumFn,_newNumber=_originStatNum-number;return 0>_newNumber?(statsMinimumFn&&statsMinimumFn(),state):(newStats[_id]=_objectSpread({},newStats[_id],{statNumber:_newNumber}),newStats)}return state;default:return state}},shopList_reducer=function(state,action){var type=action.type,id=action.id,count=action.count,item=state.find((function(item){return item.id===id})),newShopList=toConsumableArray_default()(state);switch(type){case actionTypes.b:var itemCount=item.itemCount;return newShopList[id]=_objectSpread({},newShopList[id],{itemCount:itemCount+count}),newShopList;case actionTypes.c:var newAmount=item.itemCount-count;return 0<=newAmount?(newShopList[id]=_objectSpread({},newShopList[id],{itemCount:newAmount}),newShopList):state;default:return state}},GameFrame_config=__webpack_require__(115);function context_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function context_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?context_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):context_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}__webpack_require__.d(__webpack_exports__,"a",(function(){return ContextStore})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ContextWrapper}));var userInfo_init={id:0,username:"",point:10099,rank:0,isLoggedIn:!1},ContextStore=react_default.a.createContext({userInfo:userInfo_init,statsInfo:config.f,shopList:GameFrame_config.d,setUserInfo:function setUserInfo(){},dispatch:function dispatch(){}}),ContextWrapper=function(_ref){var customCtx=_ref.customCtx,props=objectWithoutProperties_default()(_ref,["customCtx"]),value=function(){var customCtx=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},ctx=context_objectSpread({userInfo_custom:userInfo_init,statsInfo_custom:config.f,shopList_custom:GameFrame_config.d},customCtx),userInfo_custom=ctx.userInfo_custom,statsInfo_custom=ctx.statsInfo_custom,shopList_custom=ctx.shopList_custom,_useState=Object(react.useState)(userInfo_custom),_useState2=slicedToArray_default()(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1],_useReducer=Object(react.useReducer)(statsInfo_reducer,statsInfo_custom),_useReducer2=slicedToArray_default()(_useReducer,2),statsInfo=_useReducer2[0],dispatchStatsInfo=_useReducer2[1],_useReducer3=Object(react.useReducer)(shopList_reducer,shopList_custom),_useReducer4=slicedToArray_default()(_useReducer3,2),shopList=_useReducer4[0],dispatchShopList=_useReducer4[1];return{userInfo:userInfo,setUserInfo:setUserInfo,statsInfo:statsInfo,shopList:shopList,dispatch:function dispatch(params){return[dispatchStatsInfo,dispatchShopList].forEach((function(fn){return fn(params)}))}}}(customCtx);return react_default.a.createElement(ContextStore.Provider,{value:value},props.children)};ContextWrapper.displayName="ContextWrapper";__webpack_exports__.c=ContextStore;ContextWrapper.__docgenInfo={description:"",methods:[],displayName:"ContextWrapper"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\context.js"]={name:"ContextWrapper",docgenInfo:ContextWrapper.__docgenInfo,path:"src\\components\\GameFrame\\context.js"})},32:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return limitTimeModeTime})),__webpack_require__.d(__webpack_exports__,"b",(function(){return cellSize})),__webpack_require__.d(__webpack_exports__,"i",(function(){return primaryColor})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getDifficultyEmptyBlocks})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getDifficultyByLevel})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getResultScoreStars})),__webpack_require__.d(__webpack_exports__,"a",(function(){return allPosibleTwoDigitsNumbers})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getRandomNumberAndGetRandomFac})),__webpack_require__.d(__webpack_exports__,"c",(function(){return fillNumsToBlocks})),__webpack_require__.d(__webpack_exports__,"j",(function(){return randomBlankNumbers}));__webpack_require__(19),__webpack_require__(33),__webpack_require__(22),__webpack_require__(15),__webpack_require__(125),__webpack_require__(45),__webpack_require__(17),__webpack_require__(105),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(35),__webpack_require__(86),__webpack_require__(247),__webpack_require__(16),__webpack_require__(48);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_18__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(403),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_20__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_21__),lodash__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(72),lodash__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_22__);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_21___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var limitTimeModeTime=120,cellSize=50,primaryColor="#0051ff",getDifficultyEmptyBlocks=function(difficulty){return"easy"===difficulty?4:"medium"===difficulty?12:"hard"===difficulty?16:8},getDifficultyByLevel=function(level){return 20>=level?"easy":40>=level?"medium":"hard"},getResultScoreStars=function getResultScoreStars(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_20___default()(this,getResultScoreStars)};_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_21___default()(getResultScoreStars,"getSpeedModeResultContent",(function(difficulty,time){var difficultyWeight=getDifficultyEmptyBlocks(difficulty);return{level:"no",score:difficultyWeight*(3*difficultyWeight-time)*100}})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_21___default()(getResultScoreStars,"getResultContent",(function(){var level=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return{level:level,score:1e3*level}})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_21___default()(getResultScoreStars,"getStarByLevelAndTime",(function(level,time){if(20>=level)return 10>=time?3:20>=time?2:1})),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_21___default()(getResultScoreStars,"getMultiLevelResultStarContent",(function(difficulty,level,time){return{level:level,score:getResultScoreStars.getSpeedModeResultContent(difficulty,time).score,star:getResultScoreStars.getStarByLevelAndTime(level,time)}}));var getArrs=function(arrCount){var res=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19___default()(Array(arrCount).keys()).map((function(){return res}))},checkIsDuplicateAndGetNewRes=function(numData,res){var num=numData.num,factorization=numData.factorization,newRes=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19___default()(res),numIndex=res.map((function(r){return r.num})).indexOf(num);return-1===numIndex?[].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19___default()(res),[_objectSpread({},numData,{factorization:[factorization]})]):(newRes[numIndex]=_objectSpread({},newRes[numIndex],{factorization:[].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19___default()(newRes[numIndex].factorization),[factorization])}),newRes)},allPosibleTwoDigitsNumbers=function(){for(var res=[],i=1;9>=i;i++)for(var j=1;9>=j;j++){var numMulti=i*j,numPlus=i+j;10<=numMulti&&(res=checkIsDuplicateAndGetNewRes({num:numMulti,factorization:["x",i,j]},res)),10<=numPlus&&(res=checkIsDuplicateAndGetNewRes({num:numPlus,factorization:["+",i,j]},res))}return res},getRandomNumberAndGetRandomFac=function(possibleNumbers){for(var res=[],randomedNums=lodash__WEBPACK_IMPORTED_MODULE_22___default.a.shuffle(possibleNumbers),i=0;8>i;i++){var numData=randomedNums[i],num=numData.num,factorization=numData.factorization,randomedFac=lodash__WEBPACK_IMPORTED_MODULE_22___default.a.shuffle(factorization)[0];res[i]={num:num,factorization:randomedFac}}return res},fillEmptyNum=function(num1Req,num2Res){var emptyNum=num2Res-num1Req;return 0<emptyNum?["+",emptyNum]:["-",Math.abs(emptyNum)]},fillNumsToBlocks=function(twoDigitsNums){for(var flattedNums=twoDigitsNums.map((function(numFac){var num=numFac.num,factorization=numFac.factorization,_factorization=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_18___default()(factorization,3),operation=_factorization[0],factor1=_factorization[1],factor2=_factorization[2],splitNum=(num+"").split("").map((function(num){return 1*num}));return{operation:operation,numArr:[factor1,factor2,splitNum[0],splitNum[1]]}})),numRes=getArrs(63),opeRes_rowCenter=getArrs(63),opeRes_columnCenter=getArrs(56),_loop=function(i){for(var _flattedNums$i=flattedNums[i],operation=_flattedNums$i.operation,numArr=_flattedNums$i.numArr,arrangeNums=function(idx,j){numRes[idx]=numArr[j],0===j?opeRes_columnCenter[idx]=operation:1==j&&(opeRes_columnCenter[idx]="=")},j=0;4>j;j++)4>i?arrangeNums(2*i+7*j,j):arrangeNums(2*(i-4)+7*j+35,j)},i=0;8>i;i++)_loop(i);var emptyMainBlocksIndex=[1,5,22,26,36,40,57,61];for(i=0;8>i;i++){var idx=emptyMainBlocksIndex[i],_fillEmptyNum=fillEmptyNum(numRes[idx-1],numRes[idx+1]),_fillEmptyNum2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_18___default()(_fillEmptyNum,2),operation=_fillEmptyNum2[0],num=_fillEmptyNum2[1];numRes[idx]=num,opeRes_rowCenter[idx]="=",opeRes_rowCenter[idx-1]=operation}for(var _idx,emptyBridgeBlocks=[10,29,33,45],_i=0;_i<emptyBridgeBlocks.length;_i++)if(29===(_idx=emptyBridgeBlocks[_i])||33===_idx){var _fillEmptyNum3=fillEmptyNum(numRes[_idx-7],numRes[_idx+7]),_fillEmptyNum4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_18___default()(_fillEmptyNum3,2);operation=_fillEmptyNum4[0],num=_fillEmptyNum4[1];numRes[_idx]=num,opeRes_columnCenter[_idx]="=",opeRes_columnCenter[_idx-7]=operation}else{var _fillEmptyNum5=fillEmptyNum(numRes[_idx-1],numRes[_idx+1]),_fillEmptyNum6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_18___default()(_fillEmptyNum5,2),_operation=_fillEmptyNum6[0],_num=_fillEmptyNum6[1];numRes[_idx]=_num,opeRes_rowCenter[_idx]="=",opeRes_rowCenter[_idx-1]=_operation}return{operations:{opeRes_rowCenter:opeRes_rowCenter,opeRes_columnCenter:opeRes_columnCenter},numbers:numRes}},randomBlankNumbers=function(originNums,amountOfEmptyBlocks){for(var newNums=originNums.map((function(number){return"number"==typeof number?{type:"number",number:number}:{type:"empty"}})),numbersIndexes=[],blankedNumbersForCheck=[],i=0;i<newNums.length;i++)"number"===newNums[i].type&&(numbersIndexes=[].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19___default()(numbersIndexes),[i]));for(var emptyBlocksIndexes=lodash__WEBPACK_IMPORTED_MODULE_22___default.a.shuffle(numbersIndexes).slice(0,amountOfEmptyBlocks),_i2=0;_i2<emptyBlocksIndexes.length;_i2++){var index=emptyBlocksIndexes[_i2],answer=newNums[index].number;newNums[index]={type:"blanked",answer:answer,number:""},blankedNumbersForCheck=[].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_19___default()(blankedNumbersForCheck),[{index:index,answer:answer,number:""}])}return{numbersData:newNums,blankedNumbersForCheck:blankedNumbersForCheck}}},38:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return allStats})),__webpack_require__.d(__webpack_exports__,"d",(function(){return lifeMax})),__webpack_require__.d(__webpack_exports__,"e",(function(){return lifeRecoverMinutes})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getLevelUpExp})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getLevelUpCount})),__webpack_require__.d(__webpack_exports__,"f",(function(){return statsInfo_init}));var allStats={life:"life",coin:"coin",level:"level",exp:"exp"},lifeMax=10,lifeRecoverMinutes=5,getLevelUpExp=function(level){return~~(100*Math.pow(1.2,level))},getLevelUpCount=function(levelNow,expNow){for(var levelUpCount=0,level=levelNow,exp=expNow,levelUpExpNow=getLevelUpExp(level);0<=exp-levelUpExpNow;)exp-=levelUpExpNow,levelUpCount+=1,levelUpExpNow=getLevelUpExp(level+=1);return{levelUpCount:levelUpCount,remainExp:exp}},statsInfo_init=[{id:0,statName:allStats.life,statNumber:10},{id:1,statName:allStats.coin,statNumber:0},{id:2,statName:allStats.level,statNumber:10},{id:3,statName:allStats.exp,statNumber:0}]},391:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/poker-diamond.a9c16b94.png"},392:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/poker-heart.480c9030.png"},393:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/poker-club.de902e0b.png"},394:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/poker-spade.4c8ba8ec.png"},398:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/emote-thank-you.6a8682d0.png"},399:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/emote-hi-there.18230a0a.png"},400:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/emote-ru-87.100cd7fb.png"},401:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/emote-ru-rdrrC.93bc0238.png"},402:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(127),__webpack_require__(86),__webpack_require__(140),__webpack_require__(16);var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(23),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_15__),react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__),react_router_dom__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(37),react_router_dom__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(49),_material_ui_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(54),_material_ui_core__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(175),_material_ui_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(278),_material_ui_core__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(27),_material_ui_icons__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(775),_material_ui_icons__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(776),_material_ui_icons__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(777),___WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(219),_GameFrame_resultContent__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(148),_GameFrame__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(149),_material_ui_styles__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(279),_GameFrame_multiLevels__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(128),_GameFrame_config__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(115);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var useStyles=Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_29__.a)({root:{"& a":{textDecoration:"none"}},gameModeBlock:{margin:"0px 5px",padding:6,textAlign:"center","&:hover":{backgroundColor:"#eee"},"& svg":{fontSize:40}}}),Game=function(){var gameMode=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"limitTime",_ref=react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__.a,{align:"center",variant:"h5"},gameMode),_ref2=react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_GameFrame__WEBPACK_IMPORTED_MODULE_28__.a,{GameComponent:___WEBPACK_IMPORTED_MODULE_26__.a,PopupComponent:_GameFrame_resultContent__WEBPACK_IMPORTED_MODULE_27__.a,gameMode:gameMode});return function(){return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_16___default.a.Fragment,null,_ref,_ref2)}},_ref4=react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_17__.b,{to:"/gameMode/multiLevel"},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__.a,{variant:"h5"},"< Level Choose")),MultiLevelGame=function(_ref3){var match=_ref3.match,history=_ref3.history,setLevelData=_ref3.setLevelData,level=match.params.level;return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_16___default.a.Fragment,null,_ref4,react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_GameFrame__WEBPACK_IMPORTED_MODULE_28__.a,{GameComponent:___WEBPACK_IMPORTED_MODULE_26__.a,PopupComponent:_GameFrame_resultContent__WEBPACK_IMPORTED_MODULE_27__.a,resultNextFns:[function handleNextLevel(){history.push("/gameMode/multiLevel/level/".concat(parseInt(level)+1))}],gameMode:"multiLevel",level:parseInt(level),setLevelDataFn:setLevelData}))},_ref6=react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__.a,{variant:"h3"},"Game Mode"),GameModeChoose=function(){var classes=useStyles(),GameModeItem=function(_ref5){var gameMode=_ref5.gameMode,url=_ref5.url,Icon=_ref5.Icon;return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_17__.b,{to:"/gameMode/".concat(url)},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_20__.a,{className:classes.gameModeBlock,elevation:5},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(Icon,null),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_19__.a,{variant:"h4"},gameMode)))};return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_21__.a,{className:classes.root},_ref6,react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_22__.a,{display:"flex"},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(GameModeItem,{url:"limitTime",Icon:_material_ui_icons__WEBPACK_IMPORTED_MODULE_23__.a,gameMode:"Limit Time"}),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(GameModeItem,{url:"speedMode",Icon:_material_ui_icons__WEBPACK_IMPORTED_MODULE_24__.a,gameMode:"Speed Mode"}),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(GameModeItem,{url:"multiLevel",Icon:_material_ui_icons__WEBPACK_IMPORTED_MODULE_25__.a,gameMode:"Multi Level"})))};GameModeChoose.displayName="GameModeChoose";var _ref7=react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_17__.b,{to:"/gameMode"},"Game Mode Choose"),_ref8=react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(GameModeChoose,null),GARAMGameRouter=function(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_16__.useState)(Object(_GameFrame_config__WEBPACK_IMPORTED_MODULE_31__.b)(10)),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_15___default()(_useState,2),levelData=_useState2[0],setLevelData=_useState2[1],handleSetLevelData=Object(react__WEBPACK_IMPORTED_MODULE_16__.useCallback)((function(result){var newLevelData=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_14___default()(levelData),level=result.level,score=result.score,star=result.star;newLevelData[level-1]=function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_13___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},newLevelData[level-1],{score:score,star:star}),setLevelData(newLevelData)}),[levelData]),_ref9=react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_GameFrame_multiLevels__WEBPACK_IMPORTED_MODULE_30__.b,{levelData:levelData,isComponentView:!1});return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_17__.a,null,_ref7,react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.a,{path:"/gameMode",exact:!0,render:function render(){return _ref8}}),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.a,{path:"/gameMode/limitTime",render:Game("limitTime")}),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.a,{path:"/gameMode/speedMode",render:Game("speedMode")}),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.a,{path:"/gameMode/multiLevel",exact:!0,render:function render(){return _ref9}}),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.a,{path:"/gameMode/multiLevel/level/:level",render:function render(props){return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(MultiLevelGame,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_12___default()({},props,{setLevelData:handleSetLevelData}))}}))};GARAMGameRouter.displayName="GARAMGameRouter",__webpack_exports__.a=GARAMGameRouter,GARAMGameRouter.__docgenInfo={description:"",methods:[],displayName:"GARAMGameRouter"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GARAM\\route.js"]={name:"GARAMGameRouter",docgenInfo:GARAMGameRouter.__docgenInfo,path:"src\\components\\GARAM\\route.js"})},408:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(17),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(127),__webpack_require__(86),__webpack_require__(140),__webpack_require__(16);var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(23),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_13__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_14__),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_15__),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16__),react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__),react_router_dom__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(37),react_router_dom__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(49),_material_ui_icons__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(780),_material_ui_icons__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(414),_material_ui_core__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(54),_material_ui_core__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(27),_material_ui_core__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(90),___WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(274),_GameFrame_resultContent__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(148),_GameFrame__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(149),_jewelLevelEnter__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(272),_config__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(7),_GameFrame_multiLevels__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(128),_GameFrame_context__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(31),_GameFrame_gameStats__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(207),_GameFrame_shopList__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(97),_GameFrame_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(64),_GameFrame_gameStats_config__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(38),_jewelShopList__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(217);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var levelData_init=_config__WEBPACK_IMPORTED_MODULE_29__.e.map((function(data,i){return{id:i,level:i+1,star:0}})),itemFn_bomb=function(gameRef){return{itemName:"Bomb",fn:function fn(){gameRef&&gameRef.current.handleSetBomb(3)}}},itemFn_thunder=function(gameRef){return{itemName:"Thunder",fn:function fn(){gameRef&&gameRef.current.handleSetThunder(2)}}},GameMode_JewelsRequirement=function(_ref){var match=_ref.match,history=_ref.history,setLevelDataFn=_ref.setLevelDataFn,_ref$gameRequirements=_ref.gameRequirements,gameRequirements=void 0===_ref$gameRequirements?_config__WEBPACK_IMPORTED_MODULE_29__.e:_ref$gameRequirements,level=match.params.level,LEVEL=parseInt(level)-1;return react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_17___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_22__.a,null,"Level: "+level),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_GameFrame__WEBPACK_IMPORTED_MODULE_27__.a,{key:LEVEL,GameComponent:___WEBPACK_IMPORTED_MODULE_25__.a,PopupComponent:_GameFrame_resultContent__WEBPACK_IMPORTED_MODULE_26__.a,consumedItemFns:[itemFn_bomb,itemFn_thunder],resultNextFns:[function handleNextLevel(){parseInt(level)+1<=gameRequirements.length&&history.push("/jewelGame/enter/".concat(parseInt(level)+1))}],gameOverFns:[function handleSetLevelData(_ref2){var star=_ref2.star,score=_ref2.score;setLevelDataFn(LEVEL,star,score)}],gameRequirements:gameRequirements[LEVEL]}))},JewelMultiLevels=function(_ref3){var levelData=_ref3.levelData;return react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_17___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_GameFrame_multiLevels__WEBPACK_IMPORTED_MODULE_30__.b,{levelData:levelData,isComponentView:!1,baseUrl:"/jewelGame/enter/"}))},_ref4=react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.b,{to:"/jewelGame"},"jewel game"),_ref5=react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_GameFrame_gameStats__WEBPACK_IMPORTED_MODULE_32__.a,null),_ref6=react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_20__.a,null),_ref7=react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_21__.a,null),JewelGameRouter=function(){var dispatch=Object(react__WEBPACK_IMPORTED_MODULE_17__.useContext)(_GameFrame_context__WEBPACK_IMPORTED_MODULE_31__.c).dispatch,_useState=Object(react__WEBPACK_IMPORTED_MODULE_17__.useState)(!1),_useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default()(_useState,2),showShop=_useState2[0],setShopShow=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_17__.useState)(!1),_useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default()(_useState3,2),showItemList=_useState4[0],setItemListShow=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_17__.useState)(levelData_init),_useState6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default()(_useState5,2),levelData=_useState6[0],setLevelData=_useState6[1],handleSetLevelData=Object(react__WEBPACK_IMPORTED_MODULE_17__.useCallback)((function(id,star,highScore){var newLevelData=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_15___default()(levelData);newLevelData[id]=function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_14___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},newLevelData[id],{star:star,highScore:highScore}),setLevelData(newLevelData)}),[levelData]),_ref8=react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(JewelMultiLevels,{levelData:levelData});return react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_18__.a,null,_ref4,react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_23__.a,null,_ref5,react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_24__.a,{onClick:function onClick(){return setShopShow(!showShop)}},_ref6),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_24__.a,{onClick:function onClick(){return setItemListShow(!showItemList)}},_ref7),showShop&&react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_GameFrame_shopList__WEBPACK_IMPORTED_MODULE_33__.a,{isShop:!0,closeFn:function closeFn(){return setShopShow(!1)}}),showItemList&&react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_GameFrame_shopList__WEBPACK_IMPORTED_MODULE_33__.a,{isShop:!1,consumedItemFns:[{itemName:"Potion",fn:function fn(){window.alert("your life increase ".concat(1,"!")),dispatch&&dispatch(Object(_GameFrame_actionsAndReducers_actions__WEBPACK_IMPORTED_MODULE_34__.a)(_GameFrame_gameStats_config__WEBPACK_IMPORTED_MODULE_35__.a.life,1))}}],closeFn:function closeFn(){return setItemListShow(!1)}})),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_19__.a,{path:"/jewelGame",exact:!0,render:function render(){return _ref8}}),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_19__.a,{path:"/jewelGame/enter/:level",render:function render(props){return react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_jewelLevelEnter__WEBPACK_IMPORTED_MODULE_28__.a,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_13___default()({},props,{gameEnterInfo:{allgameRequirements:_config__WEBPACK_IMPORTED_MODULE_29__.e}}))}}),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_19__.a,{path:"/jewelGame/level/:level",render:function render(props){return react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(GameMode_JewelsRequirement,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_13___default()({},props,{setLevelDataFn:handleSetLevelData}))}}))};JewelGameRouter.displayName="JewelGameRouter";var _ref9=react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(JewelGameRouter,null);__webpack_exports__.a=function(){return react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(_GameFrame_context__WEBPACK_IMPORTED_MODULE_31__.b,{customCtx:{shopList_custom:_jewelShopList__WEBPACK_IMPORTED_MODULE_36__.b}},_ref9)}},409:function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),Typography=__webpack_require__(54),API=__webpack_require__(30),makeStyles=__webpack_require__(279),useStyles=Object(makeStyles.a)({gameMainPart:{maxWidth:960,margin:"20px auto",justifyContent:"space-between"},matchPart:{width:300,padding:20,margin:"auto",textAlign:"center"},userHighlight:{color:"#0032FF",fontWeight:600}}),config=__webpack_require__(46),toConsumableArray=(__webpack_require__(78),__webpack_require__(111),__webpack_require__(3)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),fn=__webpack_require__(67),updatePointAndRank=function(isRealRival,setUserInfoFn){var id=JSON.parse(localStorage.getItem("userDBid"));if(id){var point=JSON.parse(localStorage.getItem("point"))||0,newPoint=isRealRival?point+config.d:point+config.c,newRank=Object(fn.b)(newPoint,config.e);Object(API.j)(id,newPoint,newRank).then((function(){localStorage.setItem("point",newPoint),localStorage.setItem("rank",newRank),setUserInfoFn({point:newPoint,rank:newRank})}))}};function useHandleSetData(userData,userNow,pieceData,setData,setPlayerNow,resetGame){return Object(react.useCallback)((function(id){var pieceColor=userData.find((function(data){return data.username===userNow})).color,newPieceData=toConsumableArray_default()(pieceData);if(!newPieceData[id].pieceColor){newPieceData[id]={user:userNow,pieceId:id,pieceColor:pieceColor},setData(newPieceData);var winner=Object(fn.a)(newPieceData,userNow),nextPlayer=winner||userNow!==userData[0].username?userData[0].username:userData[1].username;setPlayerNow(nextPlayer),winner&&resetGame(userNow,winner),API.g.emit("set_piece",{winner:winner,nextPlayer:nextPlayer,data:newPieceData})}}),[pieceData,userData,userNow])}__webpack_require__(19),__webpack_require__(33),__webpack_require__(22),__webpack_require__(15),__webpack_require__(125),__webpack_require__(45),__webpack_require__(17),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(35),__webpack_require__(386),__webpack_require__(104),__webpack_require__(16),__webpack_require__(48);var defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var getPieceDirectionMoves=function(ids,rivalIds){for(var eightDirs=2<arguments.length&&void 0!==arguments[2]?arguments[2]:fn.d,res=[],_loop=function(i){var id=ids[i],eightDirIds=eightDirs.map((function(dir){return dir+id}));res=[].concat(toConsumableArray_default()(res),toConsumableArray_default()(eightDirIds))},i=0;i<ids.length;i++)_loop(i);return res=res.filter((function(r){return-1===rivalIds.indexOf(r)&&0<=r&&-1===ids.indexOf(r)})),toConsumableArray_default()(new Set(res))},getMaxAmountElementFromArr=function(arr){for(var uniqueArr=toConsumableArray_default()(new Set(arr)),countedRes=[],_loop2=function(i){var el=uniqueArr[i],count=arr.filter((function(a){return a===el})).length;countedRes=[].concat(toConsumableArray_default()(countedRes),[{count:count,el:el}])},i=0;i<uniqueArr.length;i++)_loop2(i);var maxCount=Math.max.apply(Math,toConsumableArray_default()(countedRes.map((function(res){return res.count})))),maxCountEls=countedRes.filter((function(res){return res.count===maxCount}));return 1===maxCountEls.length?maxCountEls[0].el:maxCountEls[~~(Math.random()*maxCountEls.length)].el},styles_makeStyles=__webpack_require__(91),Container=__webpack_require__(278),Box=__webpack_require__(27),Button=__webpack_require__(90),Paper=__webpack_require__(175),TextField=__webpack_require__(820);function signUp_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var signUp_useStyles=Object(makeStyles.a)({root:{position:"absolute",top:120,right:0,left:0,padding:10,maxWidth:300,height:230,margin:"auto",textAlign:"center","& .MuiTextField-root":{display:"block",margin:10}}}),signUp_ref=react_default.a.createElement(Typography.a,{variant:"subtitle1"},"Sign UP"),SignUp=function(){var classes=signUp_useStyles(),_useState=Object(react.useState)({email:"",username:"",password:""}),_useState2=slicedToArray_default()(_useState,2),form=_useState2[0],setForm=_useState2[1],_useState3=Object(react.useState)(null),_useState4=slicedToArray_default()(_useState3,2),error=_useState4[0],setErr=_useState4[1],handleChange=Object(react.useCallback)((function(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setForm(function signUp_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?signUp_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):signUp_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},form,defineProperty_default()({},id,value)))}),[form]),handleSignUp=Object(react.useCallback)((function(){var email=form.email,username=form.username,password=form.password;Object(API.f)(username,email,password,setErr)}),[form,setErr]);return react_default.a.createElement(Paper.a,{className:classes.root},signUp_ref,react_default.a.createElement("form",{onChange:handleChange},react_default.a.createElement(TextField.a,{id:"email",margin:"normal",value:form.email,autoComplete:"email",placeholder:"email"}),react_default.a.createElement(TextField.a,{id:"username",margin:"normal",value:form.username,placeholder:"username"}),react_default.a.createElement(TextField.a,{id:"password",margin:"normal",value:form.password,type:"password",placeholder:"password"})),react_default.a.createElement(Button.a,{variant:"contained",onClick:handleSignUp},"Sign Up"),react_default.a.createElement(Typography.a,{color:"error"},error))};SignUp.displayName="SignUp";var loginSignIn_signUp=SignUp;function logIn_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}SignUp.__docgenInfo={description:"",methods:[],displayName:"SignUp"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\loginSignIn\\signUp.js"]={name:"SignUp",docgenInfo:SignUp.__docgenInfo,path:"src\\components\\Gomoku\\loginSignIn\\signUp.js"});var logIn_useStyles=Object(makeStyles.a)({root:{position:"absolute",top:120,right:0,left:0,padding:10,maxWidth:300,height:180,margin:"auto",textAlign:"center","& .MuiTextField-root":{display:"block",margin:10}}}),logIn_ref=react_default.a.createElement(Typography.a,{variant:"subtitle1"},"Log In"),LogIn=function(){var classes=logIn_useStyles(),_useState=Object(react.useState)({username:"",password:""}),_useState2=slicedToArray_default()(_useState,2),form=_useState2[0],setForm=_useState2[1],_useState3=Object(react.useState)(null),_useState4=slicedToArray_default()(_useState3,2),error=_useState4[0],setErr=_useState4[1],handleChange=Object(react.useCallback)((function(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setForm(function logIn_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?logIn_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):logIn_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},form,defineProperty_default()({},id,value)))}),[form]),handleLogIn=Object(react.useCallback)((function(){var username=form.username,password=form.password;Object(API.e)(username,password,setErr)}),[form,setErr]);return react_default.a.createElement(Paper.a,{className:classes.root},logIn_ref,react_default.a.createElement("form",{onChange:handleChange},react_default.a.createElement(TextField.a,{id:"username",margin:"normal",value:form.username,placeholder:"username"}),react_default.a.createElement(TextField.a,{id:"password",margin:"normal",value:form.password,type:"password",placeholder:"password"})),react_default.a.createElement(Button.a,{variant:"contained",onClick:handleLogIn},"Log In"),react_default.a.createElement(Typography.a,{color:"error"},error))};LogIn.displayName="LogIn";var logIn=LogIn;LogIn.__docgenInfo={description:"",methods:[],displayName:"LogIn"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\loginSignIn\\logIn.js"]={name:"LogIn",docgenInfo:LogIn.__docgenInfo,path:"src\\components\\Gomoku\\loginSignIn\\logIn.js"});var initUserInfo={point:JSON.parse(localStorage.getItem("point")),rank:JSON.parse(localStorage.getItem("rank"))},context=react_default.a.createContext({userInfo:initUserInfo}),userInfo_useStyles=Object(styles_makeStyles.a)({root:{padding:10}}),UserInfo=function(_ref){var userInfo=_ref.userInfo,classes=userInfo_useStyles(),point=userInfo.point,rank=userInfo.rank;return react_default.a.createElement(Paper.a,{className:classes.root},react_default.a.createElement(Typography.a,{variant:"subtitle1"},"point: ",react_default.a.createElement("span",null,point)),react_default.a.createElement(Typography.a,{variant:"subtitle1"},"rank: ",react_default.a.createElement("span",null,rank)))};UserInfo.displayName="UserInfo";var loginSignIn_userInfo=function(){var userInfo=Object(react.useContext)(context).userInfo;return react_default.a.createElement(UserInfo,{userInfo:userInfo})},navBar_useStyles=Object(styles_makeStyles.a)({root:{position:"fixed",justifyContent:"flex-end",top:0,left:0,width:"100%",height:48,backgroundColor:"#ddd","& h5":{padding:6}},back:{position:"fixed",top:48,left:0,width:"100%",height:"100vh"},backBG:{position:"absolute",top:0,bottom:0,right:0,left:0,margin:"auto",backgroundColor:"#ddd",opacity:.6},username:{}}),navBar_ref=react_default.a.createElement(loginSignIn_userInfo,null),_ref2=react_default.a.createElement(loginSignIn_signUp,null),_ref3=react_default.a.createElement(logIn,null),NavBar=function(){var classes=navBar_useStyles(),_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),signUp=_useState2[0],setSignUp=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),login=_useState4[0],setLogin=_useState4[1],_useState5=Object(react.useState)(null),_useState6=slicedToArray_default()(_useState5,2),username=_useState6[0],setUsername=_useState6[1];return Object(react.useEffect)((function(){var username=localStorage.getItem("username");username&&setUsername(username)}),[]),react_default.a.createElement(Container.a,null,react_default.a.createElement(Box.a,{display:"flex",className:classes.root},!username&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Button.a,{onClick:function onClick(){return setSignUp(!signUp)}},"sign up"),react_default.a.createElement(Button.a,{onClick:function onClick(){return setLogin(!login)}},"log in")),username&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Box.a,{className:classes.username},react_default.a.createElement(Typography.a,{variant:"h5"},username),navBar_ref),react_default.a.createElement(Button.a,{onClick:function handleLogOut(){setUsername(null),localStorage.removeItem("userDBid"),localStorage.removeItem("username"),localStorage.removeItem("point"),localStorage.removeItem("rank")}},"log out"))),(signUp||login)&&react_default.a.createElement(Box.a,{className:classes.back},react_default.a.createElement(Box.a,{className:classes.backBG,onClick:function handleClose(){setSignUp(!1),setLogin(!1)}}),signUp&&_ref2,login&&_ref3))};NavBar.displayName="NavBar";var navBar=NavBar;NavBar.__docgenInfo={description:"",methods:[],displayName:"NavBar"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\loginSignIn\\navBar.js"]={name:"NavBar",docgenInfo:NavBar.__docgenInfo,path:"src\\components\\Gomoku\\loginSignIn\\navBar.js"});__webpack_require__(126);var tableCells=toConsumableArray_default()(Array(225).keys()),board_useStyles=Object(makeStyles.a)({root:{position:"relative",width:15*config.a,margin:"auto",fontSize:0},tableCell:{display:"inline-block",width:config.a,height:config.a,boxSizing:"border-box",border:"1px solid #aaa"}}),Table=function(props){var classes=board_useStyles();return react_default.a.createElement("div",{className:classes.root},tableCells.map((function(cell){return react_default.a.createElement("div",{key:cell,className:classes.tableCell})})),props.children)};Table.displayName="Table";var board=Table;Table.__docgenInfo={description:"",methods:[],displayName:"Table"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\board.js"]={name:"Table",docgenInfo:Table.__docgenInfo,path:"src\\components\\Gomoku\\board.js"});var singlePiece_useStyles=Object(makeStyles.a)({root:{display:"inline-block",width:config.a-4,height:config.a-4,margin:2,borderRadius:1e4,cursor:"pointer",transition:"0.2s",backgroundColor:function backgroundColor(props){return props.blackOrWhite?"black"===props.blackOrWhite?"#111":"#fff":null},boxShadow:function boxShadow(props){return props.blackOrWhite&&"0px 0px 6px #aaa"},"&:hover":{backgroundColor:function backgroundColor(props){return!props.blackOrWhite&&"#ddd"},transition:"0.2s"}}}),SinglePiece=function(_ref){var id=_ref.id,setPiece=_ref.setPiece,blackOrWhite=_ref.blackOrWhite,classes=(_ref.setPieceInfo,singlePiece_useStyles({blackOrWhite:blackOrWhite}));return react_default.a.createElement("div",{onClick:setPiece?setPiece.bind(void 0,id):null,className:classes.root})};SinglePiece.displayName="SinglePiece";var singlePiece=SinglePiece;SinglePiece.__docgenInfo={description:"",methods:[],displayName:"SinglePiece"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\singlePiece.js"]={name:"SinglePiece",docgenInfo:SinglePiece.__docgenInfo,path:"src\\components\\Gomoku\\singlePiece.js"});var pieces_useStyles=Object(makeStyles.a)({root:{position:"absolute",top:0,width:14*config.a,margin:"auto",fontSize:0,transform:"translate(".concat(config.a/2,"px, ").concat(config.a/2,"px)")}}),Pieces=function(_ref){var pieceData=_ref.pieceData,setPiece=_ref.setPiece,setPieceInfo=_ref.setPieceInfo,classes=pieces_useStyles();return react_default.a.createElement("div",{className:classes.root},pieceData.map((function(piece){return react_default.a.createElement(singlePiece,{key:piece.pieceId,id:piece.pieceId,setPiece:setPiece,setPieceInfo:setPieceInfo,blackOrWhite:piece.pieceColor})})))};Pieces.displayName="Pieces";var pieces=Pieces;Pieces.__docgenInfo={description:"",methods:[],displayName:"Pieces"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\pieces.js"]={name:"Pieces",docgenInfo:Pieces.__docgenInfo,path:"src\\components\\Gomoku\\pieces.js"});var userInfo_ref2=react_default.a.createElement("hr",null),userInfo_UserInfo=function(_ref){var userNow=_ref.userNow,playerNow=_ref.playerNow,roomId=_ref.userData[0].roomId;return react_default.a.createElement(Paper.a,null,react_default.a.createElement(Typography.a,{variant:"subtitle1"},"Room: ".concat(roomId)),react_default.a.createElement(Typography.a,{variant:"h4"},userNow&&"Id: ".concat(userNow)),userInfo_ref2,react_default.a.createElement(Typography.a,{variant:"h5"},userNow===playerNow?"Your turn!":"Adversary is thinking..."))};userInfo_UserInfo.displayName="UserInfo";var Gomoku_userInfo=userInfo_UserInfo;userInfo_UserInfo.__docgenInfo={description:"",methods:[],displayName:"UserInfo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\userInfo.js"]={name:"UserInfo",docgenInfo:userInfo_UserInfo.__docgenInfo,path:"src\\components\\Gomoku\\userInfo.js"});var chatRoom=__webpack_require__(273),Timer=__webpack_require__(96),GameMainPart=function(_ref){var classes=_ref.classes,userNow=_ref.userNow,playerNow=_ref.playerNow,userData=_ref.userData,timerRef=_ref.timerRef,handleSetRandomPiece=_ref.handleSetRandomPiece,handleSetData=_ref.handleSetData,pieceData=_ref.pieceData,leaveGame=_ref.leaveGame;return react_default.a.createElement(Container.a,null,react_default.a.createElement(Gomoku_userInfo,{userNow:userNow,playerNow:playerNow,userData:userData}),react_default.a.createElement(Timer.b,{ref:timerRef,time:2e3,timeoutFn:handleSetRandomPiece,isPause:playerNow!==userNow}),react_default.a.createElement(Box.a,{display:"flex",className:classes.gameMainPart},react_default.a.createElement(board,null,react_default.a.createElement(pieces,{setPiece:playerNow===userNow&&handleSetData,pieceData:pieceData})),react_default.a.createElement(chatRoom.a,{userData:userData,userNow:userNow},react_default.a.createElement(Button.a,{onClick:leaveGame.bind(void 0,userNow)},"exit game"),react_default.a.createElement(Button.a,{onClick:handleSetRandomPiece},"set random piece"))))};GameMainPart.displayName="GameMainPart";var gameMainPart=GameMainPart;GameMainPart.__docgenInfo={description:"",methods:[],displayName:"GameMainPart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\components\\gameMainPart.js"]={name:"GameMainPart",docgenInfo:GameMainPart.__docgenInfo,path:"src\\components\\Gomoku\\components\\gameMainPart.js"});var fastMatch_ref2=react_default.a.createElement(Typography.a,{variant:"h3"},"GOMOKU BATTLE"),FastMatch=function(_ref){var className=_ref.className,setDataFns=_ref.setDataFns,setSinglePlayFn=_ref.setSinglePlayFn,_setDataFns=slicedToArray_default()(setDataFns,3),setUserNow=_setDataFns[0],setUserData=_setDataFns[1],handleSetGameStart=_setDataFns[2];return react_default.a.createElement(Paper.a,{className:className},fastMatch_ref2,react_default.a.createElement(Button.a,{variant:"contained",color:"primary",onClick:function onClick(){return Object(API.d)(setUserNow,setUserData,handleSetGameStart)}},"fast match"),react_default.a.createElement(Button.a,{onClick:setSinglePlayFn},"Single Play"))};FastMatch.displayName="FastMatch";var fastMatch=FastMatch;FastMatch.__docgenInfo={description:"",methods:[],displayName:"FastMatch"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Gomoku\\components\\fastMatch.js"]={name:"FastMatch",docgenInfo:FastMatch.__docgenInfo,path:"src\\components\\Gomoku\\components\\fastMatch.js"});var Gomoku_ref=react_default.a.createElement(Typography.a,{variant:"h5"},"waiting for another player..."),Gomoku_ref2=react_default.a.createElement(navBar,null),App=function(){var setUserInfo=Object(react.useContext)(context).setUserInfo,classes=useStyles(),timerRef=Object(react.useRef)(),_useState=Object(react.useState)(config.b),_useState2=slicedToArray_default()(_useState,2),pieceData=_useState2[0],setData=_useState2[1],_useState3=Object(react.useState)(null),_useState4=slicedToArray_default()(_useState3,2),userData=_useState4[0],setUserData=_useState4[1],_useState5=Object(react.useState)(null),_useState6=slicedToArray_default()(_useState5,2),userNow=_useState6[0],setUserNow=_useState6[1],_useState7=Object(react.useState)("Player01"),_useState8=slicedToArray_default()(_useState7,2),playerNow=_useState8[0],setPlayerNow=_useState8[1],_useState9=Object(react.useState)(!1),_useState10=slicedToArray_default()(_useState9,2),gameStart=_useState10[0],setGameStart=_useState10[1],_useState11=Object(react.useState)(!1),_useState12=slicedToArray_default()(_useState11,2),isSinglePlay=_useState12[0],setSinglePlay=_useState12[1],leaveGame=Object(react.useCallback)((function(userNow){var roomId=userData[0].roomId;window.confirm("Are your sure leaving the game?")&&("single play"!==roomId&&API.g.emit("leave",{userNow:userNow,roomId:roomId}),resetGame(!1))}),[userData]),resetGame=function useResetGame(userData,setGameStart,setUserInfo){return Object(react.useCallback)((function(userNow,winner){var winRes=userNow===winner&&"PC"!==winner,resultMes=winRes?"You Win!!!":"You Lose :(...";if(winRes&&updatePointAndRank(!1,setUserInfo),console.log(winner,userData),setTimeout((function(){window.alert(resultMes),setGameStart(!1)}),500),userData){var roomId=userData[0].roomId;"single play"!==roomId&&Object(API.i)(roomId)}}),[userData])}(userData,setGameStart,setUserInfo),handleSetData=useHandleSetData(userData,userNow,pieceData,setData,setPlayerNow,resetGame),handleSetData_pc=useHandleSetData(userData,"PC",pieceData,setData,setPlayerNow,resetGame);return Object(react.useEffect)((function(){return console.log("register socket"),API.g.on("get_game",(function(res){console.log("get_game",res),setGameStart(res),res||(resetGame(!1),API.g.emit("leave",!1))})),API.g.on("get_message",(function(res){window.alert(res)})),function(){API.g.removeAllListeners()}}),[]),Object(react.useEffect)((function(){if(gameStart||(setData(config.b),setUserData(null),setUserNow(null)),userData){var roomId=userData[0].roomId;"single play"!==roomId&&Object(API.c)(roomId).then((function(res){var user1=res.user1,user2=res.user2;setUserData([{username:user1,color:"black",roomId:roomId},{username:user2,color:"white",roomId:roomId}])}))}}),[gameStart]),Object(react.useEffect)((function(){userData&&userNow&&(setPlayerNow(userData[0].username),API.g.on("get_piece",(function(res){setPlayerNow(res.nextPlayer),setData(res.data),res.winner&&resetGame(userNow,res.winner)})))}),[userData,userNow]),Object(react.useEffect)((function(){if(isSinglePlay&&playerNow!==config.f){var pcId=function(pieceData){for(var user=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",userPieceColor=2<arguments.length?arguments[2]:void 0,loseOrWinRes=[],userPieces=pieceData.filter((function(data){return data.user===user})),userPieceIds=userPieces.map((function(piece){return piece.pieceId})),pcPieceIds=pieceData.filter((function(data){return"PC"===data.user})).map((function(piece){return piece.pieceId})),newPieceData=function(id){var originData=1<arguments.length&&void 0!==arguments[1]?arguments[1]:pieceData,_user=2<arguments.length&&void 0!==arguments[2]?arguments[2]:user,color=3<arguments.length&&void 0!==arguments[3]?arguments[3]:userPieceColor,data=toConsumableArray_default()(originData);return data[id]=_objectSpread({},data[id],{user:_user,pieceColor:color}),data},checkNewPieceDataWhoWin=function(moveId,moveId2){var _user=2<arguments.length&&void 0!==arguments[2]?arguments[2]:user,color=3<arguments.length&&void 0!==arguments[3]?arguments[3]:userPieceColor,data=newPieceData(moveId,pieceData,_user,color);if(moveId2&&(data=newPieceData(moveId2,data)),Object(fn.a)(data,_user))return moveId},userPossibleMoves=getPieceDirectionMoves(userPieceIds,pcPieceIds),i=0;i<userPossibleMoves.length;i++){var moveId_first=userPossibleMoves[i],checkRes_first=checkNewPieceDataWhoWin(moveId_first);checkRes_first&&(loseOrWinRes=[].concat(toConsumableArray_default()(loseOrWinRes),[checkRes_first]))}for(var _i=0;_i<userPossibleMoves.length;_i++)for(var _moveId_first=userPossibleMoves[_i],secondIds=[].concat(toConsumableArray_default()(userPieceIds),[_moveId_first]),userPossibleMoves_second=getPieceDirectionMoves(secondIds,pcPieceIds),j=0;j<userPossibleMoves_second.length;j++){var moveId_second=userPossibleMoves_second[j],checkRes_second=checkNewPieceDataWhoWin(_moveId_first,moveId_second);checkRes_second&&(loseOrWinRes=[].concat(toConsumableArray_default()(loseOrWinRes),[checkRes_second]))}for(var PCpossibleMoves=getPieceDirectionMoves(pcPieceIds,userPieceIds),_i2=0;_i2<PCpossibleMoves.length;_i2++){var moveId=PCpossibleMoves[_i2],checkRes=checkNewPieceDataWhoWin(moveId,null,"PC","white");checkRes&&(loseOrWinRes=[].concat(toConsumableArray_default()(loseOrWinRes),[checkRes]))}if(0<loseOrWinRes.length)return console.log("loseOrWinRes: ",loseOrWinRes),getMaxAmountElementFromArr(loseOrWinRes);if(0<PCpossibleMoves.length){var moveIndex=~~(Math.random()*PCpossibleMoves.length);return PCpossibleMoves[moveIndex]}var _moveIndex=~~(Math.random()*userPossibleMoves.length);return userPossibleMoves[_moveIndex]}(pieceData,userNow,"black");console.log(pcId),handleSetData_pc(pcId)}timerRef.current&&timerRef.current.resetTimer()}),[pieceData]),console.log(userNow,gameStart),react_default.a.createElement("div",{style:{marginTop:60}},gameStart&&react_default.a.createElement(gameMainPart,{classes:classes,userNow:userNow,playerNow:playerNow,userData:userData,timerRef:timerRef,handleSetRandomPiece:function handleSetRandomPiece(){window.alert("time out!");var randomPieceId=Object(fn.e)(pieceData);handleSetData(randomPieceId)},handleSetData:handleSetData,pieceData:pieceData,leaveGame:leaveGame}),userNow&&!gameStart&&Gomoku_ref,!gameStart&&react_default.a.createElement(fastMatch,{className:classes.matchPart,setDataFns:[setUserNow,setUserData,function handleSetGameStart(){API.g.emit("set_game",!0)}],setSinglePlayFn:function handleSetSinglePlay(){var username=config.f;setGameStart(!0),setUserData([{username:username,color:"black",roomId:"single play"},{username:"PC",color:"white",roomId:"single play"}]),setPlayerNow(username),setUserNow(username),setSinglePlay(!0)}}),Gomoku_ref2)};App.displayName="App";var Gomoku_ref3=react_default.a.createElement(App,null);__webpack_exports__.a=function(){var _useState,_useState2,value=(_useState=Object(react.useState)(initUserInfo),{userInfo:(_useState2=slicedToArray_default()(_useState,2))[0],setUserInfo:_useState2[1]});return react_default.a.createElement(context.Provider,{value:value},Gomoku_ref3)}},410:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(17);var slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),toConsumableArray=__webpack_require__(3),toConsumableArray_default=__webpack_require__.n(toConsumableArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),Typography=__webpack_require__(54),Box=__webpack_require__(27),poker_diamond=(__webpack_require__(33),__webpack_require__(45),__webpack_require__(105),__webpack_require__(35),__webpack_require__(48),__webpack_require__(391)),poker_diamond_default=__webpack_require__.n(poker_diamond),poker_heart=__webpack_require__(392),poker_heart_default=__webpack_require__.n(poker_heart),poker_club=__webpack_require__(393),poker_club_default=__webpack_require__.n(poker_club),poker_spade=__webpack_require__(394),poker_spade_default=__webpack_require__.n(poker_spade),lodash=__webpack_require__(72),lodash_default=__webpack_require__.n(lodash),patternInfos={diamond:{color:"red",imgSrc:poker_diamond_default.a},spade:{color:"black",imgSrc:poker_spade_default.a},heart:{color:"red",imgSrc:poker_heart_default.a},club:{color:"black",imgSrc:poker_club_default.a}},getCards=function(){var pattern=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",color=1<arguments.length?arguments[1]:void 0,index=2<arguments.length?arguments[2]:void 0;return toConsumableArray_default()(Array(13).keys()).map((function(a){return{id:a+13*index,pattern:pattern,color:color,number:a+1}}))},pokerCards=[].concat(toConsumableArray_default()(getCards("spade","black",0)),toConsumableArray_default()(getCards("heart","red",1)),toConsumableArray_default()(getCards("club","black",2)),toConsumableArray_default()(getCards("diamond","red",3))),getRandomSplitCards=function(){for(var res=[],cards=lodash_default.a.shuffle(pokerCards),i=0;8>i;i++)res[i]=4>i?cards.slice(7*i,7*(i+1)):cards.slice(6*i,6*(i+1));return res},Paper=(__webpack_require__(126),__webpack_require__(175)),makeStyles=__webpack_require__(279),useStyles=Object(makeStyles.a)({root:{width:100,height:200,textAlign:"center",transition:"0.2s",position:"absolute",top:function top(props){return 30*props.index},cursor:"pointer","&:hover":{backgroundColor:"#ddd",transition:"0.2s"}},box:{justifyContent:"start",alignItems:"top",height:"100%"},img:{width:40,height:40}}),mockFn=function(id,pattern,number){console.log(id,pattern,number)},CardItem=function(_ref){var _ref$index=_ref.index,index=void 0===_ref$index?0:_ref$index,cardInfo=_ref.cardInfo,_ref$clickFn=_ref.clickFn,clickFn=void 0===_ref$clickFn?mockFn:_ref$clickFn,_ref$whichLine=_ref.whichLine,whichLine=void 0===_ref$whichLine?void 0:_ref$whichLine,classes=useStyles({index:index}),_cardInfo$pattern=cardInfo.pattern,pattern=void 0===_cardInfo$pattern?"diamond":_cardInfo$pattern,_cardInfo$number=cardInfo.number,number=void 0===_cardInfo$number?"10":_cardInfo$number;return react_default.a.createElement(Paper.a,{className:classes.root,onClick:clickFn?clickFn.bind(void 0,whichLine,cardInfo):void 0},react_default.a.createElement(Box.a,{className:classes.box,display:"flex"},react_default.a.createElement("img",{className:classes.img,src:patternInfos[pattern].imgSrc}),react_default.a.createElement(Typography.a,{variant:"h4"},number)))};CardItem.displayName="CardItem";var FreeCellGame_CardItem=CardItem;CardItem.__docgenInfo={description:"",methods:[],displayName:"CardItem",props:{index:{defaultValue:{value:"0",computed:!1},required:!1},clickFn:{defaultValue:{value:"(id, pattern, number) => {\r\n  console.log(id, pattern, number)\r\n}",computed:!1},required:!1},whichLine:{defaultValue:{value:"undefined",computed:!0},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\FreeCellGame\\CardItem.js"]={name:"CardItem",docgenInfo:CardItem.__docgenInfo,path:"src\\components\\FreeCellGame\\CardItem.js"});var mockCards=[{pattern:"diamond",number:2},{pattern:"diamond",number:10},{pattern:"diamond",number:7}],CardList_useStyles=Object(makeStyles.a)({root:{position:"relative",width:100,height:20,margin:10}}),CardList=function(_ref){var _ref$cards=_ref.cards,cards=void 0===_ref$cards?mockCards:_ref$cards,clickFn=_ref.clickFn,whichLine=_ref.whichLine,cardAmount=_ref.cardAmount,classes=CardList_useStyles();return react_default.a.createElement(Box.a,{className:classes.root},cards.map((function(c,i){return react_default.a.createElement(FreeCellGame_CardItem,{key:c.id,index:i,whichLine:whichLine,cardInfo:c,clickFn:"number"==typeof cardAmount?cardAmount-1===i&&clickFn:clickFn})})))};CardList.displayName="CardList";var FreeCellGame_CardList=CardList;CardList.__docgenInfo={description:"",methods:[],displayName:"CardList",props:{cards:{defaultValue:{value:"[\r\n  { pattern: 'diamond', number: 2, },\r\n  { pattern: 'diamond', number: 10, },\r\n  { pattern: 'diamond', number: 7, },\r\n]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\FreeCellGame\\CardList.js"]={name:"CardList",docgenInfo:CardList.__docgenInfo,path:"src\\components\\FreeCellGame\\CardList.js"});__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16);var defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var EmptyPart_useStyles=Object(makeStyles.a)({root:{position:"relative",width:100,height:200,margin:10,backgroundColor:"#ddd",cursor:"pointer","&:hover":{backgroundColor:"#aaa"}}}),initCards=toConsumableArray_default()([,,,,].keys()).map((function(a){return{row:a,isEmpty:!0,cardInfo:void 0}})),EmptyPartCard=function(_ref){var isEmpty=_ref.isEmpty,cardInfo=_ref.cardInfo,setEmptyCardFn=_ref.setEmptyCardFn,classes=EmptyPart_useStyles();return isEmpty?react_default.a.createElement(Box.a,{className:classes.root,onClick:!cardInfo&&setEmptyCardFn}):react_default.a.createElement(FreeCellGame_CardItem,{clickFn:setEmptyCardFn,cardInfo:cardInfo})},EmptyPart=function(_ref2){var cardInfo,chosenCard=_ref2.chosenCard,setChosenCard=_ref2.setChosenCard;chosenCard&&(cardInfo=chosenCard.cardInfo);var classes=EmptyPart_useStyles(),_useState=Object(react.useState)(initCards),_useState2=slicedToArray_default()(_useState,2),emptyCards=_useState2[0],setCards=_useState2[1],handleSetCard=Object(react.useCallback)((function(whichLine,cardInfo){console.log(whichLine,cardInfo);var newCards=toConsumableArray_default()(emptyCards);newCards[whichLine]=_objectSpread({},newCards[whichLine],{isEmpty:!1,cardInfo:cardInfo}),setCards(newCards),setChosenCard(void 0)}),[cardInfo]),handleSetCardFromEmpty=Object(react.useCallback)((function(whichLine,cardInfo){var newCards=toConsumableArray_default()(emptyCards);newCards[whichLine]=_objectSpread({},newCards[whichLine],{isEmpty:!0,cardInfo:void 0}),setCards(newCards),setChosenCard({whichLine:void 0,cardInfo:cardInfo})}),[emptyCards,setChosenCard]);return console.log(emptyCards),react_default.a.createElement(Box.a,{display:"flex"},emptyCards.map((function(c){return react_default.a.createElement(Box.a,{className:classes.root},react_default.a.createElement(EmptyPartCard,{key:c.row,isEmpty:c.isEmpty,cardInfo:c.cardInfo,setEmptyCardFn:c.isEmpty?function(){return chosenCard&&handleSetCard(c.row,cardInfo)}:function(){return handleSetCardFromEmpty(c.row,c.cardInfo)}}))})))};EmptyPart.displayName="EmptyPart";var FreeCellGame_EmptyPart=EmptyPart;EmptyPart.__docgenInfo={description:"",methods:[],displayName:"EmptyPart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\FreeCellGame\\EmptyPart.js"]={name:"EmptyPart",docgenInfo:EmptyPart.__docgenInfo,path:"src\\components\\FreeCellGame\\EmptyPart.js"});__webpack_require__(242);function MainPart_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var MainPart_initCards=toConsumableArray_default()([,,,,].keys()).map((function(a){return{row:a,pattern:void 0,cardsInLine:[]}})),putCardsToLine=function(whichLine,cardInfo,originData){var pattern=cardInfo.pattern,newCardsData=toConsumableArray_default()(originData);return newCardsData[whichLine]=function MainPart_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?MainPart_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):MainPart_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},newCardsData[whichLine],{pattern:pattern,cardsInLine:[].concat(toConsumableArray_default()(newCardsData[whichLine].cardsInLine),[cardInfo])}),newCardsData},MainPart=function(_ref){var cardInfo,chosenCard=_ref.chosenCard,setChosenCard=_ref.setChosenCard;chosenCard&&(cardInfo=chosenCard.cardInfo);var classes=EmptyPart_useStyles(),_useState=Object(react.useState)(MainPart_initCards),_useState2=slicedToArray_default()(_useState,2),mainCards=_useState2[0],setMainCards=_useState2[1],handlePutCardInLine=Object(react.useCallback)((function(whichLine,cardInfo){var _mainCards$whichLine=mainCards[whichLine],pattern=_mainCards$whichLine.pattern,cardsInLine=_mainCards$whichLine.cardsInLine,lastCard=cardsInLine[cardsInLine.length-1];if(!pattern&&1===cardInfo.number||function(lastCardInfo,cardInfo){var pattern=cardInfo.pattern,number=cardInfo.number,lastCardPattern=lastCardInfo.pattern,lastCardNumber=lastCardInfo.number;return!(lastCardPattern!==pattern||lastCardNumber!==number-1)}(lastCard,cardInfo)){var newCardsData=putCardsToLine(whichLine,cardInfo,mainCards);setMainCards(newCardsData),setChosenCard(void 0)}}),[mainCards,chosenCard]);return Object(react.useEffect)((function(){52===mainCards.map((function(c){return c.cardsInLine.length})).reduce((function(a,b){return a+b}),0)&&window.alert("you win!!")}),[mainCards]),react_default.a.createElement(Box.a,{display:"flex"},mainCards.map((function(cardLine){var row=cardLine.row,cardsInLine=cardLine.cardsInLine;return react_default.a.createElement(Box.a,{key:row,className:classes.root,onClick:function onClick(){return handlePutCardInLine(row,cardInfo)}},react_default.a.createElement(FreeCellGame_CardList,{cards:cardsInLine,whichLine:row}))})))};MainPart.displayName="MainPart";var FreeCellGame_MainPart=MainPart;MainPart.__docgenInfo={description:"",methods:[],displayName:"MainPart"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\FreeCellGame\\MainPart.js"]={name:"MainPart",docgenInfo:MainPart.__docgenInfo,path:"src\\components\\FreeCellGame\\MainPart.js"});var FreeCellGame_useStyles=Object(makeStyles.a)({root:{margin:"auto",maxWidth:1e3},cardLists:{justifyContent:"space-between"}}),cardLines_action_add=function(whichLine,cardInfo){return{type:"add",whichLine:whichLine,cardInfo:cardInfo}},cardLins_reducer=function(state,action){switch(action.type){case"remove":var whichLine=action.whichLine,newCardLines=toConsumableArray_default()(state);return newCardLines[whichLine].pop(),newCardLines;case"add":var _whichLine=action.whichLine,cardInfo=action.cardInfo,_newCardLines=toConsumableArray_default()(state);return _newCardLines[_whichLine].push(cardInfo),_newCardLines;default:return state}},FreeCellGame_ref=react_default.a.createElement(Typography.a,{variant:"subtitle1"},"Chosen Card"),App=function(){var classes=FreeCellGame_useStyles(),randomsCards=getRandomSplitCards(),_useReducer=Object(react.useReducer)(cardLins_reducer,randomsCards),_useReducer2=slicedToArray_default()(_useReducer,2),cardLines=_useReducer2[0],dispatch=_useReducer2[1],_useState=Object(react.useState)(void 0),_useState2=slicedToArray_default()(_useState,2),chosenCard=_useState2[0],setChosenCard=_useState2[1],redoCard=Object(react.useCallback)((function(){var whichLine=chosenCard.whichLine,cardInfo=chosenCard.cardInfo;whichLine&&(dispatch(cardLines_action_add(whichLine,cardInfo)),setChosenCard(void 0))}),[chosenCard]),handleCardSetFn=Object(react.useCallback)((function(whichLine,cardInfo){var number=cardInfo.number,color=cardInfo.color;if(chosenCard){var _cardInfo=chosenCard.cardInfo,checkColor="red"===color&&"black"===_cardInfo.color||"black"===color&&"red"===_cardInfo.color,checkNum=number>_cardInfo.number;checkColor&&checkNum&&(dispatch(cardLines_action_add(whichLine,_cardInfo)),setChosenCard(void 0))}else setChosenCard({whichLine:whichLine,cardInfo:cardInfo}),dispatch(function(whichLine){return{type:"remove",whichLine:whichLine}}(whichLine))}),[chosenCard,cardLines,dispatch]);return Object(react.useEffect)((function(){var redo=function(e){90===e.keyCode&&redoCard()};return window.addEventListener("keydown",redo),function(){window.removeEventListener("keydown",redo)}}),[chosenCard]),console.log(chosenCard),react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Box.a,{className:classes.root},react_default.a.createElement(Box.a,{display:"flex"},react_default.a.createElement(FreeCellGame_EmptyPart,{chosenCard:chosenCard,setChosenCard:setChosenCard}),react_default.a.createElement(Box.a,{style:{width:50}}),react_default.a.createElement(FreeCellGame_MainPart,{chosenCard:chosenCard,setChosenCard:setChosenCard})),react_default.a.createElement(Box.a,{display:"flex",className:classes.cardLists},cardLines.map((function(cards,i){return react_default.a.createElement(FreeCellGame_CardList,{clickFn:handleCardSetFn,cards:cards,cardAmount:cards.length,whichLine:i})})))),chosenCard&&react_default.a.createElement(Box.a,null,FreeCellGame_ref,react_default.a.createElement(FreeCellGame_CardItem,{clickFn:redoCard,cardInfo:chosenCard.cardInfo})))};__webpack_exports__.a=App;App.__docgenInfo={description:"",methods:[],displayName:"App"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\FreeCellGame\\index.js"]={name:"App",docgenInfo:App.__docgenInfo,path:"src\\components\\FreeCellGame\\index.js"})},413:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(103),__webpack_require__(33),__webpack_require__(22),__webpack_require__(78),__webpack_require__(17),__webpack_require__(121),__webpack_require__(126),__webpack_require__(35),__webpack_require__(172),__webpack_require__(86),__webpack_require__(140),__webpack_require__(703);var helpers_extends=__webpack_require__(23),extends_default=__webpack_require__.n(helpers_extends),toConsumableArray=__webpack_require__(3),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),objectWithoutProperties=__webpack_require__(41),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_router_config=__webpack_require__(277),react_router_dom=__webpack_require__(37),react_router=__webpack_require__(49),StarRounded=__webpack_require__(390),StarRounded_default=__webpack_require__.n(StarRounded),esm_history=__webpack_require__(70),config_api=(Object(esm_history.a)(),function(dataId){return"https://opendata.cwb.gov.tw/api/v1/rest/datastore/".concat(dataId,"?Authorization=CWB-7CE23D86-293E-42EE-9745-B51DFD1A0C56")}),API=[{city:"taichung",api:config_api("F-D0047-073")},{city:"tainan",api:config_api("F-D0047-077")}],logo_taichung="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Taichung_City_Government_emblem.jpg/800px-Taichung_City_Government_emblem.jpg",logo_tainan="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Tainan_City_Government_Logo.svg/1280px-Tainan_City_Government_Logo.svg.png",makeStyles=__webpack_require__(279),useStyles=Object(makeStyles.a)({navBar:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"auto","& button":{padding:6,marginRight:10},"& a":{textDecoration:"none"},"& li":{position:"relative",display:"inline-block","&:hover, &.active":{backgroundColor:"#888"},"& a":{padding:10,display:"inline-block",width:"100%",color:function color(props){return props.linkColor}},"& ul":{display:"none",backgroundColor:"#666",position:"absolute",top:40,left:0,"& li":{display:"block"}},"&:hover ul":{display:"block"}}},breadCrumb:{minWidth:100,maxWidth:300,margin:"10px 0px",backgroundColor:"#add",color:"#111",padding:6,height:30,boxSizing:"border-box","& li":{display:"inline-block"},"& a":{textDecoration:"none",color:"#33ad"}},weatherBlock:{display:"inline-block",verticalAlign:"top",maxWidth:"calc(33% - 30px)",margin:10,padding:6,"& a":{color:function color(props){return props.color}}},weatherPage:{"& a":{margin:"10px",maxWidth:300,display:"inline-block",textAlign:"center",padding:10,boxShadow:"0px 0px 10px #ddd",textDecoration:"none",color:"#345",backgroundColor:"#fff"},"& img":{maxHeight:120,display:"inline-block"}},townWeatherInfo:{display:"inline-block",width:"50%",padding:10,boxSizing:"border-box","& span":{fontSize:24,fontWeight:300}}}),theme={light:{mainColor:{backgroundColor:"#fff",color:"#111"},reverseColor:{backgroundColor:"#333",color:"#eeefff"}},dark:{mainColor:{backgroundColor:"#333",color:"#eee"},reverseColor:{backgroundColor:"#fff",color:"#222"}}},_ref=react_default.a.createElement("h2",null,"HOME"),Home=function(){return _ref};Home.displayName="Home";var _ref2=react_default.a.createElement("h2",null,"ABOUT"),About=function(){return _ref2};About.displayName="About";var CustomLink=function(_ref3){var label=_ref3.label,to=_ref3.to,_ref3$exact=_ref3.exact,style=_ref3.style,props=objectWithoutProperties_default()(_ref3,["label","to","exact","style"]),_ref5=react_default.a.createElement(react_router_dom.b,{style:style,to:to},label);return react_default.a.createElement(react_router.a,{path:to,exact:void 0!==_ref3$exact&&_ref3$exact,children:function children(_ref4){var match=_ref4.match;return react_default.a.createElement("li",{className:match?"sidebar-link active":"sidebar-link"},_ref5,props.children)}})};CustomLink.displayName="CustomLink";var _ref7=react_default.a.createElement("ul",null,react_default.a.createElement(CustomLink,{to:"/",label:"Home",exact:!0}),react_default.a.createElement(CustomLink,{to:"/about",label:"About"}),react_default.a.createElement(CustomLink,{to:"/weather",label:"Weather"},react_default.a.createElement("ul",null,react_default.a.createElement("li",null,react_default.a.createElement(react_router_dom.b,{to:"/weather/taichung"},"Taichung")),react_default.a.createElement("li",null,react_default.a.createElement(react_router_dom.b,{to:"/weather/tainan"},"Tainan"))))),Navbar=function(_ref6){var themeTone=_ref6.themeTone,setThemeFn=_ref6.setThemeFn,classes=useStyles({linkColor:theme[themeTone].reverseColor.color}),_theme$themeTone$main=theme[themeTone].mainColor,mainBg=_theme$themeTone$main.backgroundColor,mainColor=_theme$themeTone$main.color,_theme$themeTone$reve=theme[themeTone].reverseColor,revBg=_theme$themeTone$reve.backgroundColor;_theme$themeTone$reve.color;return react_default.a.createElement("nav",{style:{backgroundColor:revBg},className:classes.navBar},_ref7,react_default.a.createElement("button",{style:{backgroundColor:mainBg,color:mainColor},onClick:setThemeFn},themeTone))};Navbar.displayName="Navbar";var getNearestTime=function(timeArr){for(var timeNow=new Date,minTimeDiff=1/0,minTimeDiffPos=0,i=0;i<timeArr.length;i++){var time=new Date(timeArr[i].dataTime||timeArr[i].startTime),timeDiff=Math.abs(time-timeNow);timeDiff<minTimeDiff&&(minTimeDiff=timeDiff,minTimeDiffPos=i)}return timeArr[minTimeDiffPos]},fetchCityWeatherApi=function(city,setFn){var town=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,api=API.filter((function(api){return api.city===city}))[0];fetch(api.api).then((function(res){return res.json()})).then((function(res){var data=town?res.records.locations[0].location.filter((function(loc){return loc.locationName===town})):res;setFn(data)})).catch((function(e){return console.log(e)}))},getData=function(weatherEl){var latestData=getNearestTime(weatherEl.time).elementValue,time=getNearestTime(weatherEl.time).startTime||getNearestTime(weatherEl.time).dataTime;return{value:latestData[0].value,measures:latestData[0].measures,time:time}},_ref9=react_default.a.createElement("h3",null,"loading..."),_ref10=react_default.a.createElement("hr",null),_ref11=react_default.a.createElement("h4",null,"最近天氣預測"),WeatherInfo=function(_ref8){var match=_ref8.match,location=_ref8.location,_ref8$themeTone=_ref8.themeTone,_theme$themeTone$main2=theme[void 0===_ref8$themeTone?"light":_ref8$themeTone].mainColor,backgroundColor=_theme$themeTone$main2.backgroundColor,color=_theme$themeTone$main2.color,classes=useStyles({backgroundColor:backgroundColor,color:color}),cityNow=match.params.city,_useState=Object(react.useState)([]),_useState2=slicedToArray_default()(_useState,2),weatherData=_useState2[0],setData=_useState2[1],_useState3=Object(react.useState)([]),_useState4=slicedToArray_default()(_useState3,2),LSstaredData=_useState4[0],setLSstaredData=_useState4[1],_useState5=Object(react.useState)(void 0),_useState6=slicedToArray_default()(_useState5,2),locNow=_useState6[0],setLocNow=_useState6[1];Object(react.useEffect)((function(){fetchCityWeatherApi(cityNow,setData),setLocNow(void 0)}),[match]),Object(react.useEffect)((function(){var originData=JSON.parse(localStorage.getItem("staredTown"))||[];setLSstaredData(originData)}),[]);var handleStarTownLink=function(id,cityChineseName,cityNow,town,link){var newData,originData=JSON.parse(localStorage.getItem("staredTown"))||[],townId=cityNow+"-"+id;newData=originData.find((function(data){return data.id===townId}))?originData.filter((function(data){return data.id!==townId})):[].concat(toConsumableArray_default()(originData),[{id:townId,cityChineseName:cityChineseName,cityNow:cityNow,town:town,link:link}]),localStorage.setItem("staredTown",JSON.stringify(newData)),setLSstaredData(newData)};if(0===weatherData.length)return _ref9;var data=weatherData.records.locations[0],locData=void 0===locNow?data.location:[data.location[locNow]],checkIsStared=function(id){return LSstaredData.find((function(data){return data.id===cityNow+"-"+id}))};return react_default.a.createElement("div",null,react_default.a.createElement(BreadCrumb,{location:location}),react_default.a.createElement("h2",null,data.locationsName,react_default.a.createElement("span",null,react_default.a.createElement("select",{onChange:function handleSelect(e){var selectedIndex=e.target.selectedIndex;setLocNow(selectedIndex)}},data.location.map((function(loc,i){return react_default.a.createElement("option",{key:i,value:i},loc.locationName)}))))),react_default.a.createElement("div",null,locData.map((function(loc,i){var weatherElement=loc.weatherElement,locationName=loc.locationName,temp=(loc.geocode,weatherElement[3]),weatherDescp=weatherElement[6],rain=weatherElement[7],locationData={pathname:"/weather/".concat(cityNow,"/").concat(locationName),state:{temp:temp,weatherDescp:weatherDescp,rain:rain}};return react_default.a.createElement("div",{key:i,className:classes.weatherBlock},react_default.a.createElement("h3",null,react_default.a.createElement(react_router_dom.b,{to:locationData},"鄉鎮市: ".concat(locationName," ")),react_default.a.createElement(StarRounded_default.a,{style:{fill:checkIsStared(i)?"#0000f1":"#aaa"},onClick:handleStarTownLink.bind(void 0,i,data.locationsName,cityNow,locationName,"/weather/".concat(cityNow,"/").concat(locationName))},checkIsStared(i)?"以收藏":"收藏")),_ref10,_ref11,react_default.a.createElement("p",null,temp.description,": ",react_default.a.createElement("span",null,getData(temp).value,"度")),react_default.a.createElement("p",null,weatherDescp.description,": ",react_default.a.createElement("span",null,getData(weatherDescp).value)),react_default.a.createElement("p",null,rain.description,": ",react_default.a.createElement("span",null,getData(rain).value)))}))))},_ref13=react_default.a.createElement("h3",null,"TAICHUNG"),_ref14=react_default.a.createElement("h3",null,"TAINAN"),_ref15=react_default.a.createElement("h3",null,"已收藏之城鎮"),WeatherMainPage=function(_ref12){var location=_ref12.location,classes=useStyles(),staredData=JSON.parse(localStorage.getItem("staredTown"))||[];return react_default.a.createElement("div",{className:classes.weatherPage},react_default.a.createElement(BreadCrumb,{location:location}),react_default.a.createElement("div",null,react_default.a.createElement(react_router_dom.b,{to:"/weather/taichung"},react_default.a.createElement("img",{src:logo_taichung}),_ref13),react_default.a.createElement(react_router_dom.b,{to:"/weather/tainan"},react_default.a.createElement("img",{src:logo_tainan}),_ref14)),react_default.a.createElement("div",null,_ref15,staredData.map((function(data){return react_default.a.createElement("div",{key:data.id},react_default.a.createElement(react_router_dom.b,{to:data.link},react_default.a.createElement("h4",null,data.cityChineseName+" "+data.town)))}))))};WeatherMainPage.displayName="WeatherMainPage";var _ref17=react_default.a.createElement("h2",null,"Loading..."),_ref18=react_default.a.createElement("hr",null),TownWeatherInfo=function(_ref16){var match=_ref16.match,location=_ref16.location,classes=useStyles(),_match$params=match.params,city=_match$params.city,town=_match$params.town,_useState7=Object(react.useState)(void 0),_useState8=slicedToArray_default()(_useState7,2),townData=_useState8[0],setTownData=_useState8[1];return Object(react.useEffect)((function(){fetchCityWeatherApi(city,setTownData,town)}),[match]),react_default.a.createElement("div",null,react_default.a.createElement(BreadCrumb,{location:location,onMatchRoutes:function onMatchRoutes(matchRoutes){return[].concat(toConsumableArray_default()(matchRoutes),[{route:{path:"/weather/".concat(city,"/").concat(town),breadCrumbName:town}}])}}),react_default.a.createElement("div",null,townData?react_default.a.createElement("div",null,react_default.a.createElement("h2",null,town+" 近三小時天氣概況"),townData[0].weatherElement.map((function(el,i){return react_default.a.createElement("div",{key:i,className:classes.townWeatherInfo},react_default.a.createElement("h4",null,el.description,": "),react_default.a.createElement("p",null,react_default.a.createElement("span",null,getData(el).value)," "+("攝氏度"===(measure=getData(el).measures)?"°C":"百分比"===measure?"%":"公尺/秒"===measure||"16方位"===measure?measure:"")),_ref18);var measure}))):_ref17))};TownWeatherInfo.displayName="TownWeatherInfo";var _ref20=react_default.a.createElement("h2",null,"Weather"),Weather=function(_ref19){var match=_ref19.match,_ref19$themeTone=(_ref19.location,_ref19.themeTone),themeTone=void 0===_ref19$themeTone?"light":_ref19$themeTone;return react_default.a.createElement("div",{style:{padding:10}},_ref20,react_default.a.createElement(react_router.a,{exact:!0,path:"".concat(match.url),component:WeatherMainPage}),react_default.a.createElement(react_router.a,{exact:!0,path:"".concat(match.url,"/:city"),render:function render(routeProps){return react_default.a.createElement(WeatherInfo,extends_default()({themeTone:themeTone},routeProps))}}),react_default.a.createElement(react_router.a,{path:"".concat(match.url,"/:city/:town"),component:TownWeatherInfo}))};Weather.displayName="Weather";var routes=[{path:"/",component:Home,exact:!0},{path:"/about",component:About},{path:"/weather",component:Weather,breadCrumbName:"天氣",routes:[{path:"/weather/taichung",component:WeatherInfo,breadCrumbName:"台中"},{path:"/weather/tainan",component:WeatherInfo,breadCrumbName:"台南"}]}],BreadCrumb=function(_ref21){var location=_ref21.location,onMatchRoutes=_ref21.onMatchRoutes,classes=useStyles(),matchedRoutes="function"==typeof onMatchRoutes?onMatchRoutes(Object(react_router_config.a)(routes,location.pathname)):Object(react_router_config.a)(routes,location.pathname);return react_default.a.createElement("nav",{className:classes.breadCrumb},react_default.a.createElement("ol",null,matchedRoutes.map((function(matchedRoute,i){var _matchedRoute$route=matchedRoute.route,path=_matchedRoute$route.path,breadCrumbName=_matchedRoute$route.breadCrumbName;return path===location.pathname?react_default.a.createElement("li",{key:i},breadCrumbName," / "):react_default.a.createElement("li",{key:i},react_default.a.createElement(react_router_dom.b,{to:path},breadCrumbName," / "))}))))};BreadCrumb.displayName="BreadCrumb";var _ref23=react_default.a.createElement(react_router.a,{exact:!0,path:"/",component:Home}),_ref24=react_default.a.createElement(react_router.a,{path:"/about",component:About}),Main=function(_ref22){var themeTone=_ref22.themeTone,_theme$themeTone$main3=theme[themeTone].mainColor,mainBg=_theme$themeTone$main3.backgroundColor,mainColor=_theme$themeTone$main3.color,_theme$themeTone$reve2=theme[themeTone].reverseColor;_theme$themeTone$reve2.backgroundColor,_theme$themeTone$reve2.color;return react_default.a.createElement("div",{style:{minHeight:"100vh",backgroundColor:mainBg,color:mainColor}},_ref23,_ref24,react_default.a.createElement(react_router.a,{path:"/weather",render:function render(routeProps){return react_default.a.createElement(Weather,extends_default()({themeTone:themeTone},routeProps))}}))};Main.displayName="Main";__webpack_exports__.a=function(){var _useState9=Object(react.useState)("light"),_useState10=slicedToArray_default()(_useState9,2),themeTone=_useState10[0],setThemeTone=_useState10[1];return react_default.a.createElement(react_router_dom.a,null,react_default.a.createElement(Navbar,{themeTone:themeTone,setThemeFn:function handleSetThemeTone(){setThemeTone("light"===themeTone?"dark":"light")}}),react_default.a.createElement(Main,{themeTone:themeTone}))}},424:function(module,exports,__webpack_require__){__webpack_require__(425),__webpack_require__(534),module.exports=__webpack_require__(535)},446:function(module,exports){},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return cellSize})),__webpack_require__.d(__webpack_exports__,"f",(function(){return singlePlayerUsername})),__webpack_require__.d(__webpack_exports__,"c",(function(){return pointPerRound_PC})),__webpack_require__.d(__webpack_exports__,"d",(function(){return pointPerRound_realRival})),__webpack_require__.d(__webpack_exports__,"e",(function(){return ranksPoints})),__webpack_require__.d(__webpack_exports__,"b",(function(){return piecesData_mockData}));__webpack_require__(45),__webpack_require__(17),__webpack_require__(35),__webpack_require__(48);var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__),_images_sticker_littleKuma_png__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(146),_images_sticker_littleKuma_png__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_images_sticker_littleKuma_png__WEBPACK_IMPORTED_MODULE_5__),_images_emote_thank_you_png__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(398),_images_emote_thank_you_png__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_images_emote_thank_you_png__WEBPACK_IMPORTED_MODULE_6__),_images_emote_hi_there_png__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(399),_images_emote_hi_there_png__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_images_emote_hi_there_png__WEBPACK_IMPORTED_MODULE_7__),_images_emote_ru_87_png__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(400),_images_emote_ru_87_png__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_images_emote_ru_87_png__WEBPACK_IMPORTED_MODULE_8__),_images_emote_ru_rdrrC_png__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(401),_images_emote_ru_rdrrC_png__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_images_emote_ru_rdrrC_png__WEBPACK_IMPORTED_MODULE_9__),cellSize=35,singlePlayerUsername="Player",pointPerRound_PC=100,pointPerRound_realRival=150,ranksPoints=[0,1e3,3e3,5e3,8e3,12e3,15e3],piecesData_mockData=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(Array(196).keys()).map((function(k){return{user:null,pieceId:k,pieceColor:null}}));_images_sticker_littleKuma_png__WEBPACK_IMPORTED_MODULE_5___default.a,_images_emote_thank_you_png__WEBPACK_IMPORTED_MODULE_6___default.a,_images_emote_hi_there_png__WEBPACK_IMPORTED_MODULE_7___default.a,_images_emote_ru_87_png__WEBPACK_IMPORTED_MODULE_8___default.a,_images_emote_ru_rdrrC_png__WEBPACK_IMPORTED_MODULE_9___default.a},535:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(15),__webpack_require__(45),__webpack_require__(35),__webpack_require__(16),__webpack_require__(48);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(144),req=__webpack_require__(688);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){req.keys().forEach((function(filename){return req(filename)}))}),module)}.call(this,__webpack_require__(236)(module))},64:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addStats})),__webpack_require__.d(__webpack_exports__,"d",(function(){return minusStats})),__webpack_require__.d(__webpack_exports__,"b",(function(){return buyItem})),__webpack_require__.d(__webpack_exports__,"c",(function(){return consumeItem}));var _actionTypes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(99),addStats=function(statName,number){return{type:_actionTypes__WEBPACK_IMPORTED_MODULE_0__.a,statName:statName,number:number}},minusStats=function(statName,number,statsMinimumFn){return{type:_actionTypes__WEBPACK_IMPORTED_MODULE_0__.d,statName:statName,number:number,statsMinimumFn:statsMinimumFn}},buyItem=function(id,count){return{type:_actionTypes__WEBPACK_IMPORTED_MODULE_0__.b,id:id,count:count}},consumeItem=function(id){var count=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return{type:_actionTypes__WEBPACK_IMPORTED_MODULE_0__.c,id:id,count:count}}},67:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return piece8Directions})),__webpack_require__.d(__webpack_exports__,"a",(function(){return checkWhoWin})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getRandomUser})),__webpack_require__.d(__webpack_exports__,"f",(function(){return scrollToBottom})),__webpack_require__.d(__webpack_exports__,"e",(function(){return randomPiece})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getIndexBetweenNums}));__webpack_require__(33),__webpack_require__(22),__webpack_require__(206),__webpack_require__(15),__webpack_require__(125),__webpack_require__(45),__webpack_require__(17),__webpack_require__(758),__webpack_require__(35),__webpack_require__(16),__webpack_require__(48);var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__),checkIds_ArrInArr=function(){var arr1=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],arr2=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],amount=arr1.length,count=0;return arr2.forEach((function(arr){-1!==arr1.indexOf(arr)&&(count+=1)})),count===amount},piece8Directions=[-15,-14,-13,-1,1,13,14,15],checkWhoWin=function(pieceData){var user=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",array5=_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()([,,,,,].keys()),filteredPieces=pieceData.filter((function(data){return data.user===user})),filteredPiecesIds=filteredPieces.map((function(piece){return piece.pieceId})),checkDirections=function(pieceId){for(var directionIds=[array5.map((function(i){return pieceId-15*i})),array5.map((function(i){return pieceId-14*i})),array5.map((function(i){return pieceId-13*i})),array5.map((function(i){return pieceId-1*i})),array5.map((function(i){return pieceId+1*i})),array5.map((function(i){return pieceId+13*i})),array5.map((function(i){return pieceId+14*i})),array5.map((function(i){return pieceId+15*i}))],i=0;i<directionIds.length;i++)if(checkIds_ArrInArr(directionIds[i],filteredPiecesIds))return!0};return function checkIsFulfill(){if(5>filteredPieces.length)return!1;for(var i=0;i<filteredPiecesIds.length;i++){var id=filteredPiecesIds[i];if(checkDirections(id))return!0}}()?user:null},userPrefix=["tiger","penguin","cat","sloth"],getRandomUser=function(){var _userPrefix=[].concat(userPrefix),user1Id=~~(1e4*Math.random()),user2Id=~~(1e4*Math.random()),user1PrefixIndex=~~(4*Math.random()),user2PrefixIndex=~~(3*Math.random()),user1=_userPrefix[user1PrefixIndex]+"_"+user1Id;return _userPrefix.splice(user1PrefixIndex,1),[user1,_userPrefix[user2PrefixIndex]+"_"+user2Id]},scrollToBottom=function(el){el&&el.scrollIntoView({behavior:"instant",block:"end",inline:"end"})},randomPiece=function(pieceData){var emptyPieces=pieceData.filter((function(data){return!data.pieceColor}));return emptyPieces[~~(Math.random()*emptyPieces.length)].pieceId},getIndexBetweenNums=function(){var num=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,arr=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return arr.findIndex((function(a){return a>num}))-1}},688:function(module,exports,__webpack_require__){var map={"./CustomComponents.stories.js":689,"./SingleComponents.stories.js":766,"./TestComponents.stories.js":765};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=688},689:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"withStorySource",(function(){return withStorySource})),__webpack_require__.d(__webpack_exports__,"__STORY__",(function(){return __STORY__})),__webpack_require__.d(__webpack_exports__,"__ADDS_MAP__",(function(){return __ADDS_MAP__}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(144),_src_components_WeatherAPI__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(768),__webpack_require__(769),__webpack_require__(413)),_src_components_FreeCellGame__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(410),_src_components_Gomoku__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(409),_src_components_GARAM_route__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(262),__webpack_require__(402)),_src_components_Jewel_route__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(408),_API__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(208),withStorySource=__webpack_require__(690).withStorySource,__STORY__="import React from 'react';\r\nimport { storiesOf } from '@storybook/react';\r\nimport Calendar from '../src/components/Calendar';\r\nimport SUDOKU from '../src/components/SUDOKU';\r\nimport WeatherAPI from '../src/components/WeatherAPI';\r\nimport FreeCellGame from '../src/components/FreeCellGame';\r\nimport Gomoku from '../src/components/Gomoku';\r\nimport '../src/styles/style.scss';\r\nimport GARAMGameRouter from '../src/components/GARAM/route';\r\nimport JewelGameRouter from '../src/components/Jewel/route';\r\nimport { ApolloProviderWrapper } from './API';\r\n\r\nstoriesOf('custom-components', module)\r\n  // .add('calendar', () => (\r\n  //   <Calendar />\r\n  // ))\r\n  // .add('SUDOKU', () => (\r\n  //   <SUDOKU />\r\n  // ))\r\n  .add('WeatherAPI', () => <WeatherAPI />)\r\n  .add('FreeCellGame', () => <FreeCellGame />)\r\n  .add('Gomoku', () => <Gomoku />)\r\n  .add('GARAM', () => <GARAMGameRouter />)\r\n  .add('Jewel Game', () => (\r\n    <ApolloProviderWrapper>\r\n      <JewelGameRouter />\r\n    </ApolloProviderWrapper>\r\n  ));\r\n",__ADDS_MAP__={"custom-components--jewel-game":{startLoc:{col:7,line:24},endLoc:{col:3,line:28}},"custom-components--garam":{startLoc:{col:7,line:23},endLoc:{col:41,line:23}},"custom-components--gomoku":{startLoc:{col:7,line:22},endLoc:{col:33,line:22}},"custom-components--freecellgame":{startLoc:{col:7,line:21},endLoc:{col:45,line:21}},"custom-components--weatherapi":{startLoc:{col:7,line:20},endLoc:{col:41,line:20}}},_ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_WeatherAPI__WEBPACK_IMPORTED_MODULE_4__.a,null),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_FreeCellGame__WEBPACK_IMPORTED_MODULE_5__.a,null),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_Gomoku__WEBPACK_IMPORTED_MODULE_6__.a,null),_ref4=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_GARAM_route__WEBPACK_IMPORTED_MODULE_8__.a,null),_ref5=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_API__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_Jewel_route__WEBPACK_IMPORTED_MODULE_9__.a,null));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("custom-components",module).addDecorator(withStorySource("import React from 'react';\r\nimport { storiesOf } from '@storybook/react';\r\nimport Calendar from '../src/components/Calendar';\r\nimport SUDOKU from '../src/components/SUDOKU';\r\nimport WeatherAPI from '../src/components/WeatherAPI';\r\nimport FreeCellGame from '../src/components/FreeCellGame';\r\nimport Gomoku from '../src/components/Gomoku';\r\nimport '../src/styles/style.scss';\r\nimport GARAMGameRouter from '../src/components/GARAM/route';\r\nimport JewelGameRouter from '../src/components/Jewel/route';\r\nimport { ApolloProviderWrapper } from './API';\r\n\r\nstoriesOf('custom-components', module)\r\n  // .add('calendar', () => (\r\n  //   <Calendar />\r\n  // ))\r\n  // .add('SUDOKU', () => (\r\n  //   <SUDOKU />\r\n  // ))\r\n  .add('WeatherAPI', () => <WeatherAPI />)\r\n  .add('FreeCellGame', () => <FreeCellGame />)\r\n  .add('Gomoku', () => <Gomoku />)\r\n  .add('GARAM', () => <GARAMGameRouter />)\r\n  .add('Jewel Game', () => (\r\n    <ApolloProviderWrapper>\r\n      <JewelGameRouter />\r\n    </ApolloProviderWrapper>\r\n  ));\r\n",__ADDS_MAP__)).add("WeatherAPI",(function(){return _ref})).add("FreeCellGame",(function(){return _ref2})).add("Gomoku",(function(){return _ref3})).add("GARAM",(function(){return _ref4})).add("Jewel Game",(function(){return _ref5}))}.call(this,__webpack_require__(236)(module))},7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return jewelWidth})),__webpack_require__.d(__webpack_exports__,"h",(function(){return jewelsPerRow})),__webpack_require__.d(__webpack_exports__,"a",(function(){return delayTime})),__webpack_require__.d(__webpack_exports__,"b",(function(){return emptyColor})),__webpack_require__.d(__webpack_exports__,"f",(function(){return jewelColors})),__webpack_require__.d(__webpack_exports__,"k",(function(){return specialJewels})),__webpack_require__.d(__webpack_exports__,"j",(function(){return singleJewelScore})),__webpack_require__.d(__webpack_exports__,"i",(function(){return scoreMagnification})),__webpack_require__.d(__webpack_exports__,"c",(function(){return explodeImgSrc})),__webpack_require__.d(__webpack_exports__,"d",(function(){return gameMode})),__webpack_require__.d(__webpack_exports__,"e",(function(){return gameRequirements_mockData}));__webpack_require__(19),__webpack_require__(33),__webpack_require__(22),__webpack_require__(78),__webpack_require__(15),__webpack_require__(45),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(35),__webpack_require__(16),__webpack_require__(48);var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_14__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_15__),_jewelShopList__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(217),_GameFrame_gameStats_config__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(38);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_15___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var jewelWidth=50,jewelsPerRow=7,delayTime=800,emptyColor="transparent",jewelColors=["#0fafad","#fa0","#325ca8","#a83271"],specialJewels={colors:{bombColor:"#ddd",thunderColor:"#ffd500"},destroyCount:{bombDestroyCount:2,thunderDestroyCount:5}},singleJewelScore=1e3,scoreMagnification=function(count){return 6<count?1.5:3===count?1:4===count?1.1:5===count?1.2:6===count?1.3:1},explodeImgSrc="https://cdn4.iconfinder.com/data/icons/explosion/512/as_906-512.png",starByScore=[3e3,1e4,2e4],getResult=function(score,isPass){var star=function(score){return starByScore.filter((function(sco){return score>sco})).length}(score);return _objectSpread({score:score,isPass:isPass,star:star,coin:~~(score/100)},function(star){var basicBonus=_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_15___default()({},_GameFrame_gameStats_config__WEBPACK_IMPORTED_MODULE_17__.a.exp,10*star),finalBonus={};return 1<=star&&(finalBonus=_objectSpread({},basicBonus,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_15___default()({},_jewelShopList__WEBPACK_IMPORTED_MODULE_16__.a.Potion,10))),finalBonus}(star))},gameMode={checkBigger:function checkBigger(a,b){return a>=b},checkIsFail:function checkIsFail(numberNow,maxNumber,score){return!!(numberNow>maxNumber)&&getResult(score,!1)},checkScore:function checkScore(scoreNow,requiredScore){return!!(scoreNow>=requiredScore)&&getResult(scoreNow,!0)},checkJewels:function checkJewels(remainRequireJewels,scoreNow){return!remainRequireJewels.find((function(jwl){return 0<jwl.amount}))&&getResult(scoreNow,!0)},scoreAndLimitTimeMode:function scoreAndLimitTimeMode(isTimeover,scoreNow,requiredScore){if(isTimeover){var scoreRes=gameMode.checkScore(scoreNow,requiredScore);return scoreRes||getResult(scoreNow,!1)}return!1},scoreAndLimitStepMode:function scoreAndLimitStepMode(stepNow,limitStep,scoreNow,requiredScore){var stepRes=gameMode.checkIsFail(stepNow,limitStep);if(stepRes)return stepRes;var scoreRes=gameMode.checkScore(scoreNow,requiredScore);return!(!scoreRes||!gameMode.checkBigger(stepNow,limitStep))&&scoreRes},requireJewelsAndLimitStepMode:function requireJewelsAndLimitStepMode(stepNow,limitStep,remainRequireJewels,scoreNow){var stepRes=gameMode.checkIsFail(stepNow,limitStep);if(stepRes)return stepRes;if(gameMode.checkBigger(stepNow,limitStep)){var jewelRes=gameMode.checkJewels(remainRequireJewels,scoreNow);if(jewelRes)return jewelRes}return!1},requireJewelsAndLimitTimeMode:function requireJewelsAndLimitTimeMode(isTimeover,remainRequireJewels,scoreNow){if(isTimeover){var jewelRes=gameMode.checkJewels(remainRequireJewels,scoreNow);return jewelRes||getResult(scoreNow,!1)}return!1}},gameRequirements_mockData=[{requireScore:5e3,limitStep:3},{requireScore:1e4,limitTime:10},{limitTime:20,requireJewels:[{color:jewelColors[0],amount:10},{color:jewelColors[1],amount:3},{color:jewelColors[2],amount:7}]},{requireScore:1e3,limitTime:5}].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_14___default()(Array(27).keys()))},700:function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(201)(!1)).i(__webpack_require__(701),""),exports.push([module.i,"body{position:relative}\n",""])},701:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(201)(!1)).push([module.i,"*{margin:0;padding:0}.container{margin:0 auto;width:100%;max-width:1200px}nav{height:64px;background:#000}nav .container:after{display:table;clear:both;content:''}nav .menu-toggle{float:left;padding:22px 30px 22px 20px;width:15px;height:15px}nav .menu-toggle div{height:2px;background:#fff}nav .menu-toggle div:nth-child(2){margin:5px 0}nav #logo{float:left;line-height:60px}nav #logo a{font-size:20px;text-decoration:none;color:#fff;letter-spacing:2px}nav #logo a span{font-size:12px}nav .nav-info{float:right;padding-right:22px;line-height:60px}nav .nav-info li{float:left;color:#fff;list-style-type:none}nav .nav-info li:nth-child(2){position:relative;margin-right:20px;margin-left:20px}nav .nav-info li:nth-child(2):after{position:absolute;top:16px;right:-5px;display:inline-block;padding:2px;width:10px;height:10px;font-size:12px;text-align:center;color:#fff;background:red;border-radius:50%;content:'0';line-height:10px}nav .desk-navbar{display:none}#index-banner{position:relative;display:block;overflow:hidden;padding-bottom:65%;width:100%;height:0;background:url(\"https://images.unsplash.com/photo-1488998427799-e3362cec87c3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80\");background-position:center center;background-repeat:no-repeat;background-size:cover}#index-banner .index-choose{position:absolute;bottom:0;left:50%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}#index-banner .index-choose li{margin:10px 5px;width:10px;height:10px;background-color:#fff;border-radius:50%;list-style:none}#index-banner .index-choose .active{background:#000}.index-title{padding:20px 0 25px;font-size:20px;text-align:center}.index-title:before{display:inline-block;margin-right:10px;width:20%;height:3px;content:'';vertical-align:middle;border-top:0.5px solid #000;border-bottom:0.5px solid #000}.index-title:after{display:inline-block;margin-left:10px;width:20%;height:3px;content:'';vertical-align:middle;border-top:0.5px solid #000;border-bottom:0.5px solid #000}#index-hot .item{padding-right:10px;padding-bottom:15px;padding-left:10px}#index-hot .item:after{display:table;clear:both;content:''}#index-hot .item .col-4{display:block;float:left;overflow:hidden;padding-bottom:32.5%;width:calc((100% - (20px))/3);height:0;background-position:center center;background-repeat:no-repeat;background-size:cover;background-image:url(\"https://images.unsplash.com/photo-1493723843671-1d655e66ac1c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80\")}#index-hot .item .col-4:first-child{margin-right:10px}#index-hot .item .col-4:nth-child(2){margin-right:10px}#index-hot .item .col-4:nth-child(3){margin-right:0}#index-hot .item .col-4 h3{padding-top:70%;font-size:16px;text-align:center;color:#fff;text-shadow:1px 1px #000}#index-hot .item-hot{margin-right:10px;margin-left:10px;width:calc(100% - 20px);background-position:center;background-size:cover;background-image:url(\"https://images.unsplash.com/photo-1531297484001-80022131f5a1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1007&q=80\")}#index-hot .item-hot h3{padding:40% 5.4% 0 0;font-size:16px;text-align:right;color:#fff;text-shadow:1px 1px #000}#index-hot .item-hot:before{float:left;padding-top:50%;content:''}#index-hot .item-hot:after{content:'';display:block;clear:both}#index-category .item{padding-right:10px;padding-left:10px}#index-category .item:after{display:table;clear:both;content:''}#index-category .col-6{display:block;float:left;overflow:hidden;padding-bottom:48.5%;width:calc((100% - (10px))/2);height:0;text-align:center;color:#fff;background-position:center center;background-repeat:no-repeat;background-size:cover;border:1px solid rgba(0, 0, 0, 0.4);background-image:url(\"https://www.apple.com/v/home/ee/images/promos/apple-music/apple_music__gdfamywhn6ye_medium.jpg\");-webkit-box-sizing:border-box;box-sizing:border-box}#index-category .col-6:nth-child(n){margin-right:10px;margin-bottom:10px}#index-category .col-6:nth-child(2n){margin-right:0;margin-bottom:10px}#index-category .col-6 h2{padding:20px 0 0}#index-social{padding-bottom:15px;border-bottom:1px solid #000}#index-social .item{padding-right:30px;padding-left:30px;margin-bottom:20px}#index-social .item:after{display:table;clear:both;content:''}#index-social .facebook,#index-social .instrgram,#index-social .youtube{display:block;float:left;padding-bottom:27.4%;width:calc((100% - (60px))/3);height:0;font-size:30px;text-align:center;color:#fff;border-radius:10px;-webkit-box-shadow:1px 1px 2px rgba(0, 0, 0, 0.2);box-shadow:1px 1px 2px rgba(0, 0, 0, 0.2);-webkit-box-sizing:border-box;box-sizing:border-box;line-height:12vh;letter-spacing:1px}#index-social .facebook:first-child,#index-social .instrgram:first-child,#index-social .youtube:first-child{margin-right:30px;background-color:#83bbe0}#index-social .facebook:nth-child(2),#index-social .instrgram:nth-child(2),#index-social .youtube:nth-child(2){margin-right:30px;background-color:#8945be}#index-social .facebook:nth-child(3),#index-social .instrgram:nth-child(3),#index-social .youtube:nth-child(3){margin-right:0;background-color:#efa5a6}footer ul{margin-top:20px;font-size:0;text-align:center}footer ul li{display:inline-block;padding:0 6px;font-size:14px;border-right:1px solid rgba(0, 0, 0, 0.3)}footer ul li:nth-child(4){border-right:0}footer .copyright{font-size:14px;text-align:center;color:#a4a4a4;line-height:50px}#product-categorly{margin-bottom:30px}#product-categorly ul li{-webkit-box-sizing:border-box;box-sizing:border-box;font-size:20px;list-style-type:none;line-height:50px;text-align:center;border-bottom:1px solid rgba(215, 215, 215, 0.789);letter-spacing:1px}#product-categorly ul li:first-child{color:#fff;background-color:#000}#product-categorly ul li:nth-child(2){color:#000;background-color:rgba(215, 215, 215, 0.789)}#product-list{padding-right:30px;padding-left:30px}#product-list ul li{border:1px solid #dddddd;list-style:none;margin-bottom:30px;-webkit-box-sizing:border-box;box-sizing:border-box}#product-list .product-img{overflow:hidden;padding-bottom:60%;width:100%;height:0}#product-list .product-img img{width:100%}#product-list .product-info{margin-top:15px;font-size:0;line-height:56px;border-top:1px solid #dddddd}#product-list .product-info span{display:inline-block;width:50%;font-size:20px;text-align:center;vertical-align:middle;-webkit-box-sizing:border-box;box-sizing:border-box}#product-list .product-info span:first-child{border-right:1px solid #dddddd}.product-add{display:inline-block;font-size:24px;text-align:center;background-color:#000;line-height:56px;text-decoration:none;color:#fff;width:100%}.desk-product{display:none}#product-pageList{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}#product-pageList ul{display:-webkit-box;display:-ms-flexbox;display:flex;border:1px solid #000}#product-pageList ul li{width:50px;text-align:center;color:#000;list-style-type:none;line-height:50px;border-right:1px solid #000;-webkit-box-sizing:border-box;box-sizing:border-box}#product-pageList ul li:last-child{border-right:0}#product-pageList ul .active{color:#fff;background-color:#000}@media (min-width:1024px){nav .desk-navbar{display:inline-block}.nav-info{display:none}.menu-toggle{display:none}#logo{padding-left:20px}nav #logo a{font-size:25px}nav #logo a span{font-size:20px}.desk-navbar{float:right}.desk-navbar:after{display:table;clear:both;content:''}.desk-navbar li{float:left;list-style-type:none;margin-right:20px}.desk-navbar li a{text-decoration:none;color:#fff;line-height:64px}#index-banner{padding-bottom:48.5%;margin-bottom:60px}#product-categorly{float:left;margin-right:10px;width:calc(33.33% - 10px)}#product-list{float:right;margin-left:10px;padding-right:0;padding-left:0;width:calc(66.66% - 10px)}#product-list .desk-product{display:inline-block}#product-list ul:after{display:table;clear:both;content:''}#product-list ul li{float:left;width:calc(50% - 10px)}#product-list ul li:nth-child(odd){margin-right:20px}.clearfix:after,.clearfix:before{content:'';display:table}.clearfix:after{clear:both}.clearfix{*zoom:1}footer{border-top:1px solid #000}#product-pageList{margin-bottom:30px}.index-title{font-size:40px;letter-spacing:5px}#index-hot{margin-bottom:60px}#index-hot .item .col-4{width:calc((100% - (40px))/3)}#index-hot .item .col-4:first-child{margin-right:20px}#index-hot .item .col-4:nth-child(2){margin-right:20px}#index-hot .item-hot h3,#index-hot .item .col-4 h3{font-size:30px}#index-hot .item{padding-bottom:60px}#index-category .item .col-3{display:inline-block;margin-right:20px;padding-bottom:30.5%;width:calc((100% - (60px))/4);margin-bottom:20px}#index-category .item .col-3:nth-child(4n){margin-right:0}#index-category{margin-bottom:50px}#index-social .item .facebook,#index-social .item .instrgram,#index-social .item .youtube{display:inline-block;margin-right:60px;padding-bottom:30.4%;width:calc((100% - (120px))/3);font-size:80px;text-decoration:none;line-height:35vh}#index-social .youtube:nth-child(3){margin-right:0}}@media (min-width:1200px){#index-banner{padding-bottom:50%;background-position:center center}}",""])},735:function(module,exports){},760:function(module,exports,__webpack_require__){var content=__webpack_require__(761);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(263)(content,options);content.locals&&(module.exports=content.locals)},761:function(module,exports,__webpack_require__){(exports=module.exports=__webpack_require__(201)(!1)).push([module.i,"@import url(//fonts.googleapis.com/earlyaccess/notosanstc.css);",""]),exports.push([module.i,"body{font-family:'Roboto', 'Noto Sans TC', '微軟正黑體', sans-serif}a{text-decoration:none;color:#111;display:inline-block}a:hover{color:blue}\n",""])},763:function(module,exports,__webpack_require__){var content=__webpack_require__(764);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(263)(content,options);content.locals&&(module.exports=content.locals)},764:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(201)(!1)).push([module.i,'.hexagon{position:relative;width:60px;height:34.62px;background-color:#64C7CC;margin:17.316px 0;text-align:center}.hexagon:before,.hexagon:after{content:"";position:absolute;left:0;width:0;border-left:30px solid transparent;border-right:30px solid transparent}.hexagon:before{bottom:100%;border-bottom:17.316px solid #64C7CC}.hexagon:after{top:100%;width:0;border-top:17.316px solid #64C7CC}\n',""])},765:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),slicedToArray=(__webpack_require__(144),__webpack_require__(2)),slicedToArray_default=__webpack_require__.n(slicedToArray),toConsumableArray=(__webpack_require__(19),__webpack_require__(33),__webpack_require__(22),__webpack_require__(15),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(127),__webpack_require__(16),__webpack_require__(3)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),ActionTypes_ADD_COUNT="ADD_COUNT",ActionTypes_MINUS_COUNT="MINUS_COUNT",ActionTypes_GET_USER="GET_USER",ActionTypes_ADD_USER="ADD_USER",getUser=function(userData){return{type:ActionTypes_GET_USER,userData:userData}},testContextMiddleware_actions=function(dispatch){return{addCount_action:function addCount_action(){return dispatch({type:ActionTypes_ADD_COUNT})},minusCount_action:function minusCount_action(){return dispatch({type:ActionTypes_MINUS_COUNT})},getUser_action:function getUser_action(userData){return dispatch(getUser(userData))},addUser_action:function addUser_action(userData,mutationFn){return dispatch(function(userData,mutationFn){return{type:ActionTypes_ADD_USER,userData:userData,mutationFn:mutationFn}}(userData,mutationFn))}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var reducers=function(){for(var _len=arguments.length,reducers=Array(_len),_key=0;_key<_len;_key++)reducers[_key]=arguments[_key];return function(state,action){var newState=state;return reducers.forEach((function(reducer){newState=reducer(newState,action),console.log(newState)})),newState}}((function(state,action){var type=action.type;return type===ActionTypes_ADD_COUNT?_objectSpread({},state,{count:state.count+1}):type===ActionTypes_MINUS_COUNT?_objectSpread({},state,{count:state.count-1}):state}),(function(state,action){var type=action.type,userData=action.userData;return type===ActionTypes_GET_USER?_objectSpread({},state,{users:0<state.users.length?state.users:userData}):type===ActionTypes_ADD_USER?_objectSpread({},state,{users:[].concat(toConsumableArray_default()(state.users),[{id:0<state.users.length?parseInt(state.users[state.users.length-1].id)+1:0,username:userData}])}):state})),API=(__webpack_require__(35),__webpack_require__(172),__webpack_require__(111),__webpack_require__(21));function fn_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var promisedValue=function(val){return new Promise((function(res){res("function"==typeof val?val():val)}))},match=function(condition){return{condition:condition,equals:function equals(option){var _this=this;return{then:function then(val){return _this.condition===option?function fn_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?fn_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):fn_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},_this,{else:function _else(){return promisedValue(val)}}):_this}}},else:function _else(val){return promisedValue(val)}}},middleware_addUser=function(action){var userData=action.userData;return action.mutationFn?function(){var time=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(res){setTimeout((function(){res("hi")}),time)}))}(2e3).then((function(res){window.alert("user added successful!"+userData),console.log(res)})).catch((function(err){return console.log(err)})):window.alert("added without db!")},middleWares=function(action,dispatch){return match(action.type).equals(ActionTypes_ADD_USER).then((function(){return middleware_addUser(action)})).equals(ActionTypes_ADD_COUNT).then((function(){return function(action,dispatch){return fetch(API.h+"users").then((function(res){return res.json()})).then((function(res){dispatch(getUser(res))})).catch((function(err){return window.alert(err)}))}(0,dispatch)})).equals(ActionTypes_MINUS_COUNT).then().else("")},middleWare=function(dispatch){return function(action){middleWares(action,dispatch).then((function(){dispatch(action)}))}},state_init={count:10,users:[],data:null},ContextStore=Object(react.createContext)({state:state_init,actions:testContextMiddleware_actions()}),ContextWrapper=function(_ref){var _useReducer,_useReducer2,state,dispatch,enhancedDispatch,children=_ref.children,value=(_useReducer=Object(react.useReducer)(reducers,state_init),_useReducer2=slicedToArray_default()(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],enhancedDispatch=middleWare(dispatch),{state:state,dispatch:enhancedDispatch,actions:testContextMiddleware_actions(enhancedDispatch)});return react_default.a.createElement(ContextStore.Provider,{value:value},children)};ContextWrapper.displayName="ContextWrapper";var context=ContextWrapper;ContextWrapper.__docgenInfo={description:"",methods:[],displayName:"ContextWrapper"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\testingComponents\\testContextMiddleware\\context.js"]={name:"ContextWrapper",docgenInfo:ContextWrapper.__docgenInfo,path:"src\\components\\testingComponents\\testContextMiddleware\\context.js"});__webpack_require__(17),__webpack_require__(105);var Typography=__webpack_require__(54),Button=__webpack_require__(90),Box=__webpack_require__(27),TextField=__webpack_require__(820),react_hooks_esm=__webpack_require__(56),taggedTemplateLiteral=__webpack_require__(88),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),src=__webpack_require__(89);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  mutation ADD_USER($data: UserInput!) {\n    createUser(input: {\n      data: $data\n    }) {\n      user {\n        username\n      }\n    }\n  }"]);return _templateObject=function(){return data},data}var ADD_USER=__webpack_require__.n(src)()(_templateObject()),TestComponent_ref=react_default.a.createElement("hr",null),_ref2=react_default.a.createElement(Typography.a,null,"Add a user!"),TestComponent=function(){var _useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),useDB=_useState2[0],setUseDB=_useState2[1],addUser=function(){var useDB=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],_useMutation=Object(react_hooks_esm.b)(ADD_USER,{refetchQueries:[{query:API.d}]}),_useMutation2=slicedToArray_default()(_useMutation,1),addUser=_useMutation2[0];return useDB?{addUser:addUser}:{}}(useDB).addUser,data=Object(react_hooks_esm.c)(API.d).data,_useState3=Object(react.useState)(""),_useState4=slicedToArray_default()(_useState3,2),userValue=_useState4[0],setValue=_useState4[1],_useContext=Object(react.useContext)(ContextStore),actions=_useContext.actions,state=_useContext.state,handleAddUser=Object(react.useCallback)((function(){actions.addUser_action(userValue,addUser),setValue("")}),[userValue]);Object(react.useEffect)((function(){data&&actions.getUser_action(data.users)}),[data]);var count=state.count,users=state.users;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Button.a,{onClick:function handleAction(){actions.addCount_action()}},"add: "+count),react_default.a.createElement(Button.a,{onClick:actions.minusCount_action},"minus: "+count),0==users.length&&"click to fetch users",users.slice(0,count).map((function(user){return react_default.a.createElement(Box.a,{key:user.id},user.username)})),TestComponent_ref,react_default.a.createElement(Button.a,{onClick:function onClick(){return setUseDB(!useDB)}},useDB?"online":"offline test"),_ref2,react_default.a.createElement(TextField.a,{value:userValue,onChange:function handleChange(e){setValue(e.target.value)}}),react_default.a.createElement(Button.a,{onClick:handleAddUser},"add user"))},testContextMiddleware_TestComponent=TestComponent;TestComponent.__docgenInfo={description:"",methods:[],displayName:"TestComponent"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\testingComponents\\testContextMiddleware\\TestComponent.js"]={name:"TestComponent",docgenInfo:TestComponent.__docgenInfo,path:"src\\components\\testingComponents\\testContextMiddleware\\TestComponent.js"});react_default.a.createElement(testContextMiddleware_TestComponent,null),__webpack_require__(208),__webpack_require__(122),__webpack_require__(86),__webpack_require__(246);var helpers_extends=__webpack_require__(23),extends_default=__webpack_require__.n(helpers_extends),objectWithoutProperties=__webpack_require__(41),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),regenerator=__webpack_require__(50),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(152),__webpack_require__(82)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),CircularProgress=__webpack_require__(814),DefaultPage=function(Page){return function(_ref){var props=Object.assign({},_ref);return react_default.a.createElement(Page,props)}},LOG_IN_STATUS_LOGGED_OUT="LOGGED_OUT",LOG_IN_STATUS_LOGGED_IN="LOGGED_IN",LOG_IN_STATUS_AUTHORIZING="AUTHORIZING",user_defaultUser_username="aaa",user_defaultUser_pwd="aaaaaaaa",LoginButton=function(){var isAuth=localStorage.getItem("USER_NAME")&&localStorage.getItem("jwt"),handleLogin=Object(react.useCallback)((function(){isAuth?(localStorage.removeItem("USER_NAME"),localStorage.removeItem("USER_ID"),localStorage.removeItem("jwt"),location.reload()):Object(API.j)(user_defaultUser_username,user_defaultUser_pwd,(function(){return null}),(function(){return location.reload()}))}),[isAuth]),username=localStorage.getItem("USER_NAME");return react_default.a.createElement(Button.a,{onClick:handleLogin,variant:"contained"},isAuth?"hi: ".concat(username,", log out"):"click to log in")};LoginButton.displayName="LoginButton";LoginButton.__docgenInfo={description:"",methods:[],displayName:"LoginButton"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Pages\\LoginButton.js"]={name:"LoginButton",docgenInfo:LoginButton.__docgenInfo,path:"src\\components\\Pages\\LoginButton.js"});var GameFrame_context=__webpack_require__(31),LOGGED_OUT=LOG_IN_STATUS_LOGGED_OUT,LOGGED_IN=LOG_IN_STATUS_LOGGED_IN,AUTHORIZING=LOG_IN_STATUS_AUTHORIZING,getUserFromJWT=function(){var _getJWTFromLocalStora=function(){var jwt=localStorage.getItem("jwt"),userId=localStorage.getItem("USER_ID");return jwt?{jwt:jwt.replace(/"|'/g,""),userId:userId}:{jwt:jwt,userId:userId}}(),jwt=_getJWTFromLocalStora.jwt,userId=_getJWTFromLocalStora.userId;return fetch("".concat(API.h,"users/").concat(userId),{method:"get",headers:{Authorization:"Bearer ".concat(jwt)}}).then((function(res){return res.json()})).then((function(res){return res}))},getAuthStatus=function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(setAuthFn,setUserInfoFn){var result;return regenerator_default.a.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,getUserFromJWT();case 2:if(401!==(result=_context.sent).statusCode){_context.next=7;break}return _context.abrupt("return",setAuthFn(LOGGED_OUT));case 7:return setUserInfoFn(result),_context.abrupt("return",setAuthFn(LOGGED_IN));case 9:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}(),ProtectedPage_ref2=react_default.a.createElement(Box.a,null,react_default.a.createElement(CircularProgress.a,null),"wait for authorization..."),LoadingAuthPage=function(){return ProtectedPage_ref2};LoadingAuthPage.displayName="LoadingAuthPage";var _ref3=react_default.a.createElement(Typography.a,null,"please log in :))"),NotLoggedIn=function(){return _ref3};NotLoggedIn.displayName="NotLoggedIn";var _ref5=react_default.a.createElement(NotLoggedIn,null),_ref6=react_default.a.createElement(LoadingAuthPage,null),_ref7=react_default.a.createElement(LoadingAuthPage,null),AllPages=function(_ref4){var PageComponent=_ref4.PageComponent,loggedStatus=_ref4.loggedStatus,isAuth=_ref4.isAuth,props=objectWithoutProperties_default()(_ref4,["PageComponent","loggedStatus","isAuth"]);return loggedStatus===LOGGED_OUT?_ref5:loggedStatus===LOGGED_IN?react_default.a.createElement(PageComponent,extends_default()({},props,{isAuth:isAuth})):loggedStatus===AUTHORIZING?_ref6:_ref7},List=(__webpack_require__(169),__webpack_require__(168),__webpack_require__(813)),ListItemText=__webpack_require__(818),KeyValueObjComponent=function(_ref){var obj=_ref.obj,values=Object.values(obj),keyValues=Object.keys(obj).map((function(name,i){return{name:name,value:values[i]}}));return react_default.a.createElement(Box.a,null,react_default.a.createElement(List.a,null,keyValues.map((function(val){return react_default.a.createElement(ListItemText.a,{primary:"".concat(val.name,": ").concat(val.value)})}))))};KeyValueObjComponent.displayName="KeyValueObjComponent";var KeyValueObjects=KeyValueObjComponent;KeyValueObjComponent.__docgenInfo={description:"",methods:[],displayName:"KeyValueObjComponent"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\common-components\\KeyValueObjects.js"]={name:"KeyValueObjComponent",docgenInfo:KeyValueObjComponent.__docgenInfo,path:"src\\components\\common-components\\KeyValueObjects.js"});var Pages_ref=react_default.a.createElement("hr",null),Pages_ref2=react_default.a.createElement(Typography.a,{variant:"h4"},"User Page"),ProtectedPrivatePage=function(Page){return function(_ref8){var passedProps=Object.assign({},_ref8),setUserInfo=Object(react.useContext)(GameFrame_context.c).setUserInfo,_useState=Object(react.useState)(AUTHORIZING),_useState2=slicedToArray_default()(_useState,2),loggedStatus=_useState2[0],setLogged=_useState2[1];return Object(react.useEffect)((function(){getAuthStatus(setLogged,setUserInfo)}),[]),react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(AllPages,extends_default()({},passedProps,{loggedStatus:loggedStatus,isAuth:loggedStatus===LOGGED_IN,PageComponent:Page})))}}(DefaultPage((function(){var userInfo=Object(react.useContext)(GameFrame_context.a).userInfo;return react_default.a.createElement(Box.a,{style:{padding:10}},"you are logged in! :)",Pages_ref,Pages_ref2,react_default.a.createElement(KeyValueObjects,{obj:userInfo}))})));GameFrame_context.b,react_default.a.createElement(ProtectedPrivatePage,null)},766:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),helpers_extends=(__webpack_require__(144),__webpack_require__(262),__webpack_require__(273),__webpack_require__(33),__webpack_require__(17),__webpack_require__(23)),extends_default=__webpack_require__.n(helpers_extends),toConsumableArray=__webpack_require__(3),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),objectWithoutProperties=__webpack_require__(41),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),Box=(__webpack_require__(50),__webpack_require__(152),__webpack_require__(82),__webpack_require__(27)),defineProperty=(__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16),__webpack_require__(8)),defineProperty_default=__webpack_require__.n(defineProperty),Typography=__webpack_require__(54),makeStyles=__webpack_require__(279),styles_makeStyles=__webpack_require__(91),sticker_littleKuma=__webpack_require__(146),sticker_littleKuma_default=__webpack_require__.n(sticker_littleKuma),useStyles=Object(styles_makeStyles.a)({img:{height:100,width:"auto"}}),ChatEmote=function(_ref){var _ref$chatContent=_ref.chatContent,chatContent=void 0===_ref$chatContent?sticker_littleKuma_default.a:_ref$chatContent,classes=useStyles();return react_default.a.createElement(Box.a,null,react_default.a.createElement("img",{className:classes.img,src:chatContent,alt:"emote"}))};ChatEmote.displayName="ChatEmote";var chatEmote=ChatEmote;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}ChatEmote.__docgenInfo={description:"",methods:[],displayName:"ChatEmote",props:{chatContent:{defaultValue:{value:"littleKuma",computed:!0},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\chat\\chatEmote.js"]={name:"ChatEmote",docgenInfo:ChatEmote.__docgenInfo,path:"src\\components\\GameFrame\\chat\\chatEmote.js"});var chatBubble_useStyles=Object(makeStyles.a)({root:{width:"100%",justifyContent:function justifyContent(props){return props.isMe?"flex-end":"flex-start"}},chatMes:{padding:"6px 12px",textAlign:function textAlign(props){return props.isMe?"right":"left"}},chatContent:{display:"inline-block",maxWidth:180,height:"auto",padding:"4px 16px",backgroundColor:function backgroundColor(props){return props.isMe?"#c3f8fa":"#eee"},color:"#222",borderRadius:20,wordWrap:"break-word",textAlign:"left"}}),ChatTextContent=function(_ref){var classes=_ref.classes,isMe=_ref.isMe,chatContent=_ref.chatContent;return react_default.a.createElement(Typography.a,{className:classes.chatContent,variant:"body1",align:isMe?"right":"left"},chatContent)};ChatTextContent.displayName="ChatTextContent";var ChatBubbleContainer=function(_ref2){var username=_ref2.username,_ref2$isMe=_ref2.isMe,isMe=void 0!==_ref2$isMe&&_ref2$isMe,props=objectWithoutProperties_default()(_ref2,["username","isMe"]),classes=chatBubble_useStyles({isMe:isMe}),children=react_default.a.Children.map(props.children,(function(child){return react_default.a.cloneElement(child,function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({username:username,isMe:isMe,classes:classes},props))}));return react_default.a.createElement(Box.a,{display:"flex",className:classes.root},react_default.a.createElement(Box.a,{className:classes.chatMes},react_default.a.createElement(Typography.a,{variant:"body1"},username+": "),children))};ChatBubbleContainer.displayName="ChatBubbleContainer";var _ref3=react_default.a.createElement(ChatTextContent,null),_ref4=react_default.a.createElement(chatEmote,null),_ref5=react_default.a.createElement(ChatTextContent,null),ChatBubble=function(props){return react_default.a.createElement(ChatBubbleContainer,props,"text"===(type=props.type)?_ref3:"emote"===type?_ref4:_ref5);var type};ChatBubble.displayName="ChatBubble";var chatBubble=ChatBubble;ChatBubble.__docgenInfo={description:"",methods:[],displayName:"ChatBubble"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\chat\\chatBubble.js"]={name:"ChatBubble",docgenInfo:ChatBubble.__docgenInfo,path:"src\\components\\GameFrame\\chat\\chatBubble.js"});var TagFaces=__webpack_require__(213),TagFaces_default=__webpack_require__.n(TagFaces),TextField=__webpack_require__(820),Button=__webpack_require__(90),API=__webpack_require__(21),chatInput_useStyles=Object(styles_makeStyles.a)({root:{position:"relative",paddingTop:6},buttonArea:{padding:6,textAlign:"right"}}),chatInput_ref2=react_default.a.createElement(TagFaces_default.a,null),ChatInput=function(_ref){var username=_ref.username,setLatestChat=_ref.setLatestChat,roomId=_ref.roomId,openEmoteFn=_ref.openEmoteFn,props=objectWithoutProperties_default()(_ref,["username","setLatestChat","roomId","openEmoteFn"]),classes=chatInput_useStyles(),_React$useState=react_default.a.useState(""),_React$useState2=slicedToArray_default()(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1],handleSendMes=Object(react.useCallback)((function(){0<value.length&&(roomId&&Object(API.updateChat)(roomId,username,value,"text"),setLatestChat(value),setValue(""))}),[username,value,roomId]);return react_default.a.createElement(Box.a,{className:classes.root},react_default.a.createElement(TextField.a,{value:value,style:{backgroundColor:"#fff",width:"100%"},placeholder:"say something",variant:"outlined",onKeyUp:function handleSendByKey(e){13===e.keyCode&&handleSendMes()},onChange:function handleChange(e){var value=e.target.value;setValue(value)}}),react_default.a.createElement(Box.a,{className:classes.buttonArea},react_default.a.createElement(Button.a,{onClick:openEmoteFn},chatInput_ref2),react_default.a.createElement(Button.a,{disabled:0===value.length,variant:"contained",onClick:handleSendMes},"send")),props.children)};ChatInput.displayName="ChatInput";var chatInput=ChatInput;ChatInput.__docgenInfo={description:"",methods:[],displayName:"ChatInput"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\chat\\chatInput.js"]={name:"ChatInput",docgenInfo:ChatInput.__docgenInfo,path:"src\\components\\GameFrame\\chat\\chatInput.js"});var Gomoku_API=__webpack_require__(30),fn=__webpack_require__(67),CircularProgress=__webpack_require__(814),Paper=__webpack_require__(175),react_hooks_esm=(__webpack_require__(46),__webpack_require__(56)),GameFrame_fn=__webpack_require__(216),emotePopup_useStyles=Object(makeStyles.a)({emotePopup:{display:function display(props){return props.emoteDisplay?"block":"none"},position:"absolute",top:-200,left:0,right:0,height:200},emoteItem:{width:70,height:70,display:"inline-block",padding:4,cursor:"pointer","& img":{width:"100%",height:"auto"},"&:hover":{backgroundColor:"#ddd"}},emoteArea:{overflowY:"scroll"},emotePopupHead:{backgroundColor:"#ccc",height:20,textAlign:"right","& button":{width:20,height:20,borderRadius:2e3}}}),SingleEmoteItem=function(_ref){var imgSrc=_ref.imgSrc,emoteChatFn=_ref.emoteChatFn,classes=emotePopup_useStyles();return react_default.a.createElement(Box.a,{className:classes.emoteItem,onClick:emoteChatFn},react_default.a.createElement("img",{src:imgSrc}))};SingleEmoteItem.displayName="SingleEmoteItem";var emotePopup_ref3=react_default.a.createElement(CircularProgress.a,null),EmotePopup=function(_ref2){var username=_ref2.username,emoteDisplay=(_ref2.roomId,_ref2.emoteDisplay),setLatestEmoteChat=_ref2.setLatestEmoteChat,_ref2$emoteDataInit=_ref2.emoteDataInit,emoteDataInit=void 0===_ref2$emoteDataInit?[]:_ref2$emoteDataInit,closeFn=_ref2.closeFn,_useQuery=Object(react_hooks_esm.c)(API.e,{variables:{userWhere:{username:username}}}),loading=_useQuery.loading,data=_useQuery.data,classes=emotePopup_useStyles({emoteDisplay:emoteDisplay}),_useState=Object(react.useState)(emoteDataInit),_useState2=slicedToArray_default()(_useState,2),emotesData=_useState2[0],setEmotesData=_useState2[1];return Object(react.useEffect)((function(){if(console.log(data),data&&data.useremotelists){var emotes=Object(GameFrame_fn.a)(API.h,data.useremotelists,data.emotes);setEmotesData(emotes)}}),[data,username]),console.log(emotesData),react_default.a.createElement(Paper.a,{className:classes.emotePopup},react_default.a.createElement(Box.a,{className:classes.emotePopupHead},react_default.a.createElement("button",{onClick:closeFn},"x")),react_default.a.createElement(Box.a,{className:classes.emoteArea},loading?emotePopup_ref3:react_default.a.createElement(react_default.a.Fragment,null,emotesData.map((function(data){return react_default.a.createElement(SingleEmoteItem,extends_default()({key:data.id,emoteChatFn:function emoteChatFn(){return imgSrc=data.imgSrc,void setLatestEmoteChat(imgSrc,"emote");var imgSrc}},data))})))))};EmotePopup.displayName="EmotePopup";var emotePopup=EmotePopup;EmotePopup.__docgenInfo={description:"",methods:[],displayName:"EmotePopup",props:{emoteDataInit:{defaultValue:{value:"[]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\chat\\emotePopup.js"]={name:"EmotePopup",docgenInfo:EmotePopup.__docgenInfo,path:"src\\components\\GameFrame\\chat\\emotePopup.js"});var chatRoom_useStyles=Object(makeStyles.a)({root:{position:"fixed",top:60,right:0,bottom:0,width:260,padding:6,margin:"auto",borderRadius:6,backgroundColor:"#eee"},chatContainer:{flexDirection:"column",height:"100%"},chatArea:{height:1e3,borderRadius:6,backgroundColor:"#fff",overflowY:"auto"}}),ChatRoom=function(_ref2){var userData=_ref2.userData,_ref2$userInfo=_ref2.userInfo,userInfo=void 0===_ref2$userInfo?{}:_ref2$userInfo,userNow=_ref2.userNow,_ref2$chatData_mock=_ref2.chatData_mock,chatData_mock=void 0===_ref2$chatData_mock?[]:_ref2$chatData_mock,props=objectWithoutProperties_default()(_ref2,["userData","userInfo","userNow","chatData_mock"]);console.log("render",props),console.log(userInfo,userData);userInfo.id;var username=userInfo.username,chatUsername=(userInfo.isLoggedIn,username||userNow),roomId=userData&&userData[0].roomId,roomRef=Object(react.useRef)(null),classes=chatRoom_useStyles(),_useState=Object(react.useState)(chatData_mock),_useState2=slicedToArray_default()(_useState,2),chatData=_useState2[0],setChatData=_useState2[1],_useState3=Object(react.useState)(null),_useState4=slicedToArray_default()(_useState3,2),latestChat=_useState4[0],setLatestChat=_useState4[1],_useState5=Object(react.useState)(!1),_useState6=slicedToArray_default()(_useState5,2),emoteDisplay=_useState6[0],setEmoteDisplay=_useState6[1],handleSetLocalLatestChat=Object(react.useCallback)((function(val){var type=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",latestChat={id:chatData.length,username:chatUsername,type:type,chatContent:val};setChatData([].concat(toConsumableArray_default()(chatData),[latestChat])),setEmoteDisplay(!1)}),[userNow,chatData,userData,chatUsername]);return Object(react.useEffect)((function(){Gomoku_API.g.on("get_chat",(function(res){console.log(res,"socket get chat"),setLatestChat(res)}))}),[]),Object(react.useEffect)((function(){Object(fn.f)(roomRef.current)}),[chatData]),Object(react.useEffect)((function(){if(latestChat){var newChat=[].concat(toConsumableArray_default()(chatData),[latestChat]);setChatData(newChat),setLatestChat(null)}}),[latestChat]),console.log(chatData),react_default.a.createElement(Box.a,{className:classes.root},react_default.a.createElement(Box.a,{display:"flex",className:classes.chatContainer},react_default.a.createElement(Box.a,{className:classes.chatArea},react_default.a.createElement("div",{ref:function setRef(el){roomRef.current=el,console.log(roomRef.current)}},chatData?chatData.map((function(data){var id=data.id,username=data.username;return react_default.a.createElement(chatBubble,extends_default()({key:id,isMe:chatUsername===username},data))})):"loading...")),react_default.a.createElement(chatInput,{username:chatUsername,roomId:roomId,setLatestChat:handleSetLocalLatestChat,openEmoteFn:function openEmoteFn(){return setEmoteDisplay(!emoteDisplay)}},props.children,react_default.a.createElement(emotePopup,{username:chatUsername,roomId:roomId,emoteDisplay:emoteDisplay,setLatestEmoteChat:handleSetLocalLatestChat,closeFn:function closeFn(){return setEmoteDisplay(!1)}}))))};ChatRoom.displayName="ChatRoom";var chat_chatRoom=ChatRoom;ChatRoom.__docgenInfo={description:"",methods:[],displayName:"ChatRoom",props:{userInfo:{defaultValue:{value:"{}",computed:!1},required:!1},chatData_mock:{defaultValue:{value:"[]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\chat\\chatRoom.js"]={name:"ChatRoom",docgenInfo:ChatRoom.__docgenInfo,path:"src\\components\\GameFrame\\chat\\chatRoom.js"});__webpack_require__(96),__webpack_require__(219),__webpack_require__(149),__webpack_require__(148),__webpack_require__(128);var shopList=__webpack_require__(97),context=(__webpack_require__(208),__webpack_require__(31)),itemList=Object(shopList.c)(!1),Container=__webpack_require__(278);function signUp_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var signUp_useStyles=Object(makeStyles.a)({root:{position:"absolute",top:120,right:0,left:0,padding:10,maxWidth:300,height:230,margin:"auto",textAlign:"center","& .MuiTextField-root":{display:"block",margin:10}}}),signUp_ref2=react_default.a.createElement(Typography.a,{variant:"subtitle1"},"Sign UP"),SignUp=function(_ref){var setUserInfo=_ref.setUserInfo,closeFn=_ref.closeFn,classes=signUp_useStyles(),_useLazyQuery=Object(react_hooks_esm.a)(API.d),_useLazyQuery2=slicedToArray_default()(_useLazyQuery,2),queryUsers=_useLazyQuery2[0],data=_useLazyQuery2[1].data,_useState=Object(react.useState)({email:"",username:"",password:""}),_useState2=slicedToArray_default()(_useState,2),form=_useState2[0],setForm=_useState2[1],_useState3=Object(react.useState)(null),_useState4=slicedToArray_default()(_useState3,2),error=_useState4[0],setErr=_useState4[1],handleChange=Object(react.useCallback)((function(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setForm(function signUp_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?signUp_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):signUp_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},form,defineProperty_default()({},id,value)))}),[form]),handleSignUp=Object(react.useCallback)((function(){var username=form.username;queryUsers({variables:{userWhere:{username:username}}})}),[form,setErr]);return Object(react.useEffect)((function(){if(data){var sameUsernames=data.users;Object(API.k)(sameUsernames,form,setErr,setUserInfo).then((function(res){res&&closeFn()}))}}),[data]),console.log("usernameFromSignUp: ",data),react_default.a.createElement(Paper.a,{className:classes.root},signUp_ref2,react_default.a.createElement("form",{onChange:handleChange},react_default.a.createElement(TextField.a,{id:"email",margin:"normal",value:form.email,autoComplete:"email",placeholder:"email"}),react_default.a.createElement(TextField.a,{id:"username",margin:"normal",value:form.username,placeholder:"username"}),react_default.a.createElement(TextField.a,{id:"password",margin:"normal",value:form.password,type:"password",placeholder:"password"})),react_default.a.createElement(Button.a,{variant:"contained",onClick:handleSignUp},"Sign Up"),react_default.a.createElement(Typography.a,{color:"error"},error))};SignUp.displayName="SignUp";var loginSignIn_signUp=SignUp;function logIn_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}SignUp.__docgenInfo={description:"",methods:[],displayName:"SignUp"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\loginSignIn\\signUp.js"]={name:"SignUp",docgenInfo:SignUp.__docgenInfo,path:"src\\components\\GameFrame\\loginSignIn\\signUp.js"});var logIn_useStyles=Object(makeStyles.a)({root:{position:"absolute",top:120,right:0,left:0,padding:10,maxWidth:300,height:180,margin:"auto",textAlign:"center","& .MuiTextField-root":{display:"block",margin:10}}}),logIn_ref2=react_default.a.createElement(Typography.a,{variant:"subtitle1"},"Log In"),LogIn=function(_ref){var setUserInfo=_ref.setUserInfo,classes=logIn_useStyles(),_useState=Object(react.useState)({username:"",password:""}),_useState2=slicedToArray_default()(_useState,2),form=_useState2[0],setForm=_useState2[1],_useState3=Object(react.useState)(null),_useState4=slicedToArray_default()(_useState3,2),error=_useState4[0],setErr=_useState4[1],handleChange=Object(react.useCallback)((function(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setForm(function logIn_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?logIn_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):logIn_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},form,defineProperty_default()({},id,value)))}),[form]),handleLogIn=Object(react.useCallback)((function(){var username=form.username,password=form.password;Object(API.j)(username,password,setErr,setUserInfo)}),[form,setErr]);return react_default.a.createElement(Paper.a,{className:classes.root},logIn_ref2,react_default.a.createElement("form",{onChange:handleChange},react_default.a.createElement(TextField.a,{id:"username",margin:"normal",value:form.username,placeholder:"username"}),react_default.a.createElement(TextField.a,{id:"password",margin:"normal",value:form.password,type:"password",placeholder:"password"})),react_default.a.createElement(Button.a,{variant:"contained",onClick:handleLogIn},"Log In"),react_default.a.createElement(Typography.a,{color:"error"},error))};LogIn.displayName="LogIn";var logIn=LogIn;LogIn.__docgenInfo={description:"",methods:[],displayName:"LogIn"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\loginSignIn\\logIn.js"]={name:"LogIn",docgenInfo:LogIn.__docgenInfo,path:"src\\components\\GameFrame\\loginSignIn\\logIn.js"});var userInfo_useStyles=Object(styles_makeStyles.a)({root:{padding:10}}),UserInfo=function(_ref){var userInfo=_ref.userInfo,classes=userInfo_useStyles(),point=userInfo.point,rank=userInfo.rank;return react_default.a.createElement(Paper.a,{className:classes.root},react_default.a.createElement(Typography.a,{variant:"subtitle1"},"point: ",react_default.a.createElement("span",null,point)),react_default.a.createElement(Typography.a,{variant:"subtitle1"},"rank: ",react_default.a.createElement("span",null,rank)))};UserInfo.displayName="UserInfo";var loginSignIn_userInfo=UserInfo;function navBar_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function navBar_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?navBar_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):navBar_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}UserInfo.__docgenInfo={description:"",methods:[],displayName:"UserInfo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\loginSignIn\\userInfo.js"]={name:"UserInfo",docgenInfo:UserInfo.__docgenInfo,path:"src\\components\\GameFrame\\loginSignIn\\userInfo.js"});var navBar_useStyles=Object(styles_makeStyles.a)({root:{position:"fixed",justifyContent:"flex-end",top:0,left:0,width:"100%",height:48,backgroundColor:"#ddd","& h5":{padding:6}},back:{position:"fixed",top:48,left:0,width:"100%",height:"100vh"},backBG:{position:"absolute",top:0,bottom:0,right:0,left:0,margin:"auto",backgroundColor:"#ddd",opacity:.6},username:{}}),NavBar=function(_ref){var userInfo=_ref.userInfo,setUserInfo=_ref.setUserInfo,_useQuery=Object(react_hooks_esm.c)(API.d,{variables:{userWhere:{username:localStorage.getItem("username")||""}}}),loading=_useQuery.loading,data=_useQuery.data,classes=navBar_useStyles(),username=(userInfo.id,userInfo.username),isLoggedIn=(userInfo.point,userInfo.rank,userInfo.isLoggedIn),_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),signUp=_useState2[0],setSignUp=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),login=_useState4[0],setLogin=_useState4[1],handleClose=function(){setSignUp(!1),setLogin(!1)};return Object(react.useEffect)((function(){console.log(data),data&&data.users&&0<data.users.length&&setUserInfo(navBar_objectSpread({},data.users[0],{isLoggedIn:!0}))}),[data]),react_default.a.createElement(Container.a,null,react_default.a.createElement(Box.a,{display:"flex",className:classes.root},loading&&"loading...",!isLoggedIn&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Button.a,{onClick:function onClick(){return setSignUp(!signUp)}},"sign up"),react_default.a.createElement(Button.a,{onClick:function onClick(){return setLogin(!login)}},"log in")),isLoggedIn&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Box.a,{className:classes.username},react_default.a.createElement(Typography.a,{variant:"h5"},username),react_default.a.createElement(loginSignIn_userInfo,{userInfo:userInfo})),react_default.a.createElement(Button.a,{onClick:function handleLogOut(){localStorage.removeItem("username"),setUserInfo(navBar_objectSpread({},userInfo,{isLoggedIn:!1}))}},"log out"))),(signUp||login)&&react_default.a.createElement(Box.a,{className:classes.back},react_default.a.createElement(Box.a,{className:classes.backBG,onClick:handleClose}),signUp&&react_default.a.createElement(loginSignIn_signUp,{setUserInfo:setUserInfo,closeFn:handleClose}),login&&react_default.a.createElement(logIn,{setUserInfo:setUserInfo,closeFn:handleClose})))};NavBar.displayName="NavBar";function componentsWithLogIn_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var ComponentWithLoginSwitch=function(_ref){var Component=_ref.Component,props=objectWithoutProperties_default()(_ref,["Component"]),_useContext=Object(react.useContext)(context.c),userInfo=_useContext.userInfo,setUserInfo=_useContext.setUserInfo;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(Button.a,{color:"aaa"===userInfo.username?"primary":"secondary",onClick:function handleAAALogin(){Object(API.j)("aaa","aaaaaaaa",null,setUserInfo)}},"user: aaa"),react_default.a.createElement(Button.a,{color:"aa124"===userInfo.username?"primary":"secondary",onClick:function handleAA124Login(){Object(API.j)("aa124","aaa",null,setUserInfo)}},"user: aa124"),react_default.a.createElement(Component,function componentsWithLogIn_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?componentsWithLogIn_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):componentsWithLogIn_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}({},props,{userInfo:userInfo,setUserInfo:setUserInfo})))},ShopListWithLogin=function(props){return react_default.a.createElement(ComponentWithLoginSwitch,extends_default()({},props,{Component:function Component(props){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(shopList.b,props),react_default.a.createElement(itemList,props))}}))};ShopListWithLogin.displayName="ShopListWithLogin";var componentsWithLogIn_ref2=react_default.a.createElement(context.b,null,react_default.a.createElement(ShopListWithLogin,null)),ShopListWithCxt=function(){return componentsWithLogIn_ref2};ShopListWithCxt.displayName="ShopListWithCxt";var componentsWithLogIn_ref3=react_default.a.createElement(context.b,null,react_default.a.createElement((function(){var _useContext=Object(react.useContext)(context.c),userInfo=_useContext.userInfo,setUserInfo=_useContext.setUserInfo;return react_default.a.createElement(NavBar,{userInfo:userInfo,setUserInfo:setUserInfo})}),null)),NavBarWithCxt=function(){return componentsWithLogIn_ref3};NavBarWithCxt.displayName="NavBarWithCxt";var ChatRoomWithCxt=function(props){return react_default.a.createElement(context.b,null,react_default.a.createElement(ComponentWithLoginSwitch,extends_default()({},props,{Component:chat_chatRoom})))};ChatRoomWithCxt.displayName="ChatRoomWithCxt",ShopListWithCxt.__docgenInfo={description:"",methods:[],displayName:"ShopListWithCxt"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\componentsWithLogIn.js"]={name:"ShopListWithCxt",docgenInfo:ShopListWithCxt.__docgenInfo,path:"src\\components\\GameFrame\\componentsWithLogIn.js"}),NavBarWithCxt.__docgenInfo={description:"",methods:[],displayName:"NavBarWithCxt"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\componentsWithLogIn.js"]={name:"NavBarWithCxt",docgenInfo:NavBarWithCxt.__docgenInfo,path:"src\\components\\GameFrame\\componentsWithLogIn.js"}),ChatRoomWithCxt.__docgenInfo={description:"",methods:[],displayName:"ChatRoomWithCxt"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\componentsWithLogIn.js"]={name:"ChatRoomWithCxt",docgenInfo:ChatRoomWithCxt.__docgenInfo,path:"src\\components\\GameFrame\\componentsWithLogIn.js"});__webpack_require__(45),__webpack_require__(35),__webpack_require__(48);var useStyles_singleHexItem=Object(styles_makeStyles.a)({root:{position:"absolute",fontSize:32,left:function left(props){return 0===props.index?0:props.position.left},top:function top(props){return 0===props.index?0:props.position.top}}}),useStyles_hexSnake=Object(styles_makeStyles.a)({root:{position:"relative",transform:"translate(300px, 300px)"}}),numbers_mockData=(__webpack_require__(763),toConsumableArray_default()(Array(37).keys())),SingleHexItem=function(_ref){var _ref$index=_ref.index,index=void 0===_ref$index?1:_ref$index,number=_ref.number,position=function(width,index){var deg=0,radius=width;return 6>=index?deg=60*index:6<index&&18>=index?(deg=30*(index-6),radius=0==index%2?2*width:width*Math.sqrt(3)):18<index&&36>=index?(deg=20*(index-18),radius=0==index%3?3*width:width*Math.sqrt(7)):36<index&&60>=index&&(deg=15*(index-36),radius=0==index%4?4*width:1==index%4||3==index%4?width*Math.sqrt(13):width*Math.sqrt(12)),function(radius,deg){return{left:radius*Math.cos(deg*Math.PI/180),top:radius*Math.sin(deg*Math.PI/180)}}(radius,deg)}(62,index),classes=useStyles_singleHexItem({index:index,position:position});return react_default.a.createElement(Box.a,{className:"hexagon "+classes.root},number)};SingleHexItem.displayName="SingleHexItem";var HexSnake=function(_ref2){var _ref2$numbers=_ref2.numbers,numbers=void 0===_ref2$numbers?numbers_mockData:_ref2$numbers,classes=useStyles_hexSnake();return react_default.a.createElement(Container.a,{className:classes.root},numbers.map((function(num,i){return react_default.a.createElement(SingleHexItem,{key:num,index:i,number:num})})))};HexSnake.displayName="HexSnake",SingleHexItem.__docgenInfo={description:"",methods:[],displayName:"SingleHexItem",props:{index:{defaultValue:{value:"1",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\HexaNumberSnake\\hexaSnake.js"]={name:"SingleHexItem",docgenInfo:SingleHexItem.__docgenInfo,path:"src\\components\\HexaNumberSnake\\hexaSnake.js"}),HexSnake.__docgenInfo={description:"",methods:[],displayName:"HexSnake",props:{numbers:{defaultValue:{value:"[...Array(1 + 6 + 12 + 18).keys()]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\HexaNumberSnake\\hexaSnake.js"]={name:"HexSnake",docgenInfo:HexSnake.__docgenInfo,path:"src\\components\\HexaNumberSnake\\hexaSnake.js"});__webpack_require__(274),__webpack_require__(271),__webpack_require__(272),__webpack_require__(207)},768:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(33),__webpack_require__(22),__webpack_require__(15),__webpack_require__(125),__webpack_require__(17),__webpack_require__(121),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(16),__webpack_require__(8),__webpack_require__(2),__webpack_require__(0);var makeStyles=__webpack_require__(279);__webpack_require__(126);__webpack_require__.d(__webpack_exports__,"a",(function(){return checkIsBetween}));Object(makeStyles.a)({monthButton:{cursor:"pointer",backgroundColor:"#aaa",color:"#fff","&:hover":{backgroundColor:"#111"}}});var checkIsBetween=function(){var numSelected=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],dayId=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,LENGTH=numSelected.length;if(1===LENGTH){if(numSelected[0]===dayId)return!0}else if(2===LENGTH&&dayId>=numSelected[0]&&dayId<=numSelected[1])return!0;return!1}},769:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(33),__webpack_require__(365),__webpack_require__(45),__webpack_require__(17),__webpack_require__(105),__webpack_require__(121),__webpack_require__(126),__webpack_require__(35),__webpack_require__(188),__webpack_require__(366),__webpack_require__(48),__webpack_require__(2);var arr,toConsumableArray=__webpack_require__(3),toConsumableArray_default=__webpack_require__.n(toConsumableArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),lodash=__webpack_require__(72),lodash_default=__webpack_require__.n(lodash),makeStyles=(__webpack_require__(262),__webpack_require__(279)),shiftArr=function(){var arr=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return[arr[arr.length-1]].concat(toConsumableArray_default()(arr.slice(0,-1)))},from1To9=toConsumableArray_default()(Array(9).keys()).map((function(a){return{number:a+1,type:"normal"}})),sudokuArrDefault=[(arr=lodash_default.a.shuffle(from1To9)).slice(0,3),arr.slice(3,6),arr.slice(6,9)],randomBlankedPostion=lodash_default.a.sampleSize(toConsumableArray_default()(Array(80).keys()).map((function(a){return a+1})),40);console.log(randomBlankedPostion);Object(makeStyles.a)({popContainer:{position:"absolute",backgroundColor:"#fff",boxShadow:"0px 2px 10px #111",cursor:"pointer",width:"81px","& span":{width:27,display:"inline-block",textAlign:"center",userSelect:"none","&:hover":{backgroundColor:"#a0a",color:"#fff"}}}});var sudokuArr,blankedPostion,newArr,SUDOKU_handledSudokuArr=function(sudokuArr){for(var res=[],shifed=sudokuArr,i=0;9>i;i++){shifed=shiftArr(shifed),0==i%3&&0<i&&(shifed=shifed.map((function(s){return shiftArr(s)})));var newShifted=lodash_default.a.cloneDeep(shifed);res[i]=newShifted}return res}(sudokuArrDefault),SelectNumberPop=(sudokuArr=SUDOKU_handledSudokuArr,blankedPostion=randomBlankedPostion,newArr=lodash_default.a.cloneDeep(sudokuArr),blankedPostion.map((function(pos){return function(){var sudokuArr=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],number=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,newValue=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,arrNum=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[9,3,3],i=~~((number-1)/arrNum[0]),j=~~((number-1)%arrNum[0]/arrNum[1]),k=(number-1)%arrNum[0]%arrNum[1];return sudokuArr[i][j][k]={number:newValue,type:"blank"},[i,j,k]}(newArr,pos,"")})),function(_ref2){var left=_ref2.left,top=_ref2.top,className=_ref2.className,setBlockNum=_ref2.setBlockNum,blockPos=_ref2.blockPos;return react_default.a.createElement("div",{style:{left:left,top:top},className:className},from1To9.map((function(key){return react_default.a.createElement("span",{key:key.number,onClick:setBlockNum.bind(void 0,key.number,blockPos)},key.number)})))});SelectNumberPop.displayName="SelectNumberPop"},96:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(111);var helpers_extends=__webpack_require__(23),extends_default=__webpack_require__.n(helpers_extends),slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),Paper=__webpack_require__(175),Typography=__webpack_require__(54),makeStyles=__webpack_require__(279),getTime=function(timeSec){var min=~~(timeSec/60),sec=timeSec%60;return{min:10>min?"0"+min:min,sec:10>sec?"0"+sec:sec}},useStyles=Object(makeStyles.a)({root:{display:"inline-block",width:90,margin:10,padding:10,textAlign:"center","& h5":{fontWeight:100,letterSpacing:1}}}),NormalTimerLayout=function(_ref){var timeNow=_ref.timeNow,classes=useStyles(),_getTime=getTime(timeNow),min=_getTime.min,sec=_getTime.sec;return react_default.a.createElement(Paper.a,{className:classes.root},react_default.a.createElement(Typography.a,{variant:"h5"},min+":"+sec))};NormalTimerLayout.displayName="NormalTimerLayout";var normalTimerLayout=NormalTimerLayout;NormalTimerLayout.__docgenInfo={description:"",methods:[],displayName:"NormalTimerLayout"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Timer\\normalTimerLayout.js"]={name:"NormalTimerLayout",docgenInfo:NormalTimerLayout.__docgenInfo,path:"src\\components\\Timer\\normalTimerLayout.js"});__webpack_require__(33);var littleTimerLayout_useStyles=Object(makeStyles.a)({root:{display:"inline-block"}}),LittleTimerLayout=function(_ref){var timeNow=_ref.timeNow,classes=littleTimerLayout_useStyles(),_getTime=getTime(timeNow),min=_getTime.min,sec=_getTime.sec;return react_default.a.createElement(Typography.a,{className:classes.root,variant:"subtitle1"},"(".concat(min,":").concat(sec,")"))};LittleTimerLayout.displayName="LittleTimerLayout";var littleTimerLayout=LittleTimerLayout;LittleTimerLayout.__docgenInfo={description:"",methods:[],displayName:"LittleTimerLayout"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Timer\\littleTimerLayout.js"]={name:"LittleTimerLayout",docgenInfo:LittleTimerLayout.__docgenInfo,path:"src\\components\\Timer\\littleTimerLayout.js"}),__webpack_require__.d(__webpack_exports__,"a",(function(){return LittleTimer}));var mockFn=function(){window.alert("time out!")},Timer=function(_ref){var timerRef=_ref.timerRef,_ref$timeoutFn=_ref.timeoutFn,timeoutFn=void 0===_ref$timeoutFn?mockFn:_ref$timeoutFn,_ref$time=_ref.time,time=void 0===_ref$time?333:_ref$time,isPause=_ref.isPause,_ref$countDown=_ref.countDown,countDown=void 0===_ref$countDown||_ref$countDown,LayoutComponent=_ref.LayoutComponent,thisTimer=Object(react.useRef)(),_useState=Object(react.useState)(time),_useState2=slicedToArray_default()(_useState,2),timeNow=_useState2[0],setTimeNow=_useState2[1];return Object(react.useEffect)((function(){if(countDown&&0===timeNow&&(timeoutFn&&timeoutFn(),setTimeNow(time)),!isPause){var newTime=countDown?timeNow-1:timeNow+1;return thisTimer.current=setInterval((function(){setTimeNow(newTime)}),1e3),function(){return clearInterval(thisTimer.current)}}}),[timeNow,isPause]),Object(react.useImperativeHandle)(timerRef,(function(){return{resetTimer:function resetTimer(){setTimeNow(time)},getTimerTime:function getTimerTime(){return timeNow}}})),react_default.a.createElement(LayoutComponent,{timeNow:timeNow})};Timer.displayName="Timer";var TimerWithLayout=function(LayoutComponent){return Object(react.forwardRef)((function(props,ref){return react_default.a.createElement(Timer,extends_default()({},props,{timerRef:ref,LayoutComponent:LayoutComponent}))}))},NormalTimer=TimerWithLayout(normalTimerLayout),LittleTimer=TimerWithLayout(littleTimerLayout);__webpack_exports__.b=NormalTimer},97:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(22),__webpack_require__(15),__webpack_require__(365),__webpack_require__(17),__webpack_require__(26),__webpack_require__(11),__webpack_require__(28),__webpack_require__(29),__webpack_require__(20),__webpack_require__(127),__webpack_require__(366),__webpack_require__(16);var helpers_extends=__webpack_require__(23),extends_default=__webpack_require__.n(helpers_extends),slicedToArray=__webpack_require__(2),slicedToArray_default=__webpack_require__.n(slicedToArray),defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_hooks_esm=__webpack_require__(56),API=__webpack_require__(21),Button=__webpack_require__(90),Paper=__webpack_require__(175),Typography=__webpack_require__(54),Box=__webpack_require__(27),config=__webpack_require__(115),styles=__webpack_require__(107),fn=__webpack_require__(216),toConsumableArray=(__webpack_require__(33),__webpack_require__(3)),toConsumableArray_default=__webpack_require__.n(toConsumableArray);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var context=__webpack_require__(31),actions=__webpack_require__(64);function shopList_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function shopList_objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?shopList_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):shopList_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}__webpack_require__.d(__webpack_exports__,"a",(function(){return ShopListWithCtxWithoutDB})),__webpack_require__.d(__webpack_exports__,"c",(function(){return shopOrItemList}));var _ref2=react_default.a.createElement(Button.a,{disabled:!0},"bought"),SingleShopItem=function(_ref){var _ref$isShop=_ref.isShop,isShop=!(void 0!==_ref$isShop)||_ref$isShop,itemInfo=_ref.itemInfo,buyFn=_ref.buyFn,id=itemInfo.id,itemName=itemInfo.itemName,itemPrice=itemInfo.itemPrice,itemImgSrc=itemInfo.itemImgSrc,itemCount=itemInfo.itemCount,isOnlyOne=itemInfo.isOnlyOne,classes=Object(styles.f)(),isBought=0<itemCount&&isOnlyOne;return react_default.a.createElement(Paper.a,{className:classes.root,onClick:function handleBuy(){buyFn(!isBought&&isShop?shopList_objectSpread({},itemInfo,{itemId:id,itemMaxCount:isOnlyOne?1:99}):itemInfo)}},react_default.a.createElement(Typography.a,{variant:"h6"},itemName),react_default.a.createElement(Box.a,null,react_default.a.createElement("img",{className:classes.img,src:itemImgSrc,alt:"itemPic"})),!isOnlyOne&&react_default.a.createElement(Typography.a,{className:classes.countNumber},"x ".concat(itemCount||0)),isShop&&react_default.a.createElement((function BuyButton(){return isBought?_ref2:react_default.a.createElement(Button.a,{variant:"contained"},"C "+itemPrice)}),null))};SingleShopItem.displayName="SingleShopItem";var ShopHeader=function(_ref3){var _ref3$gameCoin=_ref3.gameCoin,gameCoin=void 0===_ref3$gameCoin?0:_ref3$gameCoin,closeFn=_ref3.closeFn;return react_default.a.createElement(Box.a,{display:"flex"},react_default.a.createElement(Typography.a,null,"Coin x ".concat(gameCoin)),react_default.a.createElement(Button.a,{variant:"contained",onClick:closeFn},"X"))};ShopHeader.displayName="ShopHeader";var ConfirmPopup=function(_ref4){var _useMutation3,isOnlyCtx=_ref4.isOnlyCtx,itemInfo=_ref4.itemInfo,userInfo=_ref4.userInfo,setUserInfo=_ref4.setUserInfo,cancelBuyFn=_ref4.cancelBuyFn,_itemInfo$itemName=itemInfo.itemName,itemName=void 0===_itemInfo$itemName?"aaa":_itemInfo$itemName,_itemInfo$itemPrice=itemInfo.itemPrice,itemPrice=void 0===_itemInfo$itemPrice?99:_itemInfo$itemPrice,_itemInfo$itemImgSrc=itemInfo.itemImgSrc,itemImgSrc=void 0===_itemInfo$itemImgSrc?config.a:_itemInfo$itemImgSrc,_itemInfo$itemMaxCoun=itemInfo.itemMaxCount,itemMaxCount=void 0===_itemInfo$itemMaxCoun?5:_itemInfo$itemMaxCoun,dispatch=(itemInfo.type,Object(react.useContext)(context.c).dispatch),username=userInfo?userInfo.username:"aaa",classes=Object(styles.b)(),updateUserBuyList=(_useMutation3=Object(react_hooks_esm.b)(API.g),slicedToArray_default()(_useMutation3,1)[0]),createUserBuyList=function(username){var _useMutation=Object(react_hooks_esm.b)(API.a,{update:function update(cache,_ref){var createUserbuylist=_ref.data.createUserbuylist;console.log(createUserbuylist);var originData=cache.readQuery({query:API.c,variables:{userWhere:{username:username}}});cache.writeQuery({query:API.c,variables:{userWhere:{username:username}},data:_objectSpread({},originData,{userbuylists:[].concat(toConsumableArray_default()(originData.userbuylists),[createUserbuylist.userbuylist])})})},refetchQueries:[{query:API.c,variables:{username:username}}]});return slicedToArray_default()(_useMutation,1)[0]}(username),createUserEmoteList=function(username){var _useMutation5=Object(react_hooks_esm.b)(API.b,{refetchQueries:[{query:API.e,variables:{userWhere:{username:username}}}]});return slicedToArray_default()(_useMutation5,1)[0]}(username),_useMutation=Object(react_hooks_esm.b)(API.f),updateUser=slicedToArray_default()(_useMutation,1)[0],_useState=Object(react.useState)(1),_useState2=slicedToArray_default()(_useState,2),count=_useState2[0],setCount=_useState2[1],totalPrice=itemPrice*count,handleChangeCount=Object(react.useCallback)((function(e){var value=e.target.value;value<=itemMaxCount&&1<=value&&setCount(value),console.log(value)}),[count]),handleConfirmBuy=Object(react.useCallback)((function(){var numCount=parseInt(count),itemId=itemInfo.itemId,userbuylistId=itemInfo.userbuylistId,itemCount=itemInfo.itemCount,emoteId=itemInfo.emoteId,remainPoints=parseInt(userInfo.point)-parseInt(totalPrice);if(isOnlyCtx){var id=itemInfo.id;dispatch&&dispatch(Object(actions.b)(id,numCount)),cancelBuyFn()}else 0<=remainPoints&&(Object(API.n)(updateUser,setUserInfo,{userInfo:userInfo,remainPoints:remainPoints}),console.log(itemInfo),function updateList(){userbuylistId?Object(API.m)(updateUserBuyList,cancelBuyFn,{userbuylistId:userbuylistId,itemCount:itemCount,numCount:numCount}):Object(API.i)(createUserBuyList,createUserEmoteList,cancelBuyFn,{username:username,itemId:itemId,numCount:numCount,emoteId:emoteId})}())}),[count,totalPrice,itemInfo]);return react_default.a.createElement(Box.a,null,react_default.a.createElement(Paper.a,{className:classes.root},react_default.a.createElement(Typography.a,null,itemName),react_default.a.createElement("img",{src:itemImgSrc,alt:"itemImage"}),react_default.a.createElement(Box.a,null,react_default.a.createElement("input",{type:"number",value:count,onChange:handleChangeCount})),react_default.a.createElement(Typography.a,null,totalPrice),react_default.a.createElement(Box.a,null,react_default.a.createElement(Button.a,{onClick:handleConfirmBuy},"confirm"),react_default.a.createElement(Button.a,{onClick:cancelBuyFn},"cancel"))))};ConfirmPopup.displayName="ConfirmPopup";var _ref7=react_default.a.createElement("hr",null),ShopList=function(_ref5){var isShop=_ref5.isShop,_ref5$isOnlyCtx=_ref5.isOnlyCtx,_ref5$shopData=_ref5.shopData,shopData=void 0===_ref5$shopData?config.c:_ref5$shopData,userInfo=_ref5.userInfo,setUserInfo=_ref5.setUserInfo,_ref5$consumedItemFns=_ref5.consumedItemFns,consumedItemFns=void 0===_ref5$consumedItemFns?[]:_ref5$consumedItemFns,closeFn=_ref5.closeFn,dispatch=Object(react.useContext)(context.c).dispatch,_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),popupConfirm=_useState4[0],setPopupConfirm=_useState4[1],_useState5=Object(react.useState)("consumables"),_useState6=slicedToArray_default()(_useState5,2),selectedShopType=_useState6[0],setType=_useState6[1],_useState7=Object(react.useState)(null),_useState8=slicedToArray_default()(_useState7,2),popupItemInfo=_useState8[0],setInfo=_useState8[1],classes=Object(styles.e)(),handleOpenConfirmBuy=function(itemInfo){if(isShop)setInfo(itemInfo);else{var id=itemInfo.id,itemName=itemInfo.itemName;0<consumedItemFns.length&&consumedItemFns.forEach((function(obj){obj.itemName===itemName&&obj.fn()})),dispatch&&dispatch(Object(actions.c)(id,1))}};Object(react.useEffect)((function(){popupItemInfo&&setPopupConfirm(!0)}),[popupItemInfo]),console.log(shopData);var ShopListFromData=function(_ref6){var _ref6$type=_ref6.type,type=void 0===_ref6$type?"consumables":_ref6$type,shopData=_ref6.shopData;return react_default.a.createElement(react_default.a.Fragment,null,shopData.filter((function(data){return data.type===type})).map((function(data){return react_default.a.createElement(SingleShopItem,{key:data.id,isShop:isShop,itemInfo:shopList_objectSpread({},data,{itemImgSrc:function itemImgSrc(){var url;return(url="emote"===type?data.emote.emoteImg.url:data.itemImgSrc.url).includes("http")?url:API.h+url}()}),buyFn:handleOpenConfirmBuy})})))};return react_default.a.createElement(Box.a,{className:classes.root},react_default.a.createElement(Box.a,{className:classes.back,onClick:closeFn}),react_default.a.createElement(Paper.a,{className:classes.shopList},react_default.a.createElement(ShopHeader,{gameCoin:userInfo&&userInfo.point,closeFn:closeFn}),react_default.a.createElement(Box.a,{className:classes.container},react_default.a.createElement(Button.a,{color:"consumables"===selectedShopType?"primary":"default",onClick:function onClick(){return setType("consumables")}},"consumables"),react_default.a.createElement(Button.a,{color:"emote"===selectedShopType?"primary":"default",onClick:function onClick(){return setType("emote")}},"emote"),_ref7,"consumables"===selectedShopType&&react_default.a.createElement(ShopListFromData,{type:"consumables",shopData:shopData}),"emote"===selectedShopType&&react_default.a.createElement(ShopListFromData,{type:"emote",shopData:shopData}))),popupConfirm&&react_default.a.createElement(ConfirmPopup,{isOnlyCtx:!(void 0!==_ref5$isOnlyCtx)||_ref5$isOnlyCtx,itemInfo:popupItemInfo,userInfo:userInfo,setUserInfo:setUserInfo,cancelBuyFn:function cancelBuyFn(){return setPopupConfirm(!1)}}))};ShopList.displayName="ShopList";var ShopListWithCtxWithoutDB=function(props){var contextProps=Object(react.useContext)(context.c);return react_default.a.createElement(ShopList,extends_default()({},props,contextProps,{isOnlyCtx:!0,shopData:contextProps.shopList}))};ShopListWithCtxWithoutDB.displayName="ShopListWithCtxWithoutDB";var shopOrItemList=function(isShop){return function(_ref8){var mergedShopListsData,userInfo=_ref8.userInfo,setUserInfo=_ref8.setUserInfo,username=userInfo?userInfo.username:"aaa",_useQuery=Object(react_hooks_esm.c)(API.c,{variables:{userWhere:{username:username}}}),loading=_useQuery.loading,data=(_useQuery.error,_useQuery.data);return loading?"loading...":userInfo&&!userInfo.isLoggedIn?"please log in first~":(data&&(mergedShopListsData=Object(fn.b)(data),!isShop&&(mergedShopListsData=mergedShopListsData.filter((function(data){return 0<data.itemCount}))),console.log(mergedShopListsData)),react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ShopList,extends_default()({},{isShop:isShop,userInfo:userInfo,setUserInfo:setUserInfo},{shopData:mergedShopListsData}))))}};__webpack_exports__.b=shopOrItemList(!0);ShopList.__docgenInfo={description:"",methods:[],displayName:"ShopList",props:{isOnlyCtx:{defaultValue:{value:"true",computed:!1},required:!1},shopData:{defaultValue:{value:"shopData_mockData",computed:!0},required:!1},consumedItemFns:{defaultValue:{value:"[]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\shopList.js"]={name:"ShopList",docgenInfo:ShopList.__docgenInfo,path:"src\\components\\GameFrame\\shopList.js"}),ShopListWithCtxWithoutDB.__docgenInfo={description:"",methods:[],displayName:"ShopListWithCtxWithoutDB"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GameFrame\\shopList.js"]={name:"ShopListWithCtxWithoutDB",docgenInfo:ShopListWithCtxWithoutDB.__docgenInfo,path:"src\\components\\GameFrame\\shopList.js"})},99:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ADD_STATS})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MINUS_STATS})),__webpack_require__.d(__webpack_exports__,"b",(function(){return BUY_ITEM})),__webpack_require__.d(__webpack_exports__,"c",(function(){return CONSUME_ITEM}));var ADD_STATS="ADD_STATS",MINUS_STATS="MINUS_STATS",BUY_ITEM="BUY_ITEM",CONSUME_ITEM="CONSUME_ITEM"}},[[424,1,2]]]);
//# sourceMappingURL=main.9ca9a38e5bc4879a266f.bundle.js.map